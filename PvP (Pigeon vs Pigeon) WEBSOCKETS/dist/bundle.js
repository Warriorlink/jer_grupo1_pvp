(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("AveMaria","assets/sounds/AveMaria.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.add.image(480,270,"Fondo"),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,100,"PvP",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic||(this.bgMusic=this.sound.add("AveMaria",{loop:!0,volume:.5}),this.bgMusic.play()),this.connectionText=this.add.text(480,180,"Server: Checking...",{fontSize:"24px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.image(250,360,"botonEncima").setInteractive({useHandCursor:!0}),this.add.text(250,360,"Local (Not Available)",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10);const e=this.add.image(700,360,"boton").setInteractive({useHandCursor:!0});this.add.text(700,360,"Online",{fontSize:"24px",color:"#000000ff"}).setOrigin(.5).setDepth(10),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{console.log("[MenuScene] Online button clicked"),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.scene.stop("LobbyScene"),this.cameras.main.setAlpha(1),this.scene.start("LobbyScene")});const s=this.add.image(250,500,"boton").setInteractive({useHandCursor:!0});this.add.text(250,500,"Credits",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"CreditsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const i=this.add.image(700,500,"boton").setInteractive({useHandCursor:!0});this.add.text(700,500,"Options",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")),i.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"OptionsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const o=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Controls",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),o.on("pointerover",()=>o.setTexture("botonEncima")),o.on("pointerout",()=>o.setTexture("boton")),o.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"ControlsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const a=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Story",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),a.on("pointerover",()=>a.setTexture("botonEncima")),a.on("pointerout",()=>a.setTexture("boton")),a.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"StoryScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Server: ${e.count} user(s) connected`),this.connectionText.setColor("#ffffffff")):(this.connectionText.setText("Server: Disconnected"),this.connectionText.setColor("#ff0000ff"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i{constructor(e,t,s,i,o){this.scene=e,this.id=t,this.character=o,this.score=0,this.speed=300,this.jumpSpeed=630,this.attackRange=40,this.attackForce=200,this.stunForce=1e3,this.attackCooldown=500,this.lastAttackTime=0,this.facing="right",this.stunned=!1,this.stunTimeout=null,this.defaultStunDuration=1e3,this.knockbackExpire=null,this.isAttacking=!1,this.currentAnim="idle";let a=null;"palomon"===o?a="palomonSheet":"dovenando"===o?a="dovenandoSheet":(console.error("Personaje desconocido:",o),a="palomonSheet"),this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.body.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.pigeon=this,this.invertFlipForMovement="dovenando"===o,this.sprite.setFlipX(this.invertFlipForMovement)}canAttack(e){return(e=e||this.scene.time.now)-this.lastAttackTime>=this.attackCooldown}markAttacked(e){this.lastAttackTime=e||this.scene.time.now}playAnimation(e){if(this.isAttacking)return;const t=`${this.character}_${e}`;this.scene.anims.exists(t)?this.sprite.anims.play(t,!0):console.warn(`Animación no existe: ${t}`)}takeHit(e=0){this.sprite.setVelocityX(e),this.knockbackExpire=this.scene.time.now+120,this.scene.time.delayedCall(120,()=>{this.stunned&&this.sprite.setVelocityX(0)}),this.stunned||(this.sprite.setTint(16711680),this.scene.time.delayedCall(200,()=>{this.stunned||this.sprite.clearTint()}))}stun(e){e=null==e?this.defaultStunDuration:e,this.stunned||(this.stunned=!0,this.sprite.setTint(10066431),this.sprite.setVelocityX(0),this.sprite.setAccelerationX(0),this.sprite.setDamping(!0),this.sprite.setDragX(900),this.stunTimeout=this.scene.time.delayedCall(e,()=>{this.stunned=!1,this.sprite.clearTint(),this.sprite.setDamping(!1),this.sprite.setDragX(0),this.stunTimeout=null}))}startAttackAnimation(){if(this.isAttacking)return;this.isAttacking=!0;const e=`${this.character}_attack`;this.scene.anims.exists(e)&&this.sprite.anims.play(e,!0),this.sprite.setFlipX("left"===this.facing?!this.invertFlipForMovement:this.invertFlipForMovement),this.scene.time.delayedCall(250,()=>{this.endAttackAnimation()})}endAttackAnimation(){this.isAttacking=!1,0===this.sprite.body.velocity.x?this.playAnimation("idle"):this.playAnimation("walk")}showAttackSprite(e=250){const t=this.scene,s="dovenando"===this.character?"dovenandoAttack":"palomonAttack",i=t.add.sprite(this.sprite.x,this.sprite.y,s);i.setOrigin(.5,.5),i.setDepth(this.sprite.depth+1);const o="right"===this.facing?20:-20;i.x+=o,i.setFlipX("left"===this.facing);const a=t.time.addEvent({delay:16,loop:!0,callback:()=>{i.x=this.sprite.x+o,i.y=this.sprite.y}});t.time.delayedCall(e,()=>{a.remove(!1),i.destroy()})}addScore(e){this.score+=e,console.log(`${this.id} recogió un Churro → score: ${this.score}`)}applyModifier(e,t,s){this.hasOwnProperty(e)?(this[e]+=t,this.scene.time.addEvent({delay:s,callback:()=>{this[e]-=t}})):console.warn(`La propiedad ${e} no existe en la paloma.`)}}class o{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class a{execute(){}serialize(){}getPlayer(){}}class n extends a{constructor(e,t=0,s=!1){super(),this.pigeon=e,this.moveX=t,this.jump=s}execute(){const e=this.pigeon,t=e.sprite;if(e.stunned)return t.setVelocityX(0),void e.playAnimation("idle");if(this.moveX>0?e.facing="right":this.moveX<0&&(e.facing="left"),0!==this.moveX){const s=e.invertFlipForMovement?this.moveX>0:this.moveX<0;t.setFlipX(s)}if(t.setVelocityX(this.moveX*e.speed),0!==this.moveX?(e.playAnimation("walk"),e.currentAnim="walk"):(e.playAnimation("idle"),e.currentAnim="idle"),this.jump){const s=t.body;s&&("function"==typeof s.onFloor?s.onFloor():s.blocked&&s.blocked.down||s.touching&&s.touching.down)&&t.setVelocityY(-e.jumpSpeed)}}}class r extends a{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class c extends a{constructor(e){super(),this.pigeon=e}execute(){const e=this.pigeon.scene;this.pigeon.currentAnim="attack",this.pigeon.startAttackAnimation(),this.pigeon.showAttackSprite(250),e.sound.play("SonidoAtaque",{volume:.7});const t="right"===this.pigeon.facing?1:-1,s=this.pigeon.sprite.x+t*this.pigeon.attackRange,i=this.pigeon.sprite.y,o=e.physics.add.sprite(s,i,null);o.setVisible(!1),o.body.setAllowGravity(!1),o.body.setImmovable(!0),o.setSize(this.pigeon.attackRange,.6*this.pigeon.baseHeight);const a=e.physics.add.overlap(o,e.playerSprites,(s,i)=>{if(i===this.pigeon.sprite)return;const o=i.pigeon;if(!o)return;if(o.id===this.pigeon.id)return;const n=this.pigeon.attackForce*t;o.stun(this.pigeon.stunForce),o.takeHit(n),e.physics?.world&&a&&e.physics.world.removeCollider(a)});e.time.delayedCall(120,()=>{e.physics?.world&&a&&e.physics.world.removeCollider(a),o?.destroy()})}}class h{constructor(e,t,s,i){this.scene=e,this.sprite=e.physics.add.sprite(t,s,i),this.sprite.setDisplaySize(40,40),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.expireTimer=null}applyEffect(e){console.warn("applyEffect() no implementado en el item")}showItemIcon(e,t,s){e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null);let i=null;i=this.scene.scoreTextP1&&this.scene.scoreTextP2?"player1"===e.id?this.scene.scoreTextP1.x+25:this.scene.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.scene.add.image(i,85,t),e.activeIconSprite.setDisplaySize(50,50),e.activeIconTimer=this.scene.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null)}})}destroy(){this.sprite.destroy()}}class l extends h{constructor(e,t,s){super(e,t,s,"churroSheet"),this.sprite.play("churro_anim")}applyEffect(e){this.scene.sound.play("SonidoChurro",{volume:.5}),e.addScore(1)}}class d extends h{constructor(e,t,s){super(e,t,s,"avena")}applyEffect(e){const t=5e3;this.scene.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(e,"iconAvena",t),e.applyModifier("attackForce",300,t),e.applyModifier("stunForce",1e3,t)}}class p extends h{constructor(e,t,s){super(e,t,s,"pluma")}applyEffect(e){this.scene.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(e,"iconPluma",5e3),e.applyModifier("speed",200,5e3)}}class m extends h{constructor(e,t,s){super(e,t,s,"basura")}applyEffect(e){this.scene.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(e,"iconBasura",5e3),e.applyModifier("speed",-100,5e3)}}class u extends e.Scene{constructor(){super("GameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"]}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.time.addEvent({delay:5e3,loop:!0,callback:()=>{null===this.churro&&this.spawnItem("churro")}}),this.time.addEvent({delay:7e3,loop:!0,callback:()=>{null===this.powerUp&&this.spawnItem(e.Utils.Array.GetRandom(this.powerUps))}}),this.events.on("shutdown",this.shutdown,this),this.events.on("destroy",this.shutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=l;break;case"avena":s="powerUp",i=d;break;case"pluma":s="powerUp",i=p;break;case"basura":s="powerUp",i=m;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),a=e.Utils.Array.GetRandom(o),n=new i(this,a.x,a.y);if(this[s]=n,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,n.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;n.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===n&&this.deleteItem(n)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;e.leftKeyObj.isDown?s=-1:e.rightKeyObj.isDown&&(s=1);const i=e.upKeyObj.isDown;let o=new n(t,s,i);if(this.processor.process(o),e.attackKeyObj&&e.attackKeyObj.isDown){const e=new c(t);this.processor.process(e)}this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class f extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"Game Paused",{fontSize:"64px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const t=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Resume",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()});const s=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Return to Menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class g extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Credits",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Game developed by GB3D",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.add.text(480,250,"Artist:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,290,"Hugo Checa",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,350,"Programmers:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,390,"Alejandro Marín",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,425,"Lucas Lorente",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,460,"Miguel Amado",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,510,"boton").setInteractive({useHandCursor:!0});this.add.text(480,510,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class y extends e.Scene{constructor(){super("ControlsScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Controls",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Player 1",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,200,"Move: W - A - D (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,240,"Attack: F",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,300,"Pause: Esc",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,360,"Player 2 (Local)",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,410,"Move: ↑ - ← - → (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,450,"Attack: Shift",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class S extends e.Scene{constructor(){super("EndGameScene")}init(e){this.ws=e.ws}preload(){this.load.audio("SweetVictory","assets/sounds/SweetVictory.mp3"),this.load.image("DovenandoVictory","assets/sprites/pantalla victoria dovenando.png"),this.load.image("PalomonVictory","assets/sprites/pantalla victoria palomon.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){console.log("[EndGameScene] create called, data:",e),this.cameras.main.setAlpha(0),this.events.on("shutdown",()=>{console.log("[EndGameScene] SHUTDOWN")},this),this.events.on("destroy",()=>{console.log("[EndGameScene] DESTROY")},this);const t="player1"===e.winnerId,s=t===("player1"===e.localPlayerId),i=t?"DovenandoVictory":"PalomonVictory";this.add.image(480,270,i),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const o=s?"SUPREME VICTORY!":"CRUSHING DEFEAT";this.add.text(480,200,o,{fontSize:"104px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const a=t?"Dovenando Wins!":"Palomón Wins!";this.add.text(480,300,a,{fontSize:"60px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.bgMusic=this.sound.add("SweetVictory",{loop:!0,volume:.6}),this.bgMusic.play(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this);const n=this.add.image(480,460,"boton").setInteractive({useHandCursor:!0});this.add.text(480,460,"Return to menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),n.on("pointerover",()=>n.setTexture("botonEncima")),n.on("pointerout",()=>n.setTexture("boton")),n.on("pointerdown",()=>{console.log("[EndGameScene] Return to menu clicked"),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.start("MenuScene")})}onShutdown(){this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class k extends e.Scene{constructor(){super("StoryScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Story",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,120,"In some nameless city, on a damp and murky night, two pigeons wandered through the alleys in search of something to calm their hunger.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,170,"The alluring fragrance of a few forgotten churros awakens in them a fierce blend of survival and greed, and before long the situation erupts into open warfare.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,230,"Though there are neither heroes nor villains, each firmly believes that the churro is hers by birthright. Morality falters, friendship fades… there are only churros left.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(200,270,"Dovenando",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(220,430,'A cunning, slippery bird, skilled in the art of stealth. His guiding principle: "All churros belong to someone… and that someone is me."',{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(200,340,"dovenando").setOrigin(.5).setScale(1.5),this.add.text(770,270,"Palomón",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(750,430,"A tough pigeon with a dark history. He once belonged to the avian mafia and is well acquainted with the perils of the streets and gang fights.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(770,340,"palomon").setOrigin(.5).setScale(1.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class v extends e.Scene{constructor(){super("OptionsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("slider_bar","assets/sprites/slider_bar.png"),this.load.image("slider_button","assets/sprites/slider_button.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Options",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,240,"Volume",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=(this.add.image(480,300,"slider_bar").setDisplaySize(300,20).setOrigin(.5),this.add.image(480,300,"slider_button").setDisplaySize(40,40).setInteractive({draggable:!0}).setOrigin(.5));t.x=330+300*this.sound.volume,this.input.setDraggable(t),this.input.on("drag",(s,i,o,a)=>{if(i!==t)return;t.x=e.Math.Clamp(o,330,630);const n=(t.x-330)/300;this.sound.volume=n});const s=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class b extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"CONNECTION LOST",{fontSize:"64px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,300,"Attempting to reconnect...",{fontSize:"24px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(480,350,"Attempts: 0",{fontSize:"18px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Attempting to reconnect${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Attempts: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("Connection restored!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class x extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}preload(){this.load.audio("Ascensor","assets/sounds/CancionEspera.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png")}create(){console.log("[LobbyScene] create() called"),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const e=this.cameras.main.width;this.cameras.main.height,this.add.image(480,270,"Fondo"),this.bgMusic||(this.bgMusic=this.sound.add("Ascensor",{loop:!0,volume:.5}),this.bgMusic.play()),this.add.text(e/2,100,"Online Multiplayer",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,200,"Connecting to server...",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.playerCountText=this.add.text(480,300,"",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")),t.on("pointerdown",()=>{this.leaveQueue(),this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.cameras.main.setAlpha(1),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{console.log("[LobbyScene] connectToServer()");const e=`ws://${window.location.host}`;console.log("[LobbyScene] WS URL:",e),this.ws=new WebSocket(e),console.log("[LobbyScene] WS instance created",this.ws),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class w extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.roomId=e.roomId,this.players=new Map,this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.playerRole=e.playerRole,this.roleText=null,this.localPaloma=null,this.remotePaloma=null,this.localScore=0,this.remoteScore=0,this.keys,this.churroOverlap=null,this.powerUpOverlap=null}#e;preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.image("Desconexion","assets/sprites/desconexion.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}#t;create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},this.events.on("shutdown",()=>{console.log("[MultiplayerGameScene] SHUTDOWN event fired")},this),this.events.on("destroy",()=>{console.log("[MultiplayerGameScene] DESTROY event fired")},this),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background");const t="player1"===this.playerRole?"You are Dovenando":"You are Palomon";this.add.text(480,20,t,{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.keys=this.input.keyboard.addKeys({up:e.Input.Keyboard.KeyCodes.W,left:e.Input.Keyboard.KeyCodes.A,right:e.Input.Keyboard.KeyCodes.D,attack:e.Input.Keyboard.KeyCodes.F}),this.createPlatforms(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.createAnimations(),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.setUpPlayers(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.setupWebSocketListeners()}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createAnimations(){this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){"player1"===this.playerRole?(this.localPaloma=new i(this,"player1",150,435,"dovenando"),this.remotePaloma=new i(this,"player2",800,435,"palomon")):(this.localPaloma=new i(this,"player2",800,435,"palomon"),this.remotePaloma=new i(this,"player1",150,435,"dovenando")),this.players.set(this.localPaloma.id,this.localPaloma),this.players.set(this.remotePaloma.id,this.remotePaloma),this.remotePaloma.sprite.flipX=!0,this.remotePaloma.facing="left"}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":const t=this.remotePaloma;t.sprite.x=e.x,t.sprite.y=e.y,t.facing=e.facing,t.sprite.flipX="left"===e.facing?!t.invertFlipForMovement:t.invertFlipForMovement;const s="palomon"===t.character?`palomon_${e.anim}`:`dovenando_${e.anim}`;t.sprite.anims.isPlaying&&t.sprite.anims.currentAnim.key===s||t.sprite.play(s,!0);break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreTextP1.setText(e.player1Score.toString()),this.scoreTextP2.setText(e.player2Score.toString());break;case"attackResolve":{const t=this.players.get(e.attackerId);if(!t)return;t.facing=e.facing,t.sprite.flipX="left"===e.facing;const s=new c(t);this.processor.process(s);break}case"itemSpawn":this.spawnItemFromServer(e.item);break;case"itemDespawn":"churro"===e.itemType&&this.churro&&(this.churroOverlap&&(this.physics.world.removeCollider(this.churroOverlap),this.churroOverlap=null),this.churro.destroy(),this.churro=null),"powerUp"===e.itemType&&this.powerUp&&(this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null),this.powerUp.destroy(),this.powerUp=null);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;case"itemCollected":{const t=e.playerId===this.localPaloma.id?this.localPaloma:this.remotePaloma;if("churro"===e.itemType)this.sound.play("SonidoChurro",{volume:.5}),t.addScore(1),this.scoreTextP1.setText(`Dovenando: ${"player1"===this.playerRole?this.localPaloma.score:this.remotePaloma.score}`),this.scoreTextP2.setText(`Palomón: ${"player1"===this.playerRole?this.remotePaloma.score:this.localPaloma.score}`);else switch(e.itemType){case"avena":this.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(t,"iconAvena",5e3),t.stunForce+=500,t.attackForce+=200,this.time.delayedCall(5e3,()=>{t.stunForce-=500,t.attackForce-=200});break;case"pluma":this.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(t,"iconPluma",5e3),t.applyModifier("speed",150,5e3);break;case"basura":this.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(t,"iconBasura",5e3),t.applyModifier("speed",-150,5e3)}break}default:console.log("Unknown message type:",e.type)}}handleDisconnection(){this.gameEnded=!0,this.localPaloma.sprite.setVelocity(0,0),this.remotePaloma.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(480,270,"Desconexion"),this.add.text(480,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Return to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,console.log("[MultiplayerGameScene] Return to Menu clicked"),this.ws&&console.log("[MultiplayerGameScene] Closing WS from Return button"),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}spawnItemFromServer(e){const{type:t,x:s,y:i}=e;let o=null,a=null;switch(t){case"churro":o=l,a="churro";break;case"avena":o=d,a="powerUp";break;case"pluma":o=p,a="powerUp";break;case"basura":o=m,a="powerUp";break;default:return}const n=new o(this,s,i);this[a]=n,"churro"===a&&this.churroOverlap&&(this.churroOverlap.destroy(),this.churroOverlap=null),"powerUp"===a&&this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null);const r=this.physics.add.overlap(this.localPaloma.sprite,n.sprite,()=>{this.sendMessage({type:"itemTouch",itemId:e.id})},null,this);"churro"===a?this.churroOverlap=r:this.powerUpOverlap=r}showItemIcon(e,t,s){let i;e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null),i=this.scoreTextP1&&this.scoreTextP2?"player1"===e.id?this.scoreTextP1.x+25:this.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.add.image(i,85,t).setDisplaySize(50,50).setDepth(1e3),e.activeIconTimer=this.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer=null}})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}endGame(e,t,s){this.gameEnded=!0,this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,console.log("[MultiplayerGameScene] endGame called, winner:",e),console.log("[MultiplayerGameScene] WS state at endGame:",this.ws?this.ws.readyState:"NO WS"),this.scene.start("EndGameScene",{data:{winnerId:e,localPlayerId:this.playerRole,player1Score:t,player2Score:s,ws:this.ws}})}update(){if(this.gameEnded)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();const t=this.localPaloma;if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;this.keys.left.isDown?(s=-1,t.sprite.flipX=!0,t.facing="left"):this.keys.right.isDown&&(s=1,t.sprite.flipX=!1,t.facing="right");const i=e.Input.Keyboard.JustDown(this.keys.up);let o=new n(t,s,i);this.processor.process(o),this.sendMessage({type:"paddleMove",x:this.localPaloma.sprite.x,y:this.localPaloma.sprite.y,anim:this.localPaloma.currentAnim,facing:this.localPaloma.facing}),e.Input.Keyboard.JustDown(this.keys.attack)&&this.sendMessage({type:"attackRequest",facing:t.facing,x:t.sprite.x,y:t.sprite.y}),this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})}shutdown(){console.log("[MultiplayerGameScene] shutdown called"),console.log("[MultiplayerGameScene] WS state on shutdown:",this.ws.readyState),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}const T={type:e.AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:1200},debug:!1}},scene:[s,u,f,g,y,S,k,v,b,x,w],backgroundColor:"#1a2a2e"};new e.Game(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSSxPQUFZOUksRSIsInNvdXJjZXMiOlsid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGlnZW9uLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvUGF1c2VDb21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9JdGVtLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9DaHVycm8uanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0F2ZW5hLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QbHVtYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvQmFzdXJhLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbnRyb2xzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9FbmRHYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9TdG9yeVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0F2ZU1hcmlhJywgJ2Fzc2V0cy9zb3VuZHMvQXZlTWFyaWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnRm9uZG8nKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTAwLCAnUHZQJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ0F2ZU1hcmlhJywge1xyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCAxODAsICdTZXJ2ZXI6IENoZWNraW5nLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSBqdWdhciBsb2NhbFxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCAzNjAsICdib3RvbkVuY2ltYScpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCAzNjAsICdMb2NhbCAoTm90IEF2YWlsYWJsZSknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMCk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEganVnYXIgb25saW5lIChubyBmdW5jaW9uYSlcclxuICAgICAgICBjb25zdCBvbmxpbmVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDM2MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBvbmxpbmVCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDM2MCwgJ09ubGluZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIG9ubGluZUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvbmxpbmVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBvbmxpbmVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBvbmxpbmVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBvbmxpbmVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW01lbnVTY2VuZV0gT25saW5lIGJ1dHRvbiBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgIC8vQXBhZ2FyIG3DunNpY2FcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnTG9iYnlTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBHYW1lU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBjcmVkaXRvc1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBjcmVkaXRzQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA1MDAsICdDcmVkaXRzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBjcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdHNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBjcmVkaXRzQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnQ3JlZGl0c1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIG9wY2lvbmVzXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDUwMCwgJ09wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBvcHRpb25zQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBvcHRpb25zQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb3B0aW9uc0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIG9wdGlvbnNCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgQ3JlZGl0c1NjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdPcHRpb25zU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgY29udHJvbGVzXHJcbiAgICAgICAgY29uc3QgY29udHJvbHNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBjb250cm9sc0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgNDMwLCAnQ29udHJvbHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgY29udHJvbHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gY29udHJvbHNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBjb250cm9sc0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGNvbnRyb2xzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgY29udHJvbHNCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvLyByYW5zaWNpw7NuIGEgQ29udHJvbHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnQ29udHJvbHNTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBoaXN0b3JpYVxyXG4gICAgICAgIGNvbnN0IHN0b3J5QnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcnlCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCgyNTAsIDQzMCwgJ1N0b3J5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIHN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHN0b3J5QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgc3RvcnlCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBzdG9yeUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIHN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIFN0b3J5U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ1N0b3J5U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2VydmVyOiAke2RhdGEuY291bnR9IHVzZXIocykgY29ubmVjdGVkYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmZmZmZmZmYnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2VydmVyOiBEaXNjb25uZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFBpZ2VvbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBjaGFyYWN0ZXIpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyID0gY2hhcmFjdGVyO1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG5cclxuICAgICAgICAvL1Byb3BpZWRhZGVzIGRlIGF0YXF1ZSB5IG1vdmltaWVudG9cclxuICAgICAgICB0aGlzLnNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuanVtcFNwZWVkID0gNjMwO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrUmFuZ2UgPSA0MDtcclxuICAgICAgICB0aGlzLmF0dGFja0ZvcmNlID0gMjAwO1xyXG4gICAgICAgIHRoaXMuc3R1bkZvcmNlID0gMTAwMDtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tDb29sZG93biA9IDUwMDtcclxuICAgICAgICB0aGlzLmxhc3RBdHRhY2tUaW1lID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIHRoaXMuc3R1bm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3R1blRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0dW5EdXJhdGlvbiA9IDEwMDA7XHJcbiAgICAgICAgdGhpcy5rbm9ja2JhY2tFeHBpcmUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbSA9ICdpZGxlJzsgLy8gaWRsZSB8IHdhbGsgfCBhdHRhY2tcclxuXHJcblxyXG4gICAgICAgIC8vQXNpZ25hY2nDs24gZGUgc3ByaXRlIHBhcmEgY2FkYSBwYWxvbWFcclxuICAgICAgICBsZXQgdGV4dHVyZUtleSA9IG51bGw7XHJcbiAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gXCJwYWxvbW9uXCIpIHtcclxuICAgICAgICAgICAgdGV4dHVyZUtleSA9IFwicGFsb21vblNoZWV0XCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyYWN0ZXIgPT09IFwiZG92ZW5hbmRvXCIpIHtcclxuICAgICAgICAgICAgdGV4dHVyZUtleSA9IFwiZG92ZW5hbmRvU2hlZXRcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGVyc29uYWplIGRlc2Nvbm9jaWRvOlwiLCBjaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICB0ZXh0dXJlS2V5ID0gXCJwYWxvbW9uU2hlZXRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRsOtc2ljYXMgZGUgbGFzIHBhbG9tYXNcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmVLZXkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGlnZW9uID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgPSAoY2hhcmFjdGVyID09PSBcImRvdmVuYW5kb1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RmxpcFgodGhpcy5pbnZlcnRGbGlwRm9yTW92ZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRGV0ZXJtaW5hIHNpIGxhIHBhbG9tYSBwdWVkZSBhdGFjYXJcclxuICAgIGNhbkF0dGFjayhub3cpIHtcclxuICAgICAgICBub3cgPSBub3cgfHwgdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICByZXR1cm4gKG5vdyAtIHRoaXMubGFzdEF0dGFja1RpbWUpID49IHRoaXMuYXR0YWNrQ29vbGRvd247XHJcbiAgICB9XHJcblxyXG4gICAgLy9NYXJjYSBlbCB0aWVtcG8gZGVsIMO6bHRpbW8gYXRhcXVlXHJcbiAgICBtYXJrQXR0YWNrZWQobm93KSB7XHJcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrVGltZSA9IG5vdyB8fCB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgfVxyXG5cclxuICAgIC8vUmVwcm9kdWNlIGxhIGFuaW1hY2nDs24gY29ycmVjdGEgc2Vnw7puIGVsIHBlcnNvbmFqZSB5IGVsIG5vbWJyZSAoaWRsZSwgd2Fsay4uLilcclxuICAgIHBsYXlBbmltYXRpb24oYW5pbU5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0F0dGFja2luZykgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmNoYXJhY3Rlcn1fJHthbmltTmFtZX1gO1xyXG5cclxuICAgICAgICAvL1BvciBzaSBhY2FzbyBubyBleGlzdGUgbGEgYW5pbWFjacOzblxyXG4gICAgICAgIGlmICghdGhpcy5zY2VuZS5hbmltcy5leGlzdHMoa2V5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEFuaW1hY2nDs24gbm8gZXhpc3RlOiAke2tleX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShrZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB0YWtlSGl0KGtub2NrYmFja1ggPSAwKSB7XHJcbiAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoa25vY2tiYWNrWCk7XHJcblxyXG4gICAgdGhpcy5rbm9ja2JhY2tFeHBpcmUgPSB0aGlzLnNjZW5lLnRpbWUubm93ICsgMTIwO1xyXG5cclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgxMjAsICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdHVubmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5zdHVubmVkKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmMDAwMCk7XHJcbiAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMjAwLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0dW5uZWQpIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG4gICAgLy9BcGxpY2FyIHN0dW5cclxuICAgIHN0dW4oZHVyYXRpb25Ncykge1xyXG4gICAgZHVyYXRpb25NcyA9IGR1cmF0aW9uTXMgPT0gbnVsbCA/IHRoaXMuZGVmYXVsdFN0dW5EdXJhdGlvbiA6IGR1cmF0aW9uTXM7XHJcbiAgICBpZiAodGhpcy5zdHVubmVkKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5zdHVubmVkID0gdHJ1ZTtcclxuICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg5OTk5ZmYpO1xyXG5cclxuICAgIC8vRlJFTkFSIE1PVklNSUVOVE8gQ09NUExFVEFNRU5URVxyXG4gICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgdGhpcy5zcHJpdGUuc2V0QWNjZWxlcmF0aW9uWCgwKTtcclxuXHJcbiAgICAvL0HDsWFkaXIgZnJpY2Npw7NuIFNPTE8gZHVyYW50ZSBlbCBzdHVuXHJcbiAgICB0aGlzLnNwcml0ZS5zZXREYW1waW5nKHRydWUpO1xyXG4gICAgdGhpcy5zcHJpdGUuc2V0RHJhZ1goOTAwKTtcclxuXHJcbiAgICB0aGlzLnN0dW5UaW1lb3V0ID0gdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGR1cmF0aW9uTXMsICgpID0+IHtcclxuICAgICAgICB0aGlzLnN0dW5uZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuXHJcbiAgICAgICAgLy8g8J+UkyBSZXN0YXVyYXIgZsOtc2ljYXMgbm9ybWFsZXNcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYW1waW5nKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREcmFnWCgwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IG51bGw7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgICAvL0FuaW1hY2nDs24gZGUgYXRhcXVlXHJcbiAgICBzdGFydEF0dGFja0FuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0F0dGFja2luZykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmNoYXJhY3Rlcn1fYXR0YWNrYDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TaSBlc3TDoSBtaXJhbmRvIGFsIGNvbnRyYXJpbywgbWFudGVuZXIgZmxpcFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEZsaXBYKHRoaXMuZmFjaW5nID09PSBcImxlZnRcIiA/ICF0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCA6IHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50KTtcclxuXHJcbiAgICAgICAgLy9Wb2x2ZXIgYSBhbmltYWNpw7NuIG5vcm1hbCB0cmFzIGVsIGF0YXF1ZVxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyNTAsICgpID0+IHsgICAvLyBEdXJhY2nDs24gYXByb3hpbWFkYSBkZWwgYXRhcXVlXHJcbiAgICAgICAgICAgIHRoaXMuZW5kQXR0YWNrQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9GaW4gZGUgbGEgYW5pbWFjacOzbiBkZSBhdGFxdWVcclxuICAgIGVuZEF0dGFja0FuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKFwiaWRsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihcIndhbGtcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vU3ByaXRlIGRlbCBhdGFxdWVcclxuICAgIHNob3dBdHRhY2tTcHJpdGUoZHVyYXRpb25NcyA9IDI1MCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zY2VuZTtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNoYXJhY3RlciA9PT0gJ2RvdmVuYW5kbycgPyAnZG92ZW5hbmRvQXR0YWNrJyA6ICdwYWxvbW9uQXR0YWNrJztcclxuXHJcbiAgICAgICAgLy9DcmVhciBzcHJpdGUgdmlzdWFsIGRlbCBhdGFxdWVcclxuICAgICAgICBjb25zdCBhdHRhY2tTcHJpdGUgPSBzY2VuZS5hZGQuc3ByaXRlKHRoaXMuc3ByaXRlLngsIHRoaXMuc3ByaXRlLnksIGtleSk7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldERlcHRoKHRoaXMuc3ByaXRlLmRlcHRoICsgMSk7XHJcblxyXG4gICAgICAgIC8vQWp1c3RlIGluaWNpYWwgc2Vnw7puIGRpcmVjY2nDs25cclxuICAgICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5mYWNpbmcgPT09ICdyaWdodCcgPyAyMCA6IC0yMDtcclxuICAgICAgICBhdHRhY2tTcHJpdGUueCArPSBvZmZzZXRYO1xyXG5cclxuICAgICAgICBhdHRhY2tTcHJpdGUuc2V0RmxpcFgodGhpcy5mYWNpbmcgPT09ICdsZWZ0Jyk7XHJcblxyXG4gICAgICAgIC8vRXZlbnRvIHBhcmEgc2VndWlyIGEgbGEgcGFsb21hXHJcbiAgICAgICAgY29uc3QgZm9sbG93RXZlbnQgPSBzY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDE2LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXR0YWNrU3ByaXRlLnggPSB0aGlzLnNwcml0ZS54ICsgb2Zmc2V0WDtcclxuICAgICAgICAgICAgICAgIGF0dGFja1Nwcml0ZS55ID0gdGhpcy5zcHJpdGUueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0Rlc3RydWlyIGVsIHNwcml0ZSB5IGRldGVuZXIgc2VndWltaWVudG8gZGVzcHXDqXMgZGUgZHVyYXRpb25cclxuICAgICAgICBzY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGR1cmF0aW9uTXMsICgpID0+IHtcclxuICAgICAgICAgICAgZm9sbG93RXZlbnQucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgYXR0YWNrU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0HDsWFkaXIgcHVudHVhY2nDs25cclxuICAgIGFkZFNjb3JlKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5pZH0gcmVjb2dpw7MgdW4gQ2h1cnJvIOKGkiBzY29yZTogJHt0aGlzLnNjb3JlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQXBsaWNhciBwb3dlci11cFxyXG4gICAgYXBwbHlNb2RpZmllcihwcm9wZXJ0eSwgYW1vdW50LCBkdXJhdGlvbikge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTGEgcHJvcGllZGFkICR7cHJvcGVydHl9IG5vIGV4aXN0ZSBlbiBsYSBwYWxvbWEuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXNbcHJvcGVydHldICs9IGFtb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gLT0gYW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG5cclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVQaWdlb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGlnZW9uLCBtb3ZlWCA9IDAsIGp1bXAgPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5waWdlb24gPSBwaWdlb247XHJcbiAgICAgICAgdGhpcy5tb3ZlWCA9IG1vdmVYO1xyXG4gICAgICAgIHRoaXMuanVtcCA9IGp1bXA7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBpZ2VvbjtcclxuICAgICAgICBjb25zdCBzcHJpdGUgPSBwaWdlb24uc3ByaXRlO1xyXG5cclxuICAgICAgICAvL1NpIGVzdMOhIHN0dW5hZG8gbm8gcGVybWl0ZSBtb3ZlcnNlIG5pIHJlcHJvZHVjaXIgY2FtaW5hdGFcclxuICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ2lkbGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9GbGlwIHNlZ8O6biBtb3ZpbWllbnRvLCB0ZW5pZW5kbyBlbiBjdWVudGEgc3ByaXRlcyBpbnZlcnRpZG9zXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggPiAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlWCA8IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRGbGlwID0gcGlnZW9uLmludmVydEZsaXBGb3JNb3ZlbWVudCA/ICh0aGlzLm1vdmVYID4gMCkgOiAodGhpcy5tb3ZlWCA8IDApO1xyXG4gICAgICAgICAgICBzcHJpdGUuc2V0RmxpcFgoZGVzaXJlZEZsaXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9WZWxvY2lkYWQgaG9yaXpvbnRhbFxyXG4gICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlWCAqIHBpZ2Vvbi5zcGVlZCk7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBhbmltYWNpw7NuIGNvcnJlY3RhXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggIT09IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ3dhbGsnKTtcclxuICAgICAgICAgICAgcGlnZW9uLmN1cnJlbnRBbmltID0gJ3dhbGsnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCdpZGxlJyk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5jdXJyZW50QW5pbSA9ICdpZGxlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2FsdGFyIMO6bmljYW1lbnRlIHNpIGVzdMOhIGVuIGVsIHN1ZWxvXHJcbiAgICAgICAgaWYgKHRoaXMuanVtcCkge1xyXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uR3JvdW5kID0gYm9keSAmJiAodHlwZW9mIGJvZHkub25GbG9vciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgPyBib2R5Lm9uRmxvb3IoKVxyXG4gICAgICAgICAgICAgICAgOiAoKGJvZHkuYmxvY2tlZCAmJiBib2R5LmJsb2NrZWQuZG93bikgfHwgKGJvZHkudG91Y2hpbmcgJiYgYm9keS50b3VjaGluZy5kb3duKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9uR3JvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0VmVsb2NpdHlZKC1waWdlb24uanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0NvbW1hbmR9IGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRhY2tQaWdlb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaWdlb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uID0gcGlnZW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnBpZ2Vvbi5zY2VuZTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiB5IGZlZWRiYWNrIChlbCBzZXJ2aWRvciB5YSB2YWxpZMOzKVxyXG4gICAgICAgIHRoaXMucGlnZW9uLmN1cnJlbnRBbmltID0gJ2F0dGFjayc7XHJcbiAgICAgICAgdGhpcy5waWdlb24uc3RhcnRBdHRhY2tBbmltYXRpb24oKTtcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5zaG93QXR0YWNrU3ByaXRlKDI1MCk7XHJcbiAgICAgICAgc2NlbmUuc291bmQucGxheSgnU29uaWRvQXRhcXVlJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuXHJcbiAgICAgICAgLy8gRGlyZWNjacOzbiBkZWwgYXRhcXVlXHJcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5waWdlb24uZmFjaW5nID09PSAncmlnaHQnID8gMSA6IC0xO1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBpZ2Vvbi5zcHJpdGUueCArIGRpciAqIHRoaXMucGlnZW9uLmF0dGFja1JhbmdlO1xyXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnBpZ2Vvbi5zcHJpdGUueTtcclxuXHJcbiAgICAgICAgLy8gSGl0Ym94IHRlbXBvcmFsXHJcbiAgICAgICAgY29uc3QgaGl0Ym94ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIG51bGwpO1xyXG4gICAgICAgIGhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBoaXRib3guYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIGhpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICBoaXRib3guc2V0U2l6ZSh0aGlzLnBpZ2Vvbi5hdHRhY2tSYW5nZSwgdGhpcy5waWdlb24uYmFzZUhlaWdodCAqIDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IG92ZXJsYXAgPSBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBoaXRib3gsXHJcbiAgICAgICAgICAgIHNjZW5lLnBsYXllclNwcml0ZXMsXHJcbiAgICAgICAgICAgIChoYiwgdGFyZ2V0U3ByaXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U3ByaXRlID09PSB0aGlzLnBpZ2Vvbi5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQaWdlb24gPSB0YXJnZXRTcHJpdGUucGlnZW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRQaWdlb24pIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQaWdlb24uaWQgPT09IHRoaXMucGlnZW9uLmlkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qga25vY2sgPSB0aGlzLnBpZ2Vvbi5hdHRhY2tGb3JjZSAqIGRpcjtcclxuICAgICAgICAgICAgICAgIHRhcmdldFBpZ2Vvbi5zdHVuKHRoaXMucGlnZW9uLnN0dW5Gb3JjZSk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRQaWdlb24udGFrZUhpdChrbm9jayk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLnBoeXNpY3M/LndvcmxkICYmIG92ZXJsYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzLndvcmxkLnJlbW92ZUNvbGxpZGVyKG92ZXJsYXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgc2NlbmUudGltZS5kZWxheWVkQ2FsbCgxMjAsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHNjZW5lLnBoeXNpY3M/LndvcmxkICYmIG92ZXJsYXApIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnBoeXNpY3Mud29ybGQucmVtb3ZlQ29sbGlkZXIob3ZlcmxhcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGl0Ym94Py5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCBzcHJpdGUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGlzcGxheVNpemUoNDAsIDQwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV4cGlyZVRpbWVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL0Z1bmNpw7NuIGdlbsOpcmljYSBwYXJhIGFwbGljYXIgZWwgZWZlY3RvIGRlbCDDrXRlbVxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXBwbHlFZmZlY3QoKSBubyBpbXBsZW1lbnRhZG8gZW4gZWwgaXRlbVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NyZWFyIHkgbW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cCBkZWJham8gZGVsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICBzaG93SXRlbUljb24ocGlnZW9uLCBpY29uS2V5LCBkdXJhdGlvbikge1xyXG5cclxuICAgICAgICAvL0xpbXBpYXIgY3VhbHF1aWVyIGljb25vIGFudGVyaW9yIGRlbCBwaWdlb25cclxuICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblRpbWVyKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Qb3NpY2lvbmFyIGVsIGljb25vIHJlbGF0aXZvIGFsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgbGV0IGljb25YID0gbnVsbDtcclxuICAgICAgICBsZXQgaWNvblkgPSA4NTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5zY29yZVRleHRQMSAmJiB0aGlzLnNjZW5lLnNjb3JlVGV4dFAyKSB7XHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyB0aGlzLnNjZW5lLnNjb3JlVGV4dFAxLnggKyAyNSA6IHRoaXMuc2NlbmUuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL0ZhbGxiYWNrIGEgY29vcmRlbmFkYXMgY29ub2NpZGFzXHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyA0MCA6IDg1MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UoaWNvblgsIGljb25ZLCBpY29uS2V5KTtcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5zZXREaXNwbGF5U2l6ZSg1MCwgNTApO1xyXG5cclxuICAgICAgICAvL0d1YXJkYXIgdW4gdGltZXIgZW4gZWwgcGlnZW9uIHBhcmEgZWxpbWluYXIgZWwgaWNvbm8gYWwgZXhwaXJhclxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0l0ZW19IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBDaHVycm8gZXh0ZW5kcyBJdGVtIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwnY2h1cnJvU2hlZXQnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KCdjaHVycm9fYW5pbScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbil7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9DaHVycm8nLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGlnZW9uLmFkZFNjb3JlKDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBBdmVuYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdhdmVuYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBmb3JjZUJvb3N0ID0gMzAwO1xyXG4gICAgICAgIGNvbnN0IHN0dW5Cb29zdCA9IDEwMDA7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA1MDAwO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgc29uaWRvIGRlIHJlY29naWRhIGRlIGxhIGF2ZW5hXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9BdmVuYScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwXHJcbiAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvbkF2ZW5hJywgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAvL0FwbGljYXIgcG90ZW5jaWEgZWxldmFkYVxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdhdHRhY2tGb3JjZScsIGZvcmNlQm9vc3QsIGR1cmF0aW9uKTtcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3R1bkZvcmNlJywgc3R1bkJvb3N0LCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBQbHVtYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdwbHVtYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBpbmNyZWFzZSA9IDIwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgcGx1bWFcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb1BsdW1hJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL01vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXBcclxuICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uUGx1bWEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciBhdW1lbnRvIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIGluY3JlYXNlLCBkdXJhdGlvbik7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgQmFzdXJhIGV4dGVuZHMgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ2Jhc3VyYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBkZWNyZWFzZSA9IDEwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgYmFzdXJhXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9CYXN1cmEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cFxyXG4gICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25CYXN1cmEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciByZWR1Y2Npw7NuIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIC1kZWNyZWFzZSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQaWdlb24gfSBmcm9tICcuLi9lbnRpdGllcy9QaWdlb24uanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBQYXVzZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QYXVzZUNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBBdHRhY2tQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IENodXJybyB9IGZyb20gJy4uL2VudGl0aWVzL0NodXJyby5qcyc7XHJcbmltcG9ydCB7IEF2ZW5hIH0gZnJvbSAnLi4vZW50aXRpZXMvQXZlbmEuanMnO1xyXG5pbXBvcnQgeyBQbHVtYSB9IGZyb20gJy4uL2VudGl0aWVzL1BsdW1hLmpzJztcclxuaW1wb3J0IHsgQmFzdXJhIH0gZnJvbSAnLi4vZW50aXRpZXMvQmFzdXJhLmpzJztcclxuXHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb25lcyBkZSBhcGFyaWNpw7NuIGRlIG9iamV0b3MgeSBjaHVycm9zXHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgeDogNTYwLCB5OiA0NSB9LFxyXG4gICAgICAgICAgICB7IHg6IDQxNSwgeTogMjAwIH0sXHJcbiAgICAgICAgICAgIHsgeDogNzkwLCB5OiAxMTUgfSxcclxuICAgICAgICAgICAgeyB4OiA3OTAsIHk6IDI4MCB9LFxyXG4gICAgICAgICAgICB7IHg6IDEyNiwgeTogMTE1IH0sXHJcbiAgICAgICAgICAgIHsgeDogMTI2LCB5OiAyODAgfSxcclxuICAgICAgICAgICAgeyB4OiA1NjAsIHk6IDQ1NSB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtcclxuICAgICAgICAgICAgJ2F2ZW5hJyxcclxuICAgICAgICAgICAgJ2Jhc3VyYScsXHJcbiAgICAgICAgICAgICdwbHVtYSdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vU3ByaXRlcyBlIGltw6FnZW5lcyBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvc3ByaXRlcy9iYWNrZ3JvdW5kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbicsICdhc3NldHMvc3ByaXRlcy9wYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL2RvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NodXJybycsICdhc3NldHMvc3ByaXRlcy9DaHVycm8gSkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvQXZlbmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbHVtYScsICdhc3NldHMvc3ByaXRlcy9QbHVtYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Jhc3VyYScsICdhc3NldHMvc3ByaXRlcy9CYXN1cmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG9BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb25BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl9hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uUGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9mYXN0LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkJhc3VyYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3Nsb3cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zdHJvbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX3AnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9QYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9kJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fRG92ZW5hbmRvLnBuZycpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgeSBzb25pZG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdOdW1iJywgJ2Fzc2V0cy9zb3VuZHMvTnVtYi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb1BsdW1hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvUGx1bWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9DaHVycm8nLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9DaHVycm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9CYXN1cmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9CYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdGFxdWUnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BdGFxdWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdmVuYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0FscGlzdGUubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vblNoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnY2h1cnJvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi1zaGVldC5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDI1LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2JhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy9NdXNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTnVtYicsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXRmb3JtcygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICB0aGlzLnBpZ2VvbkluZGljYXRvcnMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fZCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSksXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fcCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxID0gdGhpcy5hZGQudGV4dCgxMCwgMjAsICdEb3ZlbmFuZG86IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KDc1MCwgMjAsICdQYWxvbcOzbjogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3ByaXRlcy5hZGQocGlnZW9uLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29saXNpb25lcyBlbnRyZSBwYWxvbWFzIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF0Zm9ybXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxheWVyU3ByaXRlcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIC8vQ2FkYSA1IHNlZ3VuZG9zIGludGVudGFyIGdlbmVyYXIgdW4gY2h1cnJvXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaHVycm8gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbShcImNodXJyb1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NhZGEgNyBzZWd1bmRvcyBpbnRlbnRhciBnZW5lcmFyIHVuIGNodXJyb1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA3MDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25JdGVtKFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odGhpcy5wb3dlclVwcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5zaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLnNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgY3JlYXRlUGxhdGZvcm1zKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNTQwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgYXJyaWJhIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMxMCwgODAsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDE1LCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDIyMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGVuIG1lZGlvIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDY1MCwgMjM3LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vU3VlbG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDgwLCA1MTMsIG51bGwpLnNldERpc3BsYXlTaXplKDk2MCwgNjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQ2FtaXNldGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjQwLCAzNjAsIG51bGwpLnNldERpc3BsYXlTaXplKDkwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BhbnRhbG9uZXNcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzQ1LCAzNjUsIG51bGwpLnNldERpc3BsYXlTaXplKDEwMCwgNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGl6cXVpZXJkb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzMywgNDMwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg3MCwgMTIwMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGRlcmVjaG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoOTI3LCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4OSwgNDc1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMDAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGRlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODcwLCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgZGVyZWNoYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4MzIsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBzdXBlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDE0NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vQ29uZmlndXJhY2nDs24gZGUgcGFsb21hcyB5IGNvbnRyb2xlc1xyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRQaWdlb24gPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICBjb25zdCByaWdodFBpZ2VvbiA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuXHJcbiAgICAgICAgcmlnaHRQaWdlb24uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICByaWdodFBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0UGlnZW9uKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRQaWdlb24pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdTSElGVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuYXR0YWNrS2V5XSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZW5lcmFyIHVuIG9iamV0byBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBkaXNwb25pYmxlXHJcbiAgICBzcGF3bkl0ZW0odHlwZSkge1xyXG5cclxuICAgICAgICBsZXQgcmVmTmFtZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IEl0ZW1DbGFzcyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vRGVjaWRpciBxdcOpIGNsYXNlIGluc3RhbmNpYXIgeSBxdcOpIHJlZmVyZW5jaWEgdXNhclxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2h1cnJvXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJjaHVycm9cIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IENodXJybztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImF2ZW5hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBBdmVuYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInBsdW1hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBQbHVtYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImJhc3VyYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQmFzdXJhO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGlwbyBkZXNjb25vY2lkbzpcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdmFpbGFibGVQb3NpdGlvbnMgPSB0aGlzLml0ZW1TcGF3blBvc2l0aW9ucy5maWx0ZXIocG9zID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vRXZpdGFyIHBvc2ljacOzbiBkb25kZSBoYXkgY2h1cnJvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5jaHVycm8uc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IHBvd2VyLXVwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZS54ID09PSBwb3MueCAmJiB0aGlzLnBvd2VyVXAuc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0VsZWdpciB1bmEgcG9zaWNpw7NuIGFsIGF6YXJcclxuICAgICAgICBjb25zdCBwb3MgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGF2YWlsYWJsZVBvc2l0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgSXRlbUNsYXNzKHRoaXMsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgdGhpc1tyZWZOYW1lXSA9IChpdGVtKTtcclxuXHJcbiAgICAgICAgLy9BY3RpdmFyIG92ZXJsYXAgY29uIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBpdGVtLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMub25JdGVtUGlja3VwLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09IFwicG93ZXJVcFwiKSB7XHJcblxyXG4gICAgICAgICAgICAvL1RpZW1wbyBkZSB2aWRhIGRlbCBwb3dlci11cCBcclxuICAgICAgICAgICAgY29uc3QgbGlmZXRpbWUgPSA5MDAwO1xyXG5cclxuICAgICAgICAgICAgLy9HdWFyZGFyIGVsIHRpbWVyIGVuIGVsIHByb3BpbyBvYmpldG8gcGFyYSBwb2RlciBjYW5jZWxhcmxvIHNpIGhhY2UgZmFsdGFcclxuICAgICAgICAgICAgaXRlbS5leHBpcmVUaW1lciA9IHRoaXMudGltZS5kZWxheWVkQ2FsbChsaWZldGltZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgPT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01hbmVqbyBkZSByZWNvZ2lkYSBkZSBvYmpldG9zXHJcbiAgICBvbkl0ZW1QaWNrdXAocGlnZW9uU3ByaXRlLCBpdGVtU3ByaXRlKSB7XHJcblxyXG4gICAgICAgIGxldCBwbGF5ZXJJZCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3ByaXRlID09PSBwaWdlb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkID0gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtQnlTcHJpdGUoaXRlbVNwcml0ZSk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwbHlFZmZlY3QocGlnZW9uKTtcclxuXHJcbiAgICAgICAgLy9BY3R1YWxpemFyIHB1bnR1YWNpb25lc1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyLnNldFRleHQoJ1BhbG9tw7NuOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNjb3JlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgIGlmIChwaWdlb24uc2NvcmUgPj0gNSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgRW5kR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdFbmRHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IHdpbm5lcklkOiBwbGF5ZXJJZCB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0RldnVlbHZlIGVsIG9iamV0byBhbCBxdWUgcGVydGVuZWNlIHVuIHNwcml0ZVxyXG4gICAgZ2V0SXRlbUJ5U3ByaXRlKHNwcml0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMuY2h1cnJvO1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZSA9PT0gc3ByaXRlKSByZXR1cm4gdGhpcy5wb3dlclVwO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRWxpbWluYSBkZSBsYSBlc2NlbmEgdW4gb2JqZXRvIGRhZG9cclxuICAgIGRlbGV0ZUl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLmNodXJybykge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyby5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Fc3RhYmxlY2UgZWwgZXN0YWRvIGRlIHBhdXNhIGRlbCBqdWVnb1xyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhdXNlQ29tbWFuZCh0aGlzLCBuZXdQYXVzZWRTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpZ2VvbiA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGlnZW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3TDoSBzdHVuYWRhIG5vIHB1ZWRlIGhhY2VyIG5hZGE6IGRldGVuZXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3R1bm5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy9QZXJtaXRpciBrbm9ja2JhY2sgZHVyYW50ZSB1biBjb3J0byBwZXJpb2RvIHRyYXMgcmVjaWJpciBlbCBnb2xwZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFwaWdlb24ua25vY2tiYWNrRXhwaXJlIHx8IHRoaXMudGltZS5ub3cgPiBwaWdlb24ua25vY2tiYWNrRXhwaXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGxldCBtb3ZlWCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSBtb3ZlWCA9IC0xO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikgbW92ZVggPSAxO1xyXG5cclxuICAgICAgICAgICAgY29uc3QganVtcCA9IG1hcHBpbmcudXBLZXlPYmouaXNEb3duO1xyXG5cclxuICAgICAgICAgICAgLy9FbnZpYXIgY29tYW5kbyBjb24gbW92aW1pZW50byBob3Jpem9udGFsIHkgc2FsdG9cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVQaWdlb25Db21tYW5kKHBpZ2VvbiwgbW92ZVgsIGp1bXApO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vQXRhcXVlXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmF0dGFja0tleU9iaiAmJiBtYXBwaW5nLmF0dGFja0tleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dGFja0NtZCA9IG5ldyBBdHRhY2tQaWdlb25Db21tYW5kKHBpZ2Vvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKGF0dGFja0NtZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5waWdlb25JbmRpY2F0b3JzW2lkXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHBpZ2Vvbi5zcHJpdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZS55IDwgLTUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3RhIGZ1ZXJhIHBvciBhcnJpYmEgbXVlc3RyYSBlbCBpbmRpY2Fkb3JcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IueCA9IHNwcml0ZS54O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvci55ID0gNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIHZ1ZWx2ZSBhIGVudHJhciBzZSBvY3VsdGEgZWwgaWNvbm9cclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy9FbGltaW5hciBtw7pzaWNhIGFsIGNlcnJhciBsYSBlc2NlbmEgeSBjZXJycmFyIGxpc3RlbmVyc1xyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iZ011c2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgLy9Gb25kbyBzZW1pdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMjcwLCA5NjAsIDU0MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyMDAsICdHYW1lIFBhdXNlZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3RvbiBwYXJhIHJlYW51ZGFyIGVsIGp1ZWdvXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA0MzAsICdSZXN1bWUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICByZXN1bWVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcmVzdW1lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgcmVzdW1lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3RvbiBwYXJhIHZvbHZlciBhbCBtZW51IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA0MzAsICdSZXR1cm4gdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvUHZQJywgJ2Fzc2V0cy9zcHJpdGVzL0xvZ28gUHZQLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyB5IGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdmb25kb1B2UCcpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ0NyZWRpdHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNTAsICdHYW1lIGRldmVsb3BlZCBieSBHQjNEJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI1MCwgJ0FydGlzdDonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI5MCwgJ0h1Z28gQ2hlY2EnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzUwLCAnUHJvZ3JhbW1lcnM6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzOTAsICdBbGVqYW5kcm8gTWFyw61uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQyNSwgJ0x1Y2FzIExvcmVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDYwLCAnTWlndWVsIEFtYWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTEwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUxMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29udHJvbHNTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbnRhbGxhIGluaWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ0NvbnRyb2xzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Db250cm9sZXMgSnVnYWRvciAxXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDE1MCwgJ1BsYXllciAxJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnTW92ZTogVyAtIEEgLSBEIChVcCwgTGVmdCwgUmlnaHQpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyNDAsICdBdHRhY2s6IEYnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDMwMCwgJ1BhdXNlOiBFc2MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzIEp1Z2Fkb3IgMlxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzNjAsICdQbGF5ZXIgMiAoTG9jYWwpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDEwLCAnTW92ZTog4oaRIC0g4oaQIC0g4oaSIChVcCwgTGVmdCwgUmlnaHQpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdBdHRhY2s6IFNoaWZ0Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL0FzZWd1cmFyIHF1ZSBsYSBjw6FtYXJhIGVzdMOhIHRvdGFsbWVudGUgdmlzaWJsZSBhbnRlcyBkZSBlbXBlemFyIGVsIGZhZGUtb3V0XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIE1lbnVTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1N3ZWV0VmljdG9yeScsICdhc3NldHMvc291bmRzL1N3ZWV0VmljdG9yeS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0RvdmVuYW5kb1ZpY3RvcnknLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgdmljdG9yaWEgZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsb21vblZpY3RvcnknLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgdmljdG9yaWEgcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tFbmRHYW1lU2NlbmVdIGNyZWF0ZSBjYWxsZWQsIGRhdGE6JywgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tFbmRHYW1lU2NlbmVdIFNIVVRET1dOJyk7XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0VuZEdhbWVTY2VuZV0gREVTVFJPWScpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gSWRlbnRpZmljYXIgZ2FuYWRvciB5IGp1Z2Fkb3IgbG9jYWxcclxuICAgICAgICBjb25zdCB3aW5uZXJJc1AxID0gZGF0YS53aW5uZXJJZCA9PT0gJ3BsYXllcjEnO1xyXG4gICAgICAgIGNvbnN0IHBsYXllcklzUDEgPSBkYXRhLmxvY2FsUGxheWVySWQgPT09ICdwbGF5ZXIxJztcclxuICAgICAgICBjb25zdCBwbGF5ZXJXb24gPSB3aW5uZXJJc1AxID09PSBwbGF5ZXJJc1AxO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gZGUgdmljdG9yaWEgc2Vnw7puIGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCBiZ0tleSA9IHdpbm5lcklzUDEgPyAnRG92ZW5hbmRvVmljdG9yeScgOiAnUGFsb21vblZpY3RvcnknO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCBiZ0tleSk7XHJcblxyXG4gICAgICAgIC8vIEZhZGUtaW4gZGUgY8OhbWFyYVxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtYWluVGV4dCA9IHBsYXllcldvbiA/ICdTVVBSRU1FIFZJQ1RPUlkhJyA6ICdDUlVTSElORyBERUZFQVQnO1xyXG4gICAgICAgIGNvbnN0IG1haW5Db2xvciA9IHBsYXllcldvbiA/ICcjZmZmZmZmZmYnIDogJyNmZmZmZmZmZic7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgbWFpblRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxMDRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiBtYWluQ29sb3IsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIHNlY3VuZGFyaW9cclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gd2lubmVySXNQMSA/ICdEb3ZlbmFuZG8gV2lucyEnIDogJ1BhbG9tw7NuIFdpbnMhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzAwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdTd2VldFZpY3RvcnknLCB7XHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMC42XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ2MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NjAsICdSZXR1cm4gdG8gbWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApO1xyXG5cclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbRW5kR2FtZVNjZW5lXSBSZXR1cm4gdG8gbWVudSBjbGlja2VkJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgb25TaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy5iZ011c2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0b3J5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1N0b3J5U2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb24nLCAnYXNzZXRzL3Nwcml0ZXMvcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kbycsICdhc3NldHMvc3ByaXRlcy9kb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnZm9uZG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDUwLCAnU3RvcnknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIGdlbmVyYWxcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTIwLCAnSW4gc29tZSBuYW1lbGVzcyBjaXR5LCBvbiBhIGRhbXAgYW5kIG11cmt5IG5pZ2h0LCB0d28gcGlnZW9ucyB3YW5kZXJlZCB0aHJvdWdoIHRoZSBhbGxleXMgaW4gc2VhcmNoIG9mIHNvbWV0aGluZyB0byBjYWxtIHRoZWlyIGh1bmdlci4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDE3MCwgJ1RoZSBhbGx1cmluZyBmcmFncmFuY2Ugb2YgYSBmZXcgZm9yZ290dGVuIGNodXJyb3MgYXdha2VucyBpbiB0aGVtIGEgZmllcmNlIGJsZW5kIG9mIHN1cnZpdmFsIGFuZCBncmVlZCwgYW5kIGJlZm9yZSBsb25nIHRoZSBzaXR1YXRpb24gZXJ1cHRzIGludG8gb3BlbiB3YXJmYXJlLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogODAwLCB1c2VBZHZhbmNlZFdyYXA6IHRydWUgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjMwLCAnVGhvdWdoIHRoZXJlIGFyZSBuZWl0aGVyIGhlcm9lcyBub3IgdmlsbGFpbnMsIGVhY2ggZmlybWx5IGJlbGlldmVzIHRoYXQgdGhlIGNodXJybyBpcyBoZXJzIGJ5IGJpcnRocmlnaHQuIE1vcmFsaXR5IGZhbHRlcnMsIGZyaWVuZHNoaXAgZmFkZXPigKYgdGhlcmUgYXJlIG9ubHkgY2h1cnJvcyBsZWZ0LicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogODAwLCB1c2VBZHZhbmNlZFdyYXA6IHRydWUgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIERvdmVuYW5kb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjAwLCAyNzAsICdEb3ZlbmFuZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjIwLCA0MzAsICdBIGN1bm5pbmcsIHNsaXBwZXJ5IGJpcmQsIHNraWxsZWQgaW4gdGhlIGFydCBvZiBzdGVhbHRoLiBIaXMgZ3VpZGluZyBwcmluY2lwbGU6IFwiQWxsIGNodXJyb3MgYmVsb25nIHRvIHNvbWVvbmXigKYgYW5kIHRoYXQgc29tZW9uZSBpcyBtZS5cIicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICB3b3JkV3JhcDogeyB3aWR0aDogNDAwLCB1c2VBZHZhbmNlZFdyYXA6IHRydWUgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgyMDAsIDM0MCwgJ2RvdmVuYW5kbycpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIC8vSGlzdG9yaWEgUGFsb21vblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzcwLCAyNzAsICdQYWxvbcOzbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg3NTAsIDQzMCwgJ0EgdG91Z2ggcGlnZW9uIHdpdGggYSBkYXJrIGhpc3RvcnkuIEhlIG9uY2UgYmVsb25nZWQgdG8gdGhlIGF2aWFuIG1hZmlhIGFuZCBpcyB3ZWxsIGFjcXVhaW50ZWQgd2l0aCB0aGUgcGVyaWxzIG9mIHRoZSBzdHJlZXRzIGFuZCBnYW5nIGZpZ2h0cy4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNzcwLCAzNDAsICdwYWxvbW9uJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMS41KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBtZW51QnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNDgwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgbWVudUJ1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9wdGlvbnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignT3B0aW9uc1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvUHZQJywgJ2Fzc2V0cy9zcHJpdGVzL0xvZ28gUHZQLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2xpZGVyX2JhcicsICdhc3NldHMvc3ByaXRlcy9zbGlkZXJfYmFyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2xpZGVyX2J1dHRvbicsICdhc3NldHMvc3ByaXRlcy9zbGlkZXJfYnV0dG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnZm9uZG9QdlAnKS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvL1RleHRvc1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ09wdGlvbnMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjQwLCAnVm9sdW1lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpw7NuIGRlbCBzbGlkZXJcclxuICAgICAgICBjb25zdCBiYXJYID0gNDgwO1xyXG4gICAgICAgIGNvbnN0IGJhclkgPSAzMDA7XHJcblxyXG4gICAgICAgIC8vQmFycmFcclxuICAgICAgICBjb25zdCBiYXIgPSB0aGlzLmFkZC5pbWFnZShiYXJYLCBiYXJZLCAnc2xpZGVyX2JhcicpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSgzMDAsIDIwKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlbCBzbGlkZXJcclxuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmFkZC5pbWFnZShiYXJYLCBiYXJZLCAnc2xpZGVyX2J1dHRvbicpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSg0MCwgNDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IGRyYWdnYWJsZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vRXN0YWJsZWNlciBwb3NpY2nDs24gaW5pY2lhbCBkZWwgYm90w7NuIHNlZ8O6biB2b2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIGJ1dHRvbi54ID0gYmFyWCAtIDE1MCArICh0aGlzLnNvdW5kLnZvbHVtZSAqIDMwMCk7XHJcblxyXG4gICAgICAgIC8vSW50ZXJhY3RpdmlkYWRcclxuICAgICAgICB0aGlzLmlucHV0LnNldERyYWdnYWJsZShidXR0b24pO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0Lm9uKCdkcmFnJywgKHBvaW50ZXIsIG9iaiwgZHJhZ1gsIGRyYWdZKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvYmogIT09IGJ1dHRvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9MaW1pdGFyIG1vdmltaWVudG8gZW4gWCBhIGxhIGJhcnJhXHJcbiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBiYXJYIC0gMTUwO1xyXG4gICAgICAgICAgICBjb25zdCByaWdodCA9IGJhclggKyAxNTA7XHJcblxyXG4gICAgICAgICAgICBidXR0b24ueCA9IFBoYXNlci5NYXRoLkNsYW1wKGRyYWdYLCBsZWZ0LCByaWdodCk7XHJcblxyXG4gICAgICAgICAgICAvL0NvbnZlcnRpciBwb3NpY2nDs24gYSB1biB2YWxvciAwIC0gMVxyXG4gICAgICAgICAgICBjb25zdCB2b2x1bWUgPSAoYnV0dG9uLnggLSBsZWZ0KSAvIDMwMDtcclxuXHJcbiAgICAgICAgICAgIC8vQXBsaWNhciB2b2x1bWVuIGdsb2JhbFxyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IHZvbHVtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKTtcclxuXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMjcwLCA5NjAsIDU0MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnQ09OTkVDVElPTiBMT1NUJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMzAwLCAnQXR0ZW1wdGluZyB0byByZWNvbm5lY3QuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDM1MCwgJ0F0dGVtcHRzOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBBdHRlbXB0aW5nIHRvIHJlY29ubmVjdCR7ZG90c31gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEludGVudGFyIHJlY29uZWN0YXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUHJpbWVyIGludGVudG8gaW5tZWRpYXRvXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXR0ZW1wdFJlY29ubmVjdCgpIHtcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgQXR0ZW1wdHM6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XHJcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbk1hbmFnZXIuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWNvbm5lY3RlZCgpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGludGVydmFsXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIHJlc3RvcmVkIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIExvYmJ5IFNjZW5lIC0gV2FpdGluZyBmb3IgbXVsdGlwbGF5ZXIgbWF0Y2htYWtpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYmJ5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQXNjZW5zb3InLCAnYXNzZXRzL3NvdW5kcy9DYW5jaW9uRXNwZXJhLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgfVxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdbTG9iYnlTY2VuZV0gY3JlYXRlKCkgY2FsbGVkJyk7XHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgYWxwaGE6IDEsXHJcbiAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdGb25kbycpO1xyXG5cclxuICAgIGlmICghdGhpcy5iZ011c2ljKSB7XHJcbiAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdBc2NlbnNvcicsIHtcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnT25saW5lIE11bHRpcGxheWVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCAzMDAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKTtcclxuXHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnW0xvYmJ5U2NlbmVdIGNvbm5lY3RUb1NlcnZlcigpJyk7XHJcbiAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG4gICAgICBjb25zb2xlLmxvZygnW0xvYmJ5U2NlbmVdIFdTIFVSTDonLCB3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdbTG9iYnlTY2VuZV0gV1MgaW5zdGFuY2UgY3JlYXRlZCcsIHRoaXMud3MpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1dhaXRpbmcgZm9yIG9wcG9uZW50Li4uJyk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuaXNBY3RpdmUoJ0xvYmJ5U2NlbmUnKSkge1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gbG9zdCEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYFBsYXllcnMgaW4gcXVldWU6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICBpZiAodGhpcy5iZ011c2ljKSB7IFxyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG59XHJcbiAgICAgICAgLy8gU3RvcmUgZ2FtZSBkYXRhIGFuZCB0cmFuc2l0aW9uIHRvIG11bHRpcGxheWVyIGdhbWUgc2NlbmVcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBpZ2VvbiB9IGZyb20gJy4uL2VudGl0aWVzL1BpZ2Vvbi5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IFBhdXNlQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IEF0dGFja1BpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzJztcclxuaW1wb3J0IHsgQ2h1cnJvIH0gZnJvbSAnLi4vZW50aXRpZXMvQ2h1cnJvLmpzJztcclxuaW1wb3J0IHsgQXZlbmEgfSBmcm9tICcuLi9lbnRpdGllcy9BdmVuYS5qcyc7XHJcbmltcG9ydCB7IFBsdW1hIH0gZnJvbSAnLi4vZW50aXRpZXMvUGx1bWEuanMnO1xyXG5pbXBvcnQgeyBCYXN1cmEgfSBmcm9tICcuLi9lbnRpdGllcy9CYXN1cmEuanMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllckdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ011bHRpcGxheWVyR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmNodXJybyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlOyAgICAgICAgLy8ncGxheWVyMScgbyAncGxheWVyMidcclxuICAgICAgICB0aGlzLnJvbGVUZXh0ID0gbnVsbDsgICAgIC8vdGV4dG8gdGVtcG9yYWwgZW4gcGFudGFsbGEgcGFyYSBzYWJlciBxdWllbiBlcmVzXHJcbiAgICAgICAgdGhpcy5sb2NhbFBhbG9tYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9jYWxTY29yZSA9IDA7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IDA7XHJcbiAgICAgICAgLy9QYXJhIHF1ZSBkZWplIGRlIGRhciBwb3IgY3Vsb1xyXG4gICAgICAgIC8qKiBAdHlwZSB7eyB1cDogUGhhc2VyLklucHV0LktleWJvYXJkLktleSwgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleSwgcmlnaHQ6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXksIGF0dGFjazogUGhhc2VyLklucHV0LktleWJvYXJkLktleSB9fSAqL1xyXG4gICAgICAgIHRoaXMua2V5cztcclxuXHJcbiAgICAgICAgdGhpcy5jaHVycm9PdmVybGFwID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvd2VyVXBPdmVybGFwID0gbnVsbDtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAjcmVnaW9uIC8vUHJlbG9hZHMsIGhhZ28gcmVnaW9uIHBhcmEgc2ltcGxpZmljYXIgZWwgYnVzY2FyIGxhcyBjb3NhcyB5IHF1ZSBubyBzZWEgdG9kbyB0YW4gZXh0ZW5zb1xyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL1Nwcml0ZXMgZSBpbcOhZ2VuZXMgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL3Nwcml0ZXMvYmFja2dyb3VuZC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb24nLCAnYXNzZXRzL3Nwcml0ZXMvcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kbycsICdhc3NldHMvc3ByaXRlcy9kb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaHVycm8nLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2F2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0F2ZW5hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvUGx1bWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvQmFzdXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb19hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvblBsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fZmFzdC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25CYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zbG93LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkF2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc3Ryb25nLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9wJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fUGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fZCcsICdhc3NldHMvc3ByaXRlcy9JY29uX0RvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Rlc2NvbmV4aW9uJywgJ2Fzc2V0cy9zcHJpdGVzL2Rlc2NvbmV4aW9uLnBuZycpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgeSBzb25pZG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdOdW1iJywgJ2Fzc2V0cy9zb3VuZHMvTnVtYi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb1BsdW1hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvUGx1bWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9DaHVycm8nLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9DaHVycm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9CYXN1cmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9CYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdGFxdWUnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BdGFxdWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdmVuYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0FscGlzdGUubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vblNoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnY2h1cnJvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi1zaGVldC5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDI1LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgI2VuZHJlZ2lvblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW011bHRpcGxheWVyR2FtZVNjZW5lXSBTSFVURE9XTiBldmVudCBmaXJlZCcpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gREVTVFJPWSBldmVudCBmaXJlZCcpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1lvdSBhcmUgRG92ZW5hbmRvJyA6ICdZb3UgYXJlIFBhbG9tb24nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyMCwgcm9sZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL011c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdOdW1iJywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIHVwOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyxcclxuICAgICAgICAgICAgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEsXHJcbiAgICAgICAgICAgIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCxcclxuICAgICAgICAgICAgYXR0YWNrOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhdGZvcm1zKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5waWdlb25JbmRpY2F0b3JzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX2QnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX3AnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxID0gdGhpcy5hZGQudGV4dCgxMCwgMjAsICdEb3ZlbmFuZG86IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KDc1MCwgMjAsICdQYWxvbcOzbjogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGlnZW9uID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzLmFkZChwaWdlb24uc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Db2xpc2lvbmVzIGVudHJlIHBhbG9tYXMgeSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wbGF5ZXJTcHJpdGVzLCB0aGlzLnBsYXRmb3Jtcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF5ZXJTcHJpdGVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQbGF0Zm9ybXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg1NDAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmEgcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzEwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0MTUsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW8gcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjUwLCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9TdWVsb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0ODAsIDUxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoOTYwLCA2MCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9DYW1pc2V0YVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NDAsIDM2MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoOTAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGFudGFsb25lc1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzNDUsIDM2NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgaXpxdWllcmRvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMzLCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgZGVyZWNob1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg5MjcsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgaXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg5LCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4NzAsIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9Db25maWd1cmFjacOzbiBkZSBwYWxvbWFzIHkgY29udHJvbGVzXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIyJywgODAwLCA0MzUsICdwYWxvbW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhbG9tYSA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQodGhpcy5sb2NhbFBhbG9tYS5pZCwgdGhpcy5sb2NhbFBhbG9tYSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCh0aGlzLnJlbW90ZVBhbG9tYS5pZCwgdGhpcy5yZW1vdGVQYWxvbWEpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW90ZVBhbG9tYS5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hLmZhY2luZyA9ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGFkZGxlVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnJlbW90ZVBhbG9tYTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQb3NpY2nDs25cclxuICAgICAgICAgICAgICAgIHAuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBwLnNwcml0ZS55ID0gZGF0YS55O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERpcmVjY2nDs25cclxuICAgICAgICAgICAgICAgIHAuZmFjaW5nID0gZGF0YS5mYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBwLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmFjaW5nID09PSAnbGVmdCcgPyAhcC5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgOiBwLmludmVydEZsaXBGb3JNb3ZlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBbmltYWNpw7NuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltS2V5ID0gcC5jaGFyYWN0ZXIgPT09ICdwYWxvbW9uJyA/IGBwYWxvbW9uXyR7ZGF0YS5hbmltfWAgOiBgZG92ZW5hbmRvXyR7ZGF0YS5hbmltfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFwLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcgfHxcclxuICAgICAgICAgICAgICAgICAgICBwLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbS5rZXkgIT09IGFuaW1LZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLnNwcml0ZS5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzY29yZVVwZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2NvcmVzIGZyb20gc2VydmVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IGRhdGEucGxheWVyMVNjb3JlIDogZGF0YS5wbGF5ZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVNjb3JlID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyBkYXRhLnBsYXllcjJTY29yZSA6IGRhdGEucGxheWVyMVNjb3JlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dChkYXRhLnBsYXllcjFTY29yZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDIuc2V0VGV4dChkYXRhLnBsYXllcjJTY29yZS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2F0dGFja1Jlc29sdmUnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2tlciA9IHRoaXMucGxheWVycy5nZXQoZGF0YS5hdHRhY2tlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmICghYXR0YWNrZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tlci5mYWNpbmcgPSBkYXRhLmZhY2luZztcclxuICAgICAgICAgICAgICAgIGF0dGFja2VyLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmFjaW5nID09PSAnbGVmdCc7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21kID0gbmV3IEF0dGFja1BpZ2VvbkNvbW1hbmQoYXR0YWNrZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhjbWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1TcGF3bic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbUZyb21TZXJ2ZXIoZGF0YS5pdGVtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnaXRlbURlc3Bhd24nOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbVR5cGUgPT09ICdjaHVycm8nICYmIHRoaXMuY2h1cnJvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2h1cnJvT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQucmVtb3ZlQ29sbGlkZXIodGhpcy5jaHVycm9PdmVybGFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVycm9PdmVybGFwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVycm8uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pdGVtVHlwZSA9PT0gJ3Bvd2VyVXAnICYmIHRoaXMucG93ZXJVcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBPdmVybGFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBPdmVybGFwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXIsIGRhdGEucGxheWVyMVNjb3JlLCBkYXRhLnBsYXllcjJTY29yZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1Db2xsZWN0ZWQnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwaWdlb24gPSBkYXRhLnBsYXllcklkID09PSB0aGlzLmxvY2FsUGFsb21hLmlkID8gdGhpcy5sb2NhbFBhbG9tYSA6IHRoaXMucmVtb3RlUGFsb21hO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1UeXBlID09PSAnY2h1cnJvJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvQ2h1cnJvJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hZGRTY29yZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsaXphciB0ZXh0b3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlVGV4dFAxLnNldFRleHQoYERvdmVuYW5kbzogJHt0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IHRoaXMubG9jYWxQYWxvbWEuc2NvcmUgOiB0aGlzLnJlbW90ZVBhbG9tYS5zY29yZX1gKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlVGV4dFAyLnNldFRleHQoYFBhbG9tw7NuOiAke3RoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gdGhpcy5yZW1vdGVQYWxvbWEuc2NvcmUgOiB0aGlzLmxvY2FsUGFsb21hLnNjb3JlfWApO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBsaWNhciBlZmVjdG9zIHNlZ8O6biBwb3dlci11cFxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5pdGVtVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhdmVuYSc6IC8vIG3DoXMgZnVlcnphXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ1Nvbmlkb0F2ZW5hJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25BdmVuYScsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnN0dW5Gb3JjZSArPSA1MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXR0YWNrRm9yY2UgKz0gMjAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDUwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uc3R1bkZvcmNlIC09IDUwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXR0YWNrRm9yY2UgLT0gMjAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGx1bWEnOiAvLyB2ZWxvY2lkYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvUGx1bWEnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvblBsdW1hJywgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAxNTAsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc3VyYSc6IC8vIHJhbGVudGl6YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9CYXN1cmEnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvbkJhc3VyYScsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFwcGx5TW9kaWZpZXIoJ3NwZWVkJywgLTE1MCwgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnJlbW90ZVBhbG9tYS5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnRGVzY29uZXhpb24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI1MCwgJ09wcG9uZW50IERpc2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnUmV0dXJuIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gbnVsbDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gUmV0dXJuIHRvIE1lbnUgY2xpY2tlZCcpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMud3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICAgICAgICAgICdbTXVsdGlwbGF5ZXJHYW1lU2NlbmVdIENsb3NpbmcgV1MgZnJvbSBSZXR1cm4gYnV0dG9uJ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhd25JdGVtRnJvbVNlcnZlcihpdGVtRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgeCwgeSB9ID0gaXRlbURhdGE7XHJcblxyXG4gICAgICAgIGxldCBJdGVtQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIGxldCByZWZOYW1lID0gbnVsbDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NodXJybyc6IEl0ZW1DbGFzcyA9IENodXJybzsgcmVmTmFtZSA9ICdjaHVycm8nOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYXZlbmEnOiBJdGVtQ2xhc3MgPSBBdmVuYTsgcmVmTmFtZSA9ICdwb3dlclVwJzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsdW1hJzogSXRlbUNsYXNzID0gUGx1bWE7IHJlZk5hbWUgPSAncG93ZXJVcCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiYXN1cmEnOiBJdGVtQ2xhc3MgPSBCYXN1cmE7IHJlZk5hbWUgPSAncG93ZXJVcCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1DbGFzcyh0aGlzLCB4LCB5KTtcclxuICAgICAgICB0aGlzW3JlZk5hbWVdID0gaXRlbTtcclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09ICdjaHVycm8nICYmIHRoaXMuY2h1cnJvT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyb092ZXJsYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyb092ZXJsYXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmTmFtZSA9PT0gJ3Bvd2VyVXAnICYmIHRoaXMucG93ZXJVcE92ZXJsYXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwT3ZlcmxhcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb3ZlcmxhcCDihpIgc29sbyBlbnbDrWEgYWwgc2Vydmlkb3JcclxuICAgICAgICBjb25zdCBvdmVybGFwID0gdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZSxcclxuICAgICAgICAgICAgaXRlbS5zcHJpdGUsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpdGVtVG91Y2gnLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbURhdGEuaWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChyZWZOYW1lID09PSAnY2h1cnJvJykgdGhpcy5jaHVycm9PdmVybGFwID0gb3ZlcmxhcDtcclxuICAgICAgICBlbHNlIHRoaXMucG93ZXJVcE92ZXJsYXAgPSBvdmVybGFwO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dJdGVtSWNvbihwaWdlb24sIGljb25LZXksIGR1cmF0aW9uKSB7XHJcblxyXG4gICAgICAgIC8vIExpbXBpYXIgaWNvbm8gcHJldmlvXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaWNvblg7XHJcbiAgICAgICAgY29uc3QgaWNvblkgPSA4NTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcmVUZXh0UDEgJiYgdGhpcy5zY29yZVRleHRQMikge1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2NvcmVUZXh0UDEueCArIDI1XHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnID8gNDAgOiA4NTA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKGljb25YLCBpY29uWSwgaWNvbktleSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKDUwLCA1MClcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMDApO1xyXG5cclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Fc3RhYmxlY2UgZWwgZXN0YWRvIGRlIHBhdXNhIGRlbCBqdWVnb1xyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhdXNlQ29tbWFuZCh0aGlzLCBuZXdQYXVzZWRTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZSh3aW5uZXJJZCwgcGxheWVyMVNjb3JlLCBwbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gZW5kR2FtZSBjYWxsZWQsIHdpbm5lcjonLCB3aW5uZXJJZCk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTXVsdGlwbGF5ZXJHYW1lU2NlbmVdIFdTIHN0YXRlIGF0IGVuZEdhbWU6JyxcclxuICAgICAgICAgICAgdGhpcy53cyA/IHRoaXMud3MucmVhZHlTdGF0ZSA6ICdOTyBXUydcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZEdhbWVTY2VuZScsIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgd2lubmVySWQsXHJcbiAgICAgICAgICAgICAgICBsb2NhbFBsYXllcklkOiB0aGlzLnBsYXllclJvbGUsIC8vIDwtIGVzdGUgZXMgZWwganVnYWRvciBsb2NhbFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMVNjb3JlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMlNjb3JlLFxyXG4gICAgICAgICAgICAgICAgd3M6IHRoaXMud3NcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5nYW1lRW5kZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBpZ2VvbiA9IHRoaXMubG9jYWxQYWxvbWE7XHJcbiAgICAgICAgaWYgKCFwaWdlb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0w6Egc3R1bmFkYSBubyBwdWVkZSBoYWNlciBuYWRhOiBkZXRlbmVyIG1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgIGlmIChwaWdlb24uc3R1bm5lZCkge1xyXG4gICAgICAgICAgICAvL1Blcm1pdGlyIGtub2NrYmFjayBkdXJhbnRlIHVuIGNvcnRvIHBlcmlvZG8gdHJhcyByZWNpYmlyIGVsIGdvbHBlXHJcbiAgICAgICAgICAgIGlmICghcGlnZW9uLmtub2NrYmFja0V4cGlyZSB8fCB0aGlzLnRpbWUubm93ID4gcGlnZW9uLmtub2NrYmFja0V4cGlyZSkge1xyXG4gICAgICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Nb3ZpbWllbnRvIGhvcml6b250YWwgKEEgLSBEKVxyXG4gICAgICAgIGxldCBtb3ZlWCA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmtleXMubGVmdC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgbW92ZVggPSAtMTtcclxuICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMua2V5cy5yaWdodC5pc0Rvd24pIHtcclxuICAgICAgICAgICAgbW92ZVggPSAxO1xyXG4gICAgICAgICAgICBwaWdlb24uc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TYWx0byAoVylcclxuICAgICAgICBjb25zdCBqdW1wID0gUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMua2V5cy51cCk7XHJcblxyXG4gICAgICAgIC8vRW52aWFyIGNvbWFuZG8gY29uIG1vdmltaWVudG8gaG9yaXpvbnRhbCB5IHNhbHRvXHJcbiAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVQaWdlb25Db21tYW5kKHBpZ2VvbiwgbW92ZVgsIGp1bXApO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MobW92ZUNvbW1hbmQpO1xyXG5cclxuICAgICAgICAvLyBTZW5kIHBhZGRsZSBwb3NpdGlvbiB0byBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BhZGRsZU1vdmUnLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZS55LFxyXG4gICAgICAgICAgICBhbmltOiB0aGlzLmxvY2FsUGFsb21hLmN1cnJlbnRBbmltLFxyXG4gICAgICAgICAgICBmYWNpbmc6IHRoaXMubG9jYWxQYWxvbWEuZmFjaW5nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQXRhcXVlXHJcbiAgICAgICAgLy8gQXRhcXVlIChGKVxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmF0dGFjaykpIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXR0YWNrUmVxdWVzdCcsXHJcbiAgICAgICAgICAgICAgICBmYWNpbmc6IHBpZ2Vvbi5mYWNpbmcsXHJcbiAgICAgICAgICAgICAgICB4OiBwaWdlb24uc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB5OiBwaWdlb24uc3ByaXRlLnlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5waWdlb25JbmRpY2F0b3JzW2lkXTtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gcGlnZW9uLnNwcml0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUueSA8IC01KSB7XHJcbiAgICAgICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3RhIGZ1ZXJhIHBvciBhcnJpYmEgbXVlc3RyYSBlbCBpbmRpY2Fkb3JcclxuICAgICAgICAgICAgICAgIGluZGljYXRvci5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnggPSBzcHJpdGUueDtcclxuICAgICAgICAgICAgICAgIGluZGljYXRvci55ID0gNTA7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9TaSB2dWVsdmUgYSBlbnRyYXIgc2Ugb2N1bHRhIGVsIGljb25vXHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLy9FbGltaW5hciBtw7pzaWNhIGFsIGNlcnJhciBsYSBlc2NlbmEgeSBjZXJycmFyIGxpc3RlbmVyc1xyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gc2h1dGRvd24gY2FsbGVkJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgICAgICdbTXVsdGlwbGF5ZXJHYW1lU2NlbmVdIFdTIHN0YXRlIG9uIHNodXRkb3duOicsXHJcbiAgICAgICAgICAgIHRoaXMud3MucmVhZHlTdGF0ZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9DcmVkaXRzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb250cm9sc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29udHJvbHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEVuZEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0VuZEdhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFN0b3J5U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9TdG9yeVNjZW5lLmpzJztcclxuaW1wb3J0IHsgT3B0aW9uc1NjZW5lIH0gZnJvbSAnLi9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgQ29ubmVjdGlvbkxvc3RTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMnO1xyXG5pbXBvcnQgTG9iYnlTY2VuZSBmcm9tICcuL3NjZW5lcy9Mb2JieVNjZW5lLmpzJztcclxuaW1wb3J0IHsgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgd2lkdGg6IDk2MCxcclxuICBoZWlnaHQ6IDU0MCxcclxuICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgcGh5c2ljczoge1xyXG4gICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICBhcmNhZGU6IHtcclxuICAgICAgZ3Jhdml0eTogeyB5OiAxMjAwIH0sXHJcbiAgICAgIGRlYnVnOiBmYWxzZVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2NlbmU6IFtNZW51U2NlbmUsIEdhbWVTY2VuZSwgUGF1c2VTY2VuZSwgQ3JlZGl0c1NjZW5lLCBDb250cm9sc1NjZW5lLCBFbmRHYW1lU2NlbmUsIFN0b3J5U2NlbmUsIE9wdGlvbnNTY2VuZSwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgTG9iYnlTY2VuZSwgTXVsdGlwbGF5ZXJHYW1lU2NlbmVdLFxyXG4gIGJhY2tncm91bmRDb2xvcjogJyMxYTJhMmUnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIlBoYXNlciIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsIk1lbnVTY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJhdWRpbyIsImltYWdlIiwiY3JlYXRlIiwiY2FtZXJhcyIsIm1haW4iLCJzZXRBbHBoYSIsImFkZCIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJzZXRPcmlnaW4iLCJiZ011c2ljIiwic291bmQiLCJsb29wIiwidm9sdW1lIiwicGxheSIsImNvbm5lY3Rpb25UZXh0Iiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwic2V0RGVwdGgiLCJvbmxpbmVCdG5TcHJpdGUiLCJvbiIsInNldFRleHR1cmUiLCJsb2ciLCJzdG9wIiwiZGVzdHJveSIsInNjZW5lIiwic3RhcnQiLCJjcmVkaXRzQnRuU3ByaXRlIiwidHJhbnNpdGlvbiIsInRhcmdldCIsIm1vdmVCZWxvdyIsIm9uVXBkYXRlIiwicHJvZ3Jlc3MiLCJvcHRpb25zQnRuU3ByaXRlIiwiY29udHJvbHNCdG5TcHJpdGUiLCJzdG9yeUJ0blNwcml0ZSIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2V0Q29sb3IiLCJzaHV0ZG93biIsIlBpZ2VvbiIsImlkIiwieCIsInkiLCJjaGFyYWN0ZXIiLCJzY29yZSIsInNwZWVkIiwianVtcFNwZWVkIiwiYXR0YWNrUmFuZ2UiLCJhdHRhY2tGb3JjZSIsInN0dW5Gb3JjZSIsImF0dGFja0Nvb2xkb3duIiwibGFzdEF0dGFja1RpbWUiLCJmYWNpbmciLCJzdHVubmVkIiwic3R1blRpbWVvdXQiLCJkZWZhdWx0U3R1bkR1cmF0aW9uIiwia25vY2tiYWNrRXhwaXJlIiwiaXNBdHRhY2tpbmciLCJjdXJyZW50QW5pbSIsInRleHR1cmVLZXkiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5IiwicGlnZW9uIiwiaW52ZXJ0RmxpcEZvck1vdmVtZW50Iiwic2V0RmxpcFgiLCJjYW5BdHRhY2siLCJ0aW1lIiwibWFya0F0dGFja2VkIiwicGxheUFuaW1hdGlvbiIsImFuaW1OYW1lIiwia2V5IiwiYW5pbXMiLCJleGlzdHMiLCJ3YXJuIiwidGFrZUhpdCIsImtub2NrYmFja1giLCJzZXRWZWxvY2l0eVgiLCJkZWxheWVkQ2FsbCIsInNldFRpbnQiLCJjbGVhclRpbnQiLCJzdHVuIiwiZHVyYXRpb25NcyIsInNldEFjY2VsZXJhdGlvblgiLCJzZXREYW1waW5nIiwic2V0RHJhZ1giLCJzdGFydEF0dGFja0FuaW1hdGlvbiIsImVuZEF0dGFja0FuaW1hdGlvbiIsInZlbG9jaXR5Iiwic2hvd0F0dGFja1Nwcml0ZSIsImF0dGFja1Nwcml0ZSIsImRlcHRoIiwib2Zmc2V0WCIsImZvbGxvd0V2ZW50IiwiYWRkRXZlbnQiLCJkZWxheSIsInJlbW92ZSIsImFkZFNjb3JlIiwidmFsdWUiLCJhcHBseU1vZGlmaWVyIiwicHJvcGVydHkiLCJhbW91bnQiLCJoYXNPd25Qcm9wZXJ0eSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJzIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsInByb2Nlc3MiLCJjb21tYW5kIiwiZXhlY3V0ZSIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGlnZW9uQ29tbWFuZCIsIm1vdmVYIiwianVtcCIsImRlc2lyZWRGbGlwIiwib25GbG9vciIsImJsb2NrZWQiLCJkb3duIiwidG91Y2hpbmciLCJzZXRWZWxvY2l0eVkiLCJQYXVzZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJBdHRhY2tQaWdlb25Db21tYW5kIiwiZGlyIiwiaGl0Ym94Iiwic2V0VmlzaWJsZSIsInNldEFsbG93R3Jhdml0eSIsInNldEltbW92YWJsZSIsInNldFNpemUiLCJiYXNlSGVpZ2h0Iiwib3ZlcmxhcCIsInBsYXllclNwcml0ZXMiLCJoYiIsInRhcmdldFNwcml0ZSIsInRhcmdldFBpZ2VvbiIsImtub2NrIiwid29ybGQiLCJyZW1vdmVDb2xsaWRlciIsIkl0ZW0iLCJzZXREaXNwbGF5U2l6ZSIsImV4cGlyZVRpbWVyIiwiYXBwbHlFZmZlY3QiLCJzaG93SXRlbUljb24iLCJpY29uS2V5IiwiYWN0aXZlSWNvblNwcml0ZSIsImFjdGl2ZUljb25UaW1lciIsImljb25YIiwic2NvcmVUZXh0UDEiLCJzY29yZVRleHRQMiIsIkNodXJybyIsIkF2ZW5hIiwiUGx1bWEiLCJCYXN1cmEiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImVzY1dhc0Rvd24iLCJnYW1lRW5kZWQiLCJwcm9jZXNzb3IiLCJjaHVycm8iLCJwb3dlclVwIiwiaXRlbVNwYXduUG9zaXRpb25zIiwicG93ZXJVcHMiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJjcmVhdGVQbGF0Zm9ybXMiLCJzZXRVcFBsYXllcnMiLCJwaWdlb25JbmRpY2F0b3JzIiwicGxheWVyMSIsInBsYXllcjIiLCJmcmFtZXMiLCJmcmFtZSIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZm9udFN0eWxlIiwiZ3JvdXAiLCJjb2xsaWRlciIsInBsYXRmb3JtcyIsImVzY0tleSIsImlucHV0Iiwia2V5Ym9hcmQiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwiRVNDIiwic3Bhd25JdGVtIiwiQXJyYXkiLCJHZXRSYW5kb20iLCJldmVudHMiLCJwYXVzZSIsImxhdW5jaCIsInByZXZpb3VzU2NlbmUiLCJzdGF0aWNHcm91cCIsInJlZnJlc2hCb2R5IiwibGVmdFBpZ2VvbiIsInJpZ2h0UGlnZW9uIiwiZmxpcFgiLCJzZXQiLCJwbGF5ZXJJZCIsInVwS2V5IiwibGVmdEtleSIsInJpZ2h0S2V5IiwiYXR0YWNrS2V5IiwibWFwIiwiY29uZmlnIiwidXBLZXlPYmoiLCJyaWdodEtleU9iaiIsImxlZnRLZXlPYmoiLCJhdHRhY2tLZXlPYmoiLCJ0eXBlIiwicmVmTmFtZSIsIkl0ZW1DbGFzcyIsImF2YWlsYWJsZVBvc2l0aW9ucyIsImZpbHRlciIsInBvcyIsIml0ZW0iLCJvbkl0ZW1QaWNrdXAiLCJsaWZldGltZSIsImRlbGV0ZUl0ZW0iLCJwaWdlb25TcHJpdGUiLCJpdGVtU3ByaXRlIiwiZ2V0IiwiZ2V0SXRlbUJ5U3ByaXRlIiwid2lubmVySWQiLCJvcmlnaW5hbFNjZW5lIiwicmVzdW1lIiwidG9nZ2xlUGF1c2UiLCJuZXdQYXVzZWRTdGF0ZSIsInVwZGF0ZSIsImlzRG93biIsIm1hcHBpbmciLCJtb3ZlQ29tbWFuZCIsImF0dGFja0NtZCIsImluZGljYXRvciIsIlBhdXNlU2NlbmUiLCJyZWN0YW5nbGUiLCJyZXN1bWVCdG5TcHJpdGUiLCJtZW51QnRuU3ByaXRlIiwiQ3JlZGl0c1NjZW5lIiwic2V0U2NhbGUiLCJiYWNrQnRuU3ByaXRlIiwiQ29udHJvbHNTY2VuZSIsIkVuZEdhbWVTY2VuZSIsIndzIiwid2lubmVySXNQMSIsInBsYXllcldvbiIsImxvY2FsUGxheWVySWQiLCJiZ0tleSIsIm1haW5UZXh0Iiwid2lubmVyVGV4dCIsIm9uU2h1dGRvd24iLCJyZWFkeVN0YXRlIiwiV2ViU29ja2V0IiwiT1BFTiIsImNsb3NlIiwiU3RvcnlTY2VuZSIsImFsaWduIiwid29yZFdyYXAiLCJ3aWR0aCIsInVzZUFkdmFuY2VkV3JhcCIsIk9wdGlvbnNTY2VuZSIsImJ1dHRvbiIsImRyYWdnYWJsZSIsImJhclgiLCJzZXREcmFnZ2FibGUiLCJwb2ludGVyIiwib2JqIiwiZHJhZ1giLCJkcmFnWSIsIkNsYW1wIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsIkxvYmJ5U2NlbmUiLCJTY2VuZSIsImhlaWdodCIsInBsYXllckNvdW50VGV4dCIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsIm9ub3BlbiIsInNlbmQiLCJvbm1lc3NhZ2UiLCJldmVudCIsInBhcnNlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwicG9zaXRpb24iLCJwbGF5ZXJSb2xlIiwicm9sZSIsInJvb21JZCIsIk11bHRpcGxheWVyR2FtZVNjZW5lIiwicm9sZVRleHQiLCJsb2NhbFBhbG9tYSIsInJlbW90ZVBhbG9tYSIsImxvY2FsU2NvcmUiLCJyZW1vdGVTY29yZSIsImtleXMiLCJjaHVycm9PdmVybGFwIiwicG93ZXJVcE92ZXJsYXAiLCJhZGRLZXlzIiwidXAiLCJXIiwibGVmdCIsIkEiLCJyaWdodCIsIkQiLCJhdHRhY2siLCJGIiwiY3JlYXRlQW5pbWF0aW9ucyIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwicCIsImFuaW1LZXkiLCJhbmltIiwiaXNQbGF5aW5nIiwicGxheWVyMVNjb3JlIiwicGxheWVyMlNjb3JlIiwiYXR0YWNrZXIiLCJhdHRhY2tlcklkIiwiY21kIiwic3Bhd25JdGVtRnJvbVNlcnZlciIsIml0ZW1UeXBlIiwiZW5kR2FtZSIsIndpbm5lciIsInNldFZlbG9jaXR5IiwiY3JlYXRlTWVudUJ1dHRvbiIsIml0ZW1EYXRhIiwic2VuZE1lc3NhZ2UiLCJpdGVtSWQiLCJtZXNzYWdlIiwiSnVzdERvd24iLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==