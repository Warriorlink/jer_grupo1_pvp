(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("AveMaria","assets/sounds/AveMaria.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.add.image(480,270,"Fondo"),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,100,"PvP",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic||(this.bgMusic=this.sound.add("AveMaria",{loop:!0,volume:.5}),this.bgMusic.play()),this.connectionText=this.add.text(480,180,"Server: Checking...",{fontSize:"24px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.localBtnSprite=this.add.image(250,360,"botonEncima").setInteractive({useHandCursor:!0}),this.localBtnText=this.add.text(250,360,"Local (Not Available)",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),this.onlineBtnSprite=this.add.image(700,360,"boton").setInteractive({useHandCursor:!0}),this.onlineBtnText=this.add.text(700,360,"Online",{fontSize:"24px",color:"#000000ff"}).setOrigin(.5).setDepth(10),this.onlineBtnSprite.on("pointerover",()=>this.onlineBtnSprite.setTexture("botonEncima")),this.onlineBtnSprite.on("pointerout",()=>this.onlineBtnSprite.setTexture("boton")),this.onlineBtnSprite.on("pointerdown",()=>{this.onlineBtnSprite.input&&this.onlineBtnSprite.input.enabled&&(this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.scene.stop("LobbyScene"),this.cameras.main.setAlpha(1),this.scene.start("LobbyScene"))}),this.creditsBtnSprite=this.add.image(250,500,"boton").setInteractive({useHandCursor:!0}),this.creditsBtnText=this.add.text(250,500,"Credits",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),this.creditsBtnSprite.on("pointerover",()=>this.creditsBtnSprite.setTexture("botonEncima")),this.creditsBtnSprite.on("pointerout",()=>this.creditsBtnSprite.setTexture("boton")),this.creditsBtnSprite.on("pointerdown",()=>{this.creditsBtnSprite.input&&this.creditsBtnSprite.input.enabled&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"CreditsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}),this.optionsBtnSprite=this.add.image(700,500,"boton").setInteractive({useHandCursor:!0}),this.optionsBtnText=this.add.text(700,500,"Options",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),this.optionsBtnSprite.on("pointerover",()=>this.optionsBtnSprite.setTexture("botonEncima")),this.optionsBtnSprite.on("pointerout",()=>this.optionsBtnSprite.setTexture("boton")),this.optionsBtnSprite.on("pointerdown",()=>{this.optionsBtnSprite.input&&this.optionsBtnSprite.input.enabled&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"OptionsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}),this.controlsBtnSprite=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0}),this.controlsBtnText=this.add.text(700,430,"Controls",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),this.controlsBtnSprite.on("pointerover",()=>this.controlsBtnSprite.setTexture("botonEncima")),this.controlsBtnSprite.on("pointerout",()=>this.controlsBtnSprite.setTexture("boton")),this.controlsBtnSprite.on("pointerdown",()=>{this.controlsBtnSprite.input&&this.controlsBtnSprite.input.enabled&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"ControlsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}),this.storyBtnSprite=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0}),this.storyBtnText=this.add.text(250,430,"Story",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),this.storyBtnSprite.on("pointerover",()=>this.storyBtnSprite.setTexture("botonEncima")),this.storyBtnSprite.on("pointerout",()=>this.storyBtnSprite.setTexture("boton")),this.storyBtnSprite.on("pointerdown",()=>{this.storyBtnSprite.input&&this.storyBtnSprite.input.enabled&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"StoryScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}),this.buttons=[this.localBtnSprite,this.onlineBtnSprite,this.creditsBtnSprite,this.optionsBtnSprite,this.controlsBtnSprite,this.storyBtnSprite],this.setButtonsEnabled(t.getStatus().isConnected),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Server: ${e.count} user(s) connected`),this.connectionText.setColor("#ffffffff"),this.setButtonsEnabled(!0)):(this.connectionText.setText("Server: Disconnected"),this.connectionText.setColor("#ff0000ff"),this.setButtonsEnabled(!1))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}setButtonsEnabled(e){if(!this.buttons||!Array.isArray(this.buttons))return;const t=e?1:.5;for(const s of this.buttons)s&&(e?(s.input&&s.input.enabled||s.setInteractive({useHandCursor:!0}),s.clearTint()):(s.input&&s.input.enabled&&s.disableInteractive(),s.setTexture("boton"),s.setTint(8947848)),s.setAlpha(t))}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i{constructor(e,t,s,i,o){this.scene=e,this.id=t,this.character=o,this.score=0,this.speed=300,this.jumpSpeed=630,this.attackRange=40,this.attackForce=200,this.stunForce=1e3,this.attackCooldown=500,this.lastAttackTime=0,this.facing="right",this.stunned=!1,this.stunTimeout=null,this.defaultStunDuration=1e3,this.knockbackExpire=null,this.isAttacking=!1,this.currentAnim="idle";let n=null;"palomon"===o?n="palomonSheet":"dovenando"===o?n="dovenandoSheet":(console.error("Personaje desconocido:",o),n="palomonSheet"),this.sprite=this.scene.physics.add.sprite(s,i,n),this.sprite.body.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.pigeon=this,this.invertFlipForMovement="dovenando"===o,this.sprite.setFlipX(this.invertFlipForMovement)}canAttack(e){return(e=e||this.scene.time.now)-this.lastAttackTime>=this.attackCooldown}markAttacked(e){this.lastAttackTime=e||this.scene.time.now}playAnimation(e){if(this.isAttacking)return;const t=`${this.character}_${e}`;this.scene.anims.exists(t)?this.sprite.anims.play(t,!0):console.warn(`Animación no existe: ${t}`)}takeHit(e=0){this.sprite.setVelocityX(e),this.knockbackExpire=this.scene.time.now+120,this.scene.time.delayedCall(120,()=>{this.stunned&&this.sprite.setVelocityX(0)}),this.stunned||(this.sprite.setTint(16711680),this.scene.time.delayedCall(200,()=>{this.stunned||this.sprite.clearTint()}))}stun(e){e=null==e?this.defaultStunDuration:e,this.stunned||(this.stunned=!0,this.sprite.setTint(10066431),this.sprite.setVelocityX(0),this.sprite.setAccelerationX(0),this.sprite.setDamping(!0),this.sprite.setDragX(900),this.stunTimeout=this.scene.time.delayedCall(e,()=>{this.stunned=!1,this.sprite.clearTint(),this.sprite.setDamping(!1),this.sprite.setDragX(0),this.stunTimeout=null}))}startAttackAnimation(){if(this.isAttacking)return;this.isAttacking=!0;const e=`${this.character}_attack`;this.scene.anims.exists(e)&&this.sprite.anims.play(e,!0),this.sprite.setFlipX("left"===this.facing?!this.invertFlipForMovement:this.invertFlipForMovement),this.scene.time.delayedCall(250,()=>{this.endAttackAnimation()})}endAttackAnimation(){this.isAttacking=!1,0===this.sprite.body.velocity.x?this.playAnimation("idle"):this.playAnimation("walk")}showAttackSprite(e=250){const t=this.scene,s="dovenando"===this.character?"dovenandoAttack":"palomonAttack",i=t.add.sprite(this.sprite.x,this.sprite.y,s);i.setOrigin(.5,.5),i.setDepth(this.sprite.depth+1);const o="right"===this.facing?20:-20;i.x+=o,i.setFlipX("left"===this.facing);const n=t.time.addEvent({delay:16,loop:!0,callback:()=>{i.x=this.sprite.x+o,i.y=this.sprite.y}});t.time.delayedCall(e,()=>{n.remove(!1),i.destroy()})}addScore(e){this.score+=e,console.log(`${this.id} recogió un Churro → score: ${this.score}`)}applyModifier(e,t,s){this.hasOwnProperty(e)?(this[e]+=t,this.scene.time.addEvent({delay:s,callback:()=>{this[e]-=t}})):console.warn(`La propiedad ${e} no existe en la paloma.`)}}class o{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class n{execute(){}serialize(){}getPlayer(){}}class a extends n{constructor(e,t=0,s=!1){super(),this.pigeon=e,this.moveX=t,this.jump=s}execute(){const e=this.pigeon,t=e.sprite;if(e.stunned)return t.setVelocityX(0),void e.playAnimation("idle");if(this.moveX>0?e.facing="right":this.moveX<0&&(e.facing="left"),0!==this.moveX){const s=e.invertFlipForMovement?this.moveX>0:this.moveX<0;t.setFlipX(s)}if(t.setVelocityX(this.moveX*e.speed),0!==this.moveX?(e.playAnimation("walk"),e.currentAnim="walk"):(e.playAnimation("idle"),e.currentAnim="idle"),this.jump){const s=t.body;s&&("function"==typeof s.onFloor?s.onFloor():s.blocked&&s.blocked.down||s.touching&&s.touching.down)&&t.setVelocityY(-e.jumpSpeed)}}}class r extends n{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class h extends n{constructor(e){super(),this.pigeon=e}execute(){const e=this.pigeon.scene;this.pigeon.currentAnim="attack",this.pigeon.startAttackAnimation(),this.pigeon.showAttackSprite(250),e.sound.play("SonidoAtaque",{volume:.7});const t="right"===this.pigeon.facing?1:-1,s=this.pigeon.sprite.x+t*this.pigeon.attackRange,i=this.pigeon.sprite.y,o=e.physics.add.sprite(s,i,null);o.setVisible(!1),o.body.setAllowGravity(!1),o.body.setImmovable(!0),o.setSize(this.pigeon.attackRange,.6*this.pigeon.baseHeight);const n=e.physics.add.overlap(o,e.playerSprites,(s,i)=>{if(i===this.pigeon.sprite)return;const o=i.pigeon;if(!o)return;if(o.id===this.pigeon.id)return;const a=this.pigeon.attackForce*t;o.stun(this.pigeon.stunForce),o.takeHit(a),e.physics?.world&&n&&e.physics.world.removeCollider(n)});e.time.delayedCall(120,()=>{e.physics?.world&&n&&e.physics.world.removeCollider(n),o?.destroy()})}}class c{constructor(e,t,s,i){this.scene=e,this.sprite=e.physics.add.sprite(t,s,i),this.sprite.setDisplaySize(40,40),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.expireTimer=null}applyEffect(e){console.warn("applyEffect() no implementado en el item")}showItemIcon(e,t,s){e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null);let i=null;i=this.scene.scoreTextP1&&this.scene.scoreTextP2?"player1"===e.id?this.scene.scoreTextP1.x+25:this.scene.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.scene.add.image(i,85,t),e.activeIconSprite.setDisplaySize(50,50),e.activeIconTimer=this.scene.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null)}})}destroy(){this.sprite.destroy()}}class l extends c{constructor(e,t,s){super(e,t,s,"churroSheet"),this.sprite.play("churro_anim")}applyEffect(e){this.scene.sound.play("SonidoChurro",{volume:.5}),e.addScore(1)}}class p extends c{constructor(e,t,s){super(e,t,s,"avena")}applyEffect(e){const t=5e3;this.scene.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(e,"iconAvena",t),e.applyModifier("attackForce",300,t),e.applyModifier("stunForce",1e3,t)}}class d extends c{constructor(e,t,s){super(e,t,s,"pluma")}applyEffect(e){this.scene.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(e,"iconPluma",5e3),e.applyModifier("speed",200,5e3)}}class u extends c{constructor(e,t,s){super(e,t,s,"basura")}applyEffect(e){this.scene.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(e,"iconBasura",5e3),e.applyModifier("speed",-100,5e3)}}class m extends e.Scene{constructor(){super("GameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"]}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.time.addEvent({delay:5e3,loop:!0,callback:()=>{null===this.churro&&this.spawnItem("churro")}}),this.time.addEvent({delay:7e3,loop:!0,callback:()=>{null===this.powerUp&&this.spawnItem(e.Utils.Array.GetRandom(this.powerUps))}}),this.events.on("shutdown",this.shutdown,this),this.events.on("destroy",this.shutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=l;break;case"avena":s="powerUp",i=p;break;case"pluma":s="powerUp",i=d;break;case"basura":s="powerUp",i=u;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),n=e.Utils.Array.GetRandom(o),a=new i(this,n.x,n.y);if(this[s]=a,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,a.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;a.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===a&&this.deleteItem(a)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;e.leftKeyObj.isDown?s=-1:e.rightKeyObj.isDown&&(s=1);const i=e.upKeyObj.isDown;let o=new a(t,s,i);if(this.processor.process(o),e.attackKeyObj&&e.attackKeyObj.isDown){const e=new h(t);this.processor.process(e)}this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class f extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"Game Paused",{fontSize:"64px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const t=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Resume",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()});const s=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Return to Menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class y extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Credits",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Game developed by GB3D",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.add.text(480,250,"Artist:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,290,"Hugo Checa",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,350,"Programmers:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,390,"Alejandro Marín",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,425,"Lucas Lorente",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,460,"Miguel Amado",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,510,"boton").setInteractive({useHandCursor:!0});this.add.text(480,510,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class g extends e.Scene{constructor(){super("ControlsScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Controls",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Player 1",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,200,"Move: W - A - D (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,240,"Attack: F",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,300,"Pause: Esc",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,360,"Player 2 (Local)",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,410,"Move: ↑ - ← - → (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,450,"Attack: Shift",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class S extends e.Scene{constructor(){super("EndGameScene")}init(e){this.ws=e.ws}preload(){this.load.audio("SweetVictory","assets/sounds/SweetVictory.mp3"),this.load.image("DovenandoVictory","assets/sprites/pantalla victoria dovenando.png"),this.load.image("PalomonVictory","assets/sprites/pantalla victoria palomon.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){const t="player1"===e.winnerId,s=t===("player1"===e.localPlayerId),i=t?"DovenandoVictory":"PalomonVictory";this.add.image(480,270,i),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const o=s?"SUPREME VICTORY!":"CRUSHING DEFEAT";this.add.text(480,200,o,{fontSize:"104px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const n=t?"Dovenando Wins!":"Palomón Wins!";this.add.text(480,300,n,{fontSize:"60px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.bgMusic=this.sound.add("SweetVictory",{loop:!0,volume:.6}),this.bgMusic.play(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this);const a=this.add.image(480,460,"boton").setInteractive({useHandCursor:!0});this.add.text(480,460,"Return to menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),a.on("pointerover",()=>a.setTexture("botonEncima")),a.on("pointerout",()=>a.setTexture("boton")),a.on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.start("MenuScene")})}onShutdown(){this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class k extends e.Scene{constructor(){super("StoryScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Story",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,120,"In some nameless city, on a damp and murky night, two pigeons wandered through the alleys in search of something to calm their hunger.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,170,"The alluring fragrance of a few forgotten churros awakens in them a fierce blend of survival and greed, and before long the situation erupts into open warfare.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,230,"Though there are neither heroes nor villains, each firmly believes that the churro is hers by birthright. Morality falters, friendship fades… there are only churros left.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(200,270,"Dovenando",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(220,430,'A cunning, slippery bird, skilled in the art of stealth. His guiding principle: "All churros belong to someone… and that someone is me."',{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(200,340,"dovenando").setOrigin(.5).setScale(1.5),this.add.text(770,270,"Palomón",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(750,430,"A tough pigeon with a dark history. He once belonged to the avian mafia and is well acquainted with the perils of the streets and gang fights.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(770,340,"palomon").setOrigin(.5).setScale(1.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class v extends e.Scene{constructor(){super("OptionsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("slider_bar","assets/sprites/slider_bar.png"),this.load.image("slider_button","assets/sprites/slider_button.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Options",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,240,"Volume",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=(this.add.image(480,300,"slider_bar").setDisplaySize(300,20).setOrigin(.5),this.add.image(480,300,"slider_button").setDisplaySize(40,40).setInteractive({draggable:!0}).setOrigin(.5));t.x=330+300*this.sound.volume,this.input.setDraggable(t),this.input.on("drag",(s,i,o,n)=>{if(i!==t)return;t.x=e.Math.Clamp(o,330,630);const a=(t.x-330)/300;this.sound.volume=a});const s=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class b extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"CONNECTION LOST",{fontSize:"64px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,300,"Attempting to reconnect...",{fontSize:"24px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(480,350,"Attempts: 0",{fontSize:"18px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Attempting to reconnect${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Attempts: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("Connection restored!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class x extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}preload(){this.load.audio("Ascensor","assets/sounds/CancionEspera.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const e=this.cameras.main.width;this.cameras.main.height,this.add.image(480,270,"Fondo"),this.bgMusic||(this.bgMusic=this.sound.add("Ascensor",{loop:!0,volume:.5}),this.bgMusic.play()),this.add.text(e/2,100,"Online Multiplayer",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,200,"Connecting to server...",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.playerCountText=this.add.text(480,300,"",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")),t.on("pointerdown",()=>{this.leaveQueue(),this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.cameras.main.setAlpha(1),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class w extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.roomId=e.roomId,this.players=new Map,this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.playerRole=e.playerRole,this.localPaloma=null,this.remotePaloma=null,this.localScore=0,this.remoteScore=0,this.keys,this.churroOverlap=null,this.powerUpOverlap=null}#e;preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.image("Desconexion","assets/sprites/desconexion.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}#t;create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},this.events.on("shutdown",()=>{console.log("[MultiplayerGameScene] SHUTDOWN event fired")},this),this.events.on("destroy",()=>{console.log("[MultiplayerGameScene] DESTROY event fired")},this),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.keys=this.input.keyboard.addKeys({up:e.Input.Keyboard.KeyCodes.W,left:e.Input.Keyboard.KeyCodes.A,right:e.Input.Keyboard.KeyCodes.D,attack:e.Input.Keyboard.KeyCodes.F}),this.createPlatforms(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.createAnimations(),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.youLabel=this.add.text(0,0,"You",{fontSize:"20px",color:"#ffffffff",stroke:"#000000ff",strokeThickness:4}),this.updateYouLabel(),this.playerSprites=this.physics.add.group(),this.setUpPlayers(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.setupWebSocketListeners()}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}updateYouLabel(){if(this.youLabel)if(this.youLabel.setVisible(!0),"player1"===this.playerRole){const e=this.scoreTextP1.x+(this.scoreTextP1.width||this.scoreTextP1.getBounds().width)+5,t=this.scoreTextP1.y+5;this.youLabel.setPosition(e,t)}else{const e=this.scoreTextP2.x-(this.youLabel.width||this.youLabel.getBounds().width)-5,t=this.scoreTextP2.y+5;this.youLabel.setPosition(e,t)}}createAnimations(){this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){"player1"===this.playerRole?(this.localPaloma=new i(this,"player1",150,435,"dovenando"),this.remotePaloma=new i(this,"player2",800,435,"palomon")):(this.localPaloma=new i(this,"player2",800,435,"palomon"),this.remotePaloma=new i(this,"player1",150,435,"dovenando")),this.players.set(this.localPaloma.id,this.localPaloma),this.players.set(this.remotePaloma.id,this.remotePaloma),this.remotePaloma.sprite.flipX=!0,this.remotePaloma.facing="left"}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection("Server closed the connection")},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"pigeonUpdate":const t=this.remotePaloma;t.sprite.x=e.x,t.sprite.y=e.y,t.facing=e.facing,t.sprite.flipX="left"===e.facing?!t.invertFlipForMovement:t.invertFlipForMovement;const s="palomon"===t.character?`palomon_${e.anim}`:`dovenando_${e.anim}`;t.sprite.anims.isPlaying&&t.sprite.anims.currentAnim.key===s||t.sprite.play(s,!0);break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreTextP1.setText(`Dovenando: ${e.player1Score}`),this.scoreTextP2.setText(`Palomón: ${e.player2Score}`),this.updateYouLabel();break;case"attackResolve":{const t=this.players.get(e.attackerId);if(!t)return;t.facing=e.facing,t.sprite.flipX="left"===e.facing;const s=new h(t);this.processor.process(s);break}case"itemSpawn":this.spawnItemFromServer(e.item);break;case"itemDespawn":"churro"===e.itemType&&this.churro&&(this.churroOverlap&&(this.physics.world.removeCollider(this.churroOverlap),this.churroOverlap=null),this.churro.destroy(),this.churro=null),"powerUp"===e.itemType&&this.powerUp&&(this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null),this.powerUp.destroy(),this.powerUp=null);break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection("Opponent Disconnected");break;case"itemCollected":{const t=e.playerId===this.localPaloma.id?this.localPaloma:this.remotePaloma;if("churro"===e.itemType)this.sound.play("SonidoChurro",{volume:.5}),t.addScore(1),this.scoreTextP1.setText(`Dovenando: ${"player1"===this.playerRole?this.localPaloma.score:this.remotePaloma.score}`),this.scoreTextP2.setText(`Palomón: ${"player1"===this.playerRole?this.remotePaloma.score:this.localPaloma.score}`);else switch(e.itemType){case"avena":this.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(t,"iconAvena",5e3),t.stunForce+=500,t.attackForce+=200,this.time.delayedCall(5e3,()=>{t.stunForce-=500,t.attackForce-=200});break;case"pluma":this.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(t,"iconPluma",5e3),t.applyModifier("speed",150,5e3);break;case"basura":this.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(t,"iconBasura",5e3),t.applyModifier("speed",-150,5e3)}break}default:console.log("Unknown message type:",e.type)}}handleDisconnection(e){this.gameEnded=!0,this.localPaloma.sprite.setVelocity(0,0),this.remotePaloma.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(480,270,"Desconexion"),this.add.text(480,250,`${e}`,{fontSize:"48px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Return to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}spawnItemFromServer(e){const{type:t,x:s,y:i}=e;let o=null,n=null;switch(t){case"churro":o=l,n="churro";break;case"avena":o=p,n="powerUp";break;case"pluma":o=d,n="powerUp";break;case"basura":o=u,n="powerUp";break;default:return}const a=new o(this,s,i);this[n]=a,"churro"===n&&this.churroOverlap&&(this.churroOverlap.destroy(),this.churroOverlap=null),"powerUp"===n&&this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null);const r=this.physics.add.overlap(this.localPaloma.sprite,a.sprite,()=>{this.sendMessage({type:"itemTouch",itemId:e.id})},null,this);"churro"===n?this.churroOverlap=r:this.powerUpOverlap=r}showItemIcon(e,t,s){let i;e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null),i=this.scoreTextP1&&this.scoreTextP2?"player1"===e.id?this.scoreTextP1.x+25:this.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.add.image(i,85,t).setDisplaySize(50,50).setDepth(1e3),e.activeIconTimer=this.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer=null}})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}endGame(e,t,s){this.gameEnded=!0,this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.scene.start("EndGameScene",{winnerId:e,localPlayerId:this.playerRole,player1Score:t,player2Score:s,ws:this.ws})}update(){if(this.gameEnded)return;const t=this.localPaloma;if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;this.keys.left.isDown?(s=-1,t.sprite.flipX=!0,t.facing="left"):this.keys.right.isDown&&(s=1,t.sprite.flipX=!1,t.facing="right");const i=e.Input.Keyboard.JustDown(this.keys.up);let o=new a(t,s,i);this.processor.process(o),this.sendMessage({type:"pigeonMove",x:this.localPaloma.sprite.x,y:this.localPaloma.sprite.y,anim:this.localPaloma.currentAnim,facing:this.localPaloma.facing}),e.Input.Keyboard.JustDown(this.keys.attack)&&this.sendMessage({type:"attackRequest",facing:t.facing,x:t.sprite.x,y:t.sprite.y}),this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})}shutdown(){console.log("[MultiplayerGameScene] shutdown called"),console.log("[MultiplayerGameScene] WS state on shutdown:",this.ws.readyState),this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}const T={type:e.AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:1200},debug:!1}},scene:[s,m,f,y,g,S,k,v,b,x,w],backgroundColor:"#1a2a2e"};new e.Game(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxTQUN6Q2haLEtBQUt5YSxZQUFZLENBQ2JwSSxLQUFNLGdCQUNOcEssT0FBUVksRUFBT1osT0FDZlgsRUFBR3VCLEVBQU9KLE9BQU9uQixFQUNqQkMsRUFBR3NCLEVBQU9KLE9BQU9sQixJQUl6QnZILEtBQUtxTCxRQUFRNUksUUFBUSxDQUFDb0csRUFBUXhCLEtBRTFCLE1BQU13TSxFQUFZN1QsS0FBSzJQLGlCQUFpQnRJLEdBQ2xDb0IsRUFBU0ksRUFBT0osT0FFbEJBLEVBQU9sQixHQUFLLEdBRVpzTSxFQUFVOUcsWUFBVyxHQUNyQjhHLEVBQVV2TSxFQUFJbUIsRUFBT25CLEVBQ3JCdU0sRUFBVXRNLEVBQUksSUFJZHNNLEVBQVU5RyxZQUFXLElBSWpDLENBS0EsUUFBQTVGLEdBQ0lsRixRQUFROEksSUFBSSwwQ0FDWjlJLFFBQVE4SSxJQUNKLCtDQUNBL0ssS0FBS3VVLEdBQUdRLFlBR1IvVSxLQUFLdVUsSUFBTXZVLEtBQUt1VSxHQUFHUSxhQUFlQyxVQUFVQyxNQUM1Q2pWLEtBQUt1VSxHQUFHVyxRQUlSbFYsS0FBS29FLFVBQ0xwRSxLQUFLb0UsUUFBUWlCLE9BQ2JyRixLQUFLb0UsUUFBUWtCLFVBQ2J0RixLQUFLb0UsUUFBVSxLQUV2QixFQ3h0QkosTUFBTTROLEVBQVMsQ0FDYkssS0FBTSxPQUNOaUQsTUFBTyxJQUNQdUIsT0FBUSxJQUNSZ0UsT0FBUSxpQkFDUm5TLFFBQVMsQ0FDUG9TLFFBQVMsU0FDVEMsT0FBUSxDQUNOQyxRQUFTLENBQUV6VCxFQUFHLE1BQ2QwVCxPQUFPLElBR1gxVixNQUFPLENBQUN4QyxFQUFXNEwsRUFBV21GLEVBQVlJLEVBQWNHLEVBQWVDLEVBQWNhLEVBQVlLLEVBQWNVLEVBQXFCUyxFQUFZc0IsR0FDaEppRCxnQkFBaUIsV0FHTixJQUFJLE9BQVlsSixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvTWVudVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QaWdlb24uanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL01vdmVQaWdlb25Db21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9QYXVzZUNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL0F0dGFja1BpZ2VvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0l0ZW0uanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0NodXJyby5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvQXZlbmEuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL1BsdW1hLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9CYXN1cmEuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29udHJvbHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0VuZEdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL1N0b3J5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9PcHRpb25zU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvTG9iYnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLyoqXHJcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XHJcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xyXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy9Ob3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy9DcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0F2ZU1hcmlhJywgJ2Fzc2V0cy9zb3VuZHMvQXZlTWFyaWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnRm9uZG8nKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTAwLCAnUHZQJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ0F2ZU1hcmlhJywge1xyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCAxODAsICdTZXJ2ZXI6IENoZWNraW5nLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSBqdWdhciBsb2NhbCAoZGVzaGFiaWxpdGFkbylcclxuICAgICAgICB0aGlzLmxvY2FsQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCAzNjAsICdib3RvbkVuY2ltYScpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9jYWxCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCgyNTAsIDM2MCwgJ0xvY2FsIChOb3QgQXZhaWxhYmxlKScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSBqdWdhciBvbmxpbmVcclxuICAgICAgICB0aGlzLm9ubGluZUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMub25saW5lQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCAzNjAsICdPbmxpbmUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICB0aGlzLm9ubGluZUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLm9ubGluZUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHRoaXMub25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5vbmxpbmVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICB0aGlzLm9ubGluZUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vbmxpbmVCdG5TcHJpdGUuaW5wdXQgfHwgIXRoaXMub25saW5lQnRuU3ByaXRlLmlucHV0LmVuYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vQXBhZ2FyIG3DunNpY2FcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnTG9iYnlTY2VuZScpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vU3RhcnQgYSBMb2JieVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgY3JlZGl0b3NcclxuICAgICAgICB0aGlzLmNyZWRpdHNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmNyZWRpdHNCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCgyNTAsIDUwMCwgJ0NyZWRpdHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICB0aGlzLmNyZWRpdHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5jcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgdGhpcy5jcmVkaXRzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5jcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgdGhpcy5jcmVkaXRzQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNyZWRpdHNCdG5TcHJpdGUuaW5wdXQgfHwgIXRoaXMuY3JlZGl0c0J0blNwcml0ZS5pbnB1dC5lbmFibGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBDcmVkaXRzU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0NyZWRpdHNTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBvcGNpb25lc1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgNTAwLCAnT3B0aW9ucycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIHRoaXMub3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB0aGlzLm9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICB0aGlzLm9wdGlvbnNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLm9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICB0aGlzLm9wdGlvbnNCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9uc0J0blNwcml0ZS5pbnB1dCB8fCAhdGhpcy5vcHRpb25zQnRuU3ByaXRlLmlucHV0LmVuYWJsZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnT3B0aW9uc1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA0MzAsICdDb250cm9scycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMuY29udHJvbHNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICB0aGlzLmNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5jb250cm9sc0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIHRoaXMuY29udHJvbHNCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY29udHJvbHNCdG5TcHJpdGUuaW5wdXQgfHwgIXRoaXMuY29udHJvbHNCdG5TcHJpdGUuaW5wdXQuZW5hYmxlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgQ29udHJvbHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnQ29udHJvbHNTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBoaXN0b3JpYVxyXG4gICAgICAgIHRoaXMuc3RvcnlCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICB0aGlzLnN0b3J5QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA0MzAsICdTdG9yeScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICB0aGlzLnN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMuc3RvcnlCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICB0aGlzLnN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5zdG9yeUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIHRoaXMuc3RvcnlCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RvcnlCdG5TcHJpdGUuaW5wdXQgfHwgIXRoaXMuc3RvcnlCdG5TcHJpdGUuaW5wdXQuZW5hYmxlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgU3RvcnlTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnU3RvcnlTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0FycmF5IGRlIGJvdG9uZXMgcGFyYSBoYWJpbGl0YXIvZGVzaGFiaWxpdGFyXHJcbiAgICAgICAgdGhpcy5idXR0b25zID0gW1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsQnRuU3ByaXRlLFxyXG4gICAgICAgICAgICB0aGlzLm9ubGluZUJ0blNwcml0ZSxcclxuICAgICAgICAgICAgdGhpcy5jcmVkaXRzQnRuU3ByaXRlLFxyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNCdG5TcHJpdGUsXHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHNCdG5TcHJpdGUsXHJcbiAgICAgICAgICAgIHRoaXMuc3RvcnlCdG5TcHJpdGVcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvL0VzdGFibGVjZXIgZXN0YWRvIGluaWNpYWwgc2Vnw7puIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuc2V0QnV0dG9uc0VuYWJsZWQoY29ubmVjdGlvbk1hbmFnZXIuZ2V0U3RhdHVzKCkuaXNDb25uZWN0ZWQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2VydmVyOiAke2RhdGEuY291bnR9IHVzZXIocykgY29ubmVjdGVkYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmZmZmZmZmYnKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlaGFiaWxpdGFyIGJvdG9uZXMgc2kgbGEgY29uZXhpw7NuIHZ1ZWx2ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRCdXR0b25zRW5hYmxlZCh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2VydmVyOiBEaXNjb25uZWN0ZWQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICAgICAgICAgICAgLy8gRGVzaGFiaWxpdGFyIHRvZG9zIGxvcyBib3RvbmVzIGFsIHBlcmRlciBsYSBjb25leGnDs25cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QnV0dG9uc0VuYWJsZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9GdW5jacOzbiBwYXJhIGhhYmlsaXRhciBvIGRlc2hhYmlsaXRhciB0b2RvcyBsb3MgYm90b25lcyBkZWwgbWVuw7ogc2kgZWwgc2Vydmlkb3IgZXN0w6EgZGVzY29uZWN0YWRvXHJcbiAgICBzZXRCdXR0b25zRW5hYmxlZChlbmFibGVkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJ1dHRvbnMgfHwgIUFycmF5LmlzQXJyYXkodGhpcy5idXR0b25zKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBhbHBoYSA9IGVuYWJsZWQgPyAxIDogMC41O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGJ0biBvZiB0aGlzLmJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgaWYgKCFidG4pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYnRuLmlucHV0IHx8ICFidG4uaW5wdXQuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBidG4uY2xlYXJUaW50KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnRuLmlucHV0ICYmIGJ0bi5pbnB1dC5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnRuLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnRuLnNldFRleHR1cmUoJ2JvdG9uJyk7XHJcbiAgICAgICAgICAgICAgICBidG4uc2V0VGludCgweDg4ODg4OCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJ0bi5zZXRBbHBoYShhbHBoYSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vUXVpdGFyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUGlnZW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3Rlcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XHJcblxyXG4gICAgICAgIC8vUHJvcGllZGFkZXMgZGUgYXRhcXVlIHkgbW92aW1pZW50b1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy5qdW1wU3BlZWQgPSA2MzA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tSYW5nZSA9IDQwO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrRm9yY2UgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5zdHVuRm9yY2UgPSAxMDAwO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0Nvb2xkb3duID0gNTAwO1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFja1RpbWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5zdHVubmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0U3R1bkR1cmF0aW9uID0gMTAwMDtcclxuICAgICAgICB0aGlzLmtub2NrYmFja0V4cGlyZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0gJ2lkbGUnOyAvLyBpZGxlIHwgd2FsayB8IGF0dGFja1xyXG5cclxuXHJcbiAgICAgICAgLy9Bc2lnbmFjacOzbiBkZSBzcHJpdGUgcGFyYSBjYWRhIHBhbG9tYVxyXG4gICAgICAgIGxldCB0ZXh0dXJlS2V5ID0gbnVsbDtcclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSBcInBhbG9tb25cIikge1xyXG4gICAgICAgICAgICB0ZXh0dXJlS2V5ID0gXCJwYWxvbW9uU2hlZXRcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3RlciA9PT0gXCJkb3ZlbmFuZG9cIikge1xyXG4gICAgICAgICAgICB0ZXh0dXJlS2V5ID0gXCJkb3ZlbmFuZG9TaGVldFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQZXJzb25hamUgZGVzY29ub2NpZG86XCIsIGNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcInBhbG9tb25TaGVldFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Gw61zaWNhcyBkZSBsYXMgcGFsb21hc1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgdGV4dHVyZUtleSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5waWdlb24gPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCA9IChjaGFyYWN0ZXIgPT09IFwiZG92ZW5hbmRvXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRGbGlwWCh0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9EZXRlcm1pbmEgc2kgbGEgcGFsb21hIHB1ZWRlIGF0YWNhclxyXG4gICAgY2FuQXR0YWNrKG5vdykge1xyXG4gICAgICAgIG5vdyA9IG5vdyB8fCB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIHJldHVybiAobm93IC0gdGhpcy5sYXN0QXR0YWNrVGltZSkgPj0gdGhpcy5hdHRhY2tDb29sZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvL01hcmNhIGVsIHRpZW1wbyBkZWwgw7psdGltbyBhdGFxdWVcclxuICAgIG1hcmtBdHRhY2tlZChub3cpIHtcclxuICAgICAgICB0aGlzLmxhc3RBdHRhY2tUaW1lID0gbm93IHx8IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXByb2R1Y2UgbGEgYW5pbWFjacOzbiBjb3JyZWN0YSBzZWfDum4gZWwgcGVyc29uYWplIHkgZWwgbm9tYnJlIChpZGxlLCB3YWxrLi4uKVxyXG4gICAgcGxheUFuaW1hdGlvbihhbmltTmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMuY2hhcmFjdGVyfV8ke2FuaW1OYW1lfWA7XHJcblxyXG4gICAgICAgIC8vUG9yIHNpIGFjYXNvIG5vIGV4aXN0ZSBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQW5pbWFjacOzbiBubyBleGlzdGU6ICR7a2V5fWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGtleSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHRha2VIaXQoa25vY2tiYWNrWCA9IDApIHtcclxuICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WChrbm9ja2JhY2tYKTtcclxuXHJcbiAgICB0aGlzLmtub2NrYmFja0V4cGlyZSA9IHRoaXMuc2NlbmUudGltZS5ub3cgKyAxMjA7XHJcblxyXG4gICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEyMCwgKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmICh0aGlzLnN0dW5uZWQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmYwMDAwKTtcclxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyMDAsICgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuc3R1bm5lZCkgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgICAvL0FwbGljYXIgc3R1blxyXG4gICAgc3R1bihkdXJhdGlvbk1zKSB7XHJcbiAgICBkdXJhdGlvbk1zID0gZHVyYXRpb25NcyA9PSBudWxsID8gdGhpcy5kZWZhdWx0U3R1bkR1cmF0aW9uIDogZHVyYXRpb25NcztcclxuICAgIGlmICh0aGlzLnN0dW5uZWQpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLnN0dW5uZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDk5OTlmZik7XHJcblxyXG4gICAgLy9GUkVOQVIgTU9WSU1JRU5UTyBDT01QTEVUQU1FTlRFXHJcbiAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICB0aGlzLnNwcml0ZS5zZXRBY2NlbGVyYXRpb25YKDApO1xyXG5cclxuICAgIC8vQcOxYWRpciBmcmljY2nDs24gU09MTyBkdXJhbnRlIGVsIHN0dW5cclxuICAgIHRoaXMuc3ByaXRlLnNldERhbXBpbmcodHJ1ZSk7XHJcbiAgICB0aGlzLnNwcml0ZS5zZXREcmFnWCg5MDApO1xyXG5cclxuICAgIHRoaXMuc3R1blRpbWVvdXQgPSB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoZHVyYXRpb25NcywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3R1bm5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYW1waW5nKGZhbHNlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREcmFnWCgwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IG51bGw7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgICAvL0FuaW1hY2nDs24gZGUgYXRhcXVlXHJcbiAgICBzdGFydEF0dGFja0FuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0F0dGFja2luZykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmNoYXJhY3Rlcn1fYXR0YWNrYDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TaSBlc3TDoSBtaXJhbmRvIGFsIGNvbnRyYXJpbywgbWFudGVuZXIgZmxpcFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEZsaXBYKHRoaXMuZmFjaW5nID09PSBcImxlZnRcIiA/ICF0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCA6IHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50KTtcclxuXHJcbiAgICAgICAgLy9Wb2x2ZXIgYSBhbmltYWNpw7NuIG5vcm1hbCB0cmFzIGVsIGF0YXF1ZVxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyNTAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lbmRBdHRhY2tBbmltYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0ZpbiBkZSBsYSBhbmltYWNpw7NuIGRlIGF0YXF1ZVxyXG4gICAgZW5kQXR0YWNrQW5pbWF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkudmVsb2NpdHkueCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oXCJpZGxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKFwid2Fsa1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9TcHJpdGUgZGVsIGF0YXF1ZVxyXG4gICAgc2hvd0F0dGFja1Nwcml0ZShkdXJhdGlvbk1zID0gMjUwKSB7XHJcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnNjZW5lO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuY2hhcmFjdGVyID09PSAnZG92ZW5hbmRvJyA/ICdkb3ZlbmFuZG9BdHRhY2snIDogJ3BhbG9tb25BdHRhY2snO1xyXG5cclxuICAgICAgICAvL0NyZWFyIHNwcml0ZSB2aXN1YWwgZGVsIGF0YXF1ZVxyXG4gICAgICAgIGNvbnN0IGF0dGFja1Nwcml0ZSA9IHNjZW5lLmFkZC5zcHJpdGUodGhpcy5zcHJpdGUueCwgdGhpcy5zcHJpdGUueSwga2V5KTtcclxuICAgICAgICBhdHRhY2tTcHJpdGUuc2V0T3JpZ2luKDAuNSwgMC41KTtcclxuICAgICAgICBhdHRhY2tTcHJpdGUuc2V0RGVwdGgodGhpcy5zcHJpdGUuZGVwdGggKyAxKTtcclxuXHJcbiAgICAgICAgLy9BanVzdGUgaW5pY2lhbCBzZWfDum4gZGlyZWNjacOzblxyXG4gICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLmZhY2luZyA9PT0gJ3JpZ2h0JyA/IDIwIDogLTIwO1xyXG4gICAgICAgIGF0dGFja1Nwcml0ZS54ICs9IG9mZnNldFg7XHJcblxyXG4gICAgICAgIGF0dGFja1Nwcml0ZS5zZXRGbGlwWCh0aGlzLmZhY2luZyA9PT0gJ2xlZnQnKTtcclxuXHJcbiAgICAgICAgLy9FdmVudG8gcGFyYSBzZWd1aXIgYSBsYSBwYWxvbWFcclxuICAgICAgICBjb25zdCBmb2xsb3dFdmVudCA9IHNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTYsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tTcHJpdGUueCA9IHRoaXMuc3ByaXRlLnggKyBvZmZzZXRYO1xyXG4gICAgICAgICAgICAgICAgYXR0YWNrU3ByaXRlLnkgPSB0aGlzLnNwcml0ZS55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vRGVzdHJ1aXIgZWwgc3ByaXRlIHkgZGV0ZW5lciBzZWd1aW1pZW50byBkZXNwdcOpcyBkZSBkdXJhdGlvblxyXG4gICAgICAgIHNjZW5lLnRpbWUuZGVsYXllZENhbGwoZHVyYXRpb25NcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBmb2xsb3dFdmVudC5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICBhdHRhY2tTcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQcOxYWRpciBwdW50dWFjacOzblxyXG4gICAgYWRkU2NvcmUodmFsdWUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZSArPSB2YWx1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmlkfSByZWNvZ2nDsyB1biBDaHVycm8g4oaSIHNjb3JlOiAke3RoaXMuc2NvcmV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9BcGxpY2FyIHBvd2VyLXVwXHJcbiAgICBhcHBseU1vZGlmaWVyKHByb3BlcnR5LCBhbW91bnQsIGR1cmF0aW9uKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBMYSBwcm9waWVkYWQgJHtwcm9wZXJ0eX0gbm8gZXhpc3RlIGVuIGxhIHBhbG9tYS5gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gKz0gYW1vdW50O1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSAtPSBhbW91bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcblxyXG4gICAgZXhlY3V0ZSgpIHt9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge31cclxuXHJcbiAgICBnZXRQbGF5ZXIoKSB7fVxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBpZ2VvbkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwaWdlb24sIG1vdmVYID0gMCwganVtcCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBpZ2VvbiA9IHBpZ2VvbjtcclxuICAgICAgICB0aGlzLm1vdmVYID0gbW92ZVg7XHJcbiAgICAgICAgdGhpcy5qdW1wID0ganVtcDtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHBpZ2VvbiA9IHRoaXMucGlnZW9uO1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IHBpZ2Vvbi5zcHJpdGU7XHJcblxyXG4gICAgICAgIC8vU2kgZXN0w6Egc3R1bmVhZG8gbm8gcGVybWl0ZSBtb3ZlcnNlIG5pIHJlcHJvZHVjaXIgY2FtaW5hdGFcclxuICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ2lkbGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9GbGlwIHNlZ8O6biBtb3ZpbWllbnRvLCB0ZW5pZW5kbyBlbiBjdWVudGEgc3ByaXRlcyBpbnZlcnRpZG9zXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggPiAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlWCA8IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRGbGlwID0gcGlnZW9uLmludmVydEZsaXBGb3JNb3ZlbWVudCA/ICh0aGlzLm1vdmVYID4gMCkgOiAodGhpcy5tb3ZlWCA8IDApO1xyXG4gICAgICAgICAgICBzcHJpdGUuc2V0RmxpcFgoZGVzaXJlZEZsaXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9WZWxvY2lkYWQgaG9yaXpvbnRhbFxyXG4gICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlWCAqIHBpZ2Vvbi5zcGVlZCk7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBhbmltYWNpw7NuIGNvcnJlY3RhXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggIT09IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ3dhbGsnKTtcclxuICAgICAgICAgICAgcGlnZW9uLmN1cnJlbnRBbmltID0gJ3dhbGsnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCdpZGxlJyk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5jdXJyZW50QW5pbSA9ICdpZGxlJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2FsdGFyIMO6bmljYW1lbnRlIHNpIGVzdMOhIGVuIGVsIHN1ZWxvXHJcbiAgICAgICAgaWYgKHRoaXMuanVtcCkge1xyXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uR3JvdW5kID0gYm9keSAmJiAodHlwZW9mIGJvZHkub25GbG9vciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgPyBib2R5Lm9uRmxvb3IoKVxyXG4gICAgICAgICAgICAgICAgOiAoKGJvZHkuYmxvY2tlZCAmJiBib2R5LmJsb2NrZWQuZG93bikgfHwgKGJvZHkudG91Y2hpbmcgJiYgYm9keS50b3VjaGluZy5kb3duKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9uR3JvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0VmVsb2NpdHlZKC1waWdlb24uanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0NvbW1hbmR9IGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRhY2tQaWdlb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaWdlb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uID0gcGlnZW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnBpZ2Vvbi5zY2VuZTtcclxuXHJcbiAgICAgICAgLy9BbmltYWNpw7NuIHkgc29uaWRvXHJcbiAgICAgICAgdGhpcy5waWdlb24uY3VycmVudEFuaW0gPSAnYXR0YWNrJztcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5zdGFydEF0dGFja0FuaW1hdGlvbigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uLnNob3dBdHRhY2tTcHJpdGUoMjUwKTtcclxuICAgICAgICBzY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9BdGFxdWUnLCB7IHZvbHVtZTogMC43IH0pO1xyXG5cclxuICAgICAgICAvL0RpcmVjY2nDs24gZGVsIGF0YXF1ZVxyXG4gICAgICAgIGNvbnN0IGRpciA9IHRoaXMucGlnZW9uLmZhY2luZyA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy5waWdlb24uc3ByaXRlLnggKyBkaXIgKiB0aGlzLnBpZ2Vvbi5hdHRhY2tSYW5nZTtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5waWdlb24uc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIC8vSGl0Ym94IHRlbXBvcmFsXHJcbiAgICAgICAgY29uc3QgaGl0Ym94ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIG51bGwpO1xyXG4gICAgICAgIGhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBoaXRib3guYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIGhpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICBoaXRib3guc2V0U2l6ZSh0aGlzLnBpZ2Vvbi5hdHRhY2tSYW5nZSwgdGhpcy5waWdlb24uYmFzZUhlaWdodCAqIDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IG92ZXJsYXAgPSBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICBoaXRib3gsXHJcbiAgICAgICAgICAgIHNjZW5lLnBsYXllclNwcml0ZXMsXHJcbiAgICAgICAgICAgIChoYiwgdGFyZ2V0U3ByaXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U3ByaXRlID09PSB0aGlzLnBpZ2Vvbi5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRQaWdlb24gPSB0YXJnZXRTcHJpdGUucGlnZW9uO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRQaWdlb24pIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQaWdlb24uaWQgPT09IHRoaXMucGlnZW9uLmlkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qga25vY2sgPSB0aGlzLnBpZ2Vvbi5hdHRhY2tGb3JjZSAqIGRpcjtcclxuICAgICAgICAgICAgICAgIHRhcmdldFBpZ2Vvbi5zdHVuKHRoaXMucGlnZW9uLnN0dW5Gb3JjZSk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRQaWdlb24udGFrZUhpdChrbm9jayk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjZW5lLnBoeXNpY3M/LndvcmxkICYmIG92ZXJsYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzLndvcmxkLnJlbW92ZUNvbGxpZGVyKG92ZXJsYXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgc2NlbmUudGltZS5kZWxheWVkQ2FsbCgxMjAsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHNjZW5lLnBoeXNpY3M/LndvcmxkICYmIG92ZXJsYXApIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnBoeXNpY3Mud29ybGQucmVtb3ZlQ29sbGlkZXIob3ZlcmxhcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGl0Ym94Py5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCBzcHJpdGUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGlzcGxheVNpemUoNDAsIDQwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV4cGlyZVRpbWVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL0Z1bmNpw7NuIGdlbsOpcmljYSBwYXJhIGFwbGljYXIgZWwgZWZlY3RvIGRlbCDDrXRlbVxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXBwbHlFZmZlY3QoKSBubyBpbXBsZW1lbnRhZG8gZW4gZWwgaXRlbVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NyZWFyIHkgbW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cCBkZWJham8gZGVsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICBzaG93SXRlbUljb24ocGlnZW9uLCBpY29uS2V5LCBkdXJhdGlvbikge1xyXG5cclxuICAgICAgICAvL0xpbXBpYXIgY3VhbHF1aWVyIGljb25vIGFudGVyaW9yIGRlbCBwaWdlb25cclxuICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblRpbWVyKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Qb3NpY2lvbmFyIGVsIGljb25vIHJlbGF0aXZvIGFsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgbGV0IGljb25YID0gbnVsbDtcclxuICAgICAgICBsZXQgaWNvblkgPSA4NTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5zY29yZVRleHRQMSAmJiB0aGlzLnNjZW5lLnNjb3JlVGV4dFAyKSB7XHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyB0aGlzLnNjZW5lLnNjb3JlVGV4dFAxLnggKyAyNSA6IHRoaXMuc2NlbmUuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL0ZhbGxiYWNrIGEgY29vcmRlbmFkYXMgY29ub2NpZGFzXHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyA0MCA6IDg1MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UoaWNvblgsIGljb25ZLCBpY29uS2V5KTtcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5zZXREaXNwbGF5U2l6ZSg1MCwgNTApO1xyXG5cclxuICAgICAgICAvL0d1YXJkYXIgdW4gdGltZXIgZW4gZWwgcGlnZW9uIHBhcmEgZWxpbWluYXIgZWwgaWNvbm8gYWwgZXhwaXJhclxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0l0ZW19IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBDaHVycm8gZXh0ZW5kcyBJdGVtIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwnY2h1cnJvU2hlZXQnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KCdjaHVycm9fYW5pbScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbil7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9DaHVycm8nLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGlnZW9uLmFkZFNjb3JlKDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBBdmVuYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdhdmVuYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBmb3JjZUJvb3N0ID0gMzAwO1xyXG4gICAgICAgIGNvbnN0IHN0dW5Cb29zdCA9IDEwMDA7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA1MDAwO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgc29uaWRvIGRlIHJlY29naWRhIGRlIGxhIGF2ZW5hXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9BdmVuYScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwXHJcbiAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvbkF2ZW5hJywgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAvL0FwbGljYXIgcG90ZW5jaWEgZWxldmFkYVxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdhdHRhY2tGb3JjZScsIGZvcmNlQm9vc3QsIGR1cmF0aW9uKTtcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3R1bkZvcmNlJywgc3R1bkJvb3N0LCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBQbHVtYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdwbHVtYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBpbmNyZWFzZSA9IDIwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgcGx1bWFcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb1BsdW1hJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL01vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXBcclxuICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uUGx1bWEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciBhdW1lbnRvIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIGluY3JlYXNlLCBkdXJhdGlvbik7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgQmFzdXJhIGV4dGVuZHMgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ2Jhc3VyYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBkZWNyZWFzZSA9IDEwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgYmFzdXJhXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9CYXN1cmEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cFxyXG4gICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25CYXN1cmEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciByZWR1Y2Npw7NuIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIC1kZWNyZWFzZSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQaWdlb24gfSBmcm9tICcuLi9lbnRpdGllcy9QaWdlb24uanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBQYXVzZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QYXVzZUNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBBdHRhY2tQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IENodXJybyB9IGZyb20gJy4uL2VudGl0aWVzL0NodXJyby5qcyc7XHJcbmltcG9ydCB7IEF2ZW5hIH0gZnJvbSAnLi4vZW50aXRpZXMvQXZlbmEuanMnO1xyXG5pbXBvcnQgeyBQbHVtYSB9IGZyb20gJy4uL2VudGl0aWVzL1BsdW1hLmpzJztcclxuaW1wb3J0IHsgQmFzdXJhIH0gZnJvbSAnLi4vZW50aXRpZXMvQmFzdXJhLmpzJztcclxuXHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb25lcyBkZSBhcGFyaWNpw7NuIGRlIG9iamV0b3MgeSBjaHVycm9zXHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgeDogNTYwLCB5OiA0NSB9LFxyXG4gICAgICAgICAgICB7IHg6IDQxNSwgeTogMjAwIH0sXHJcbiAgICAgICAgICAgIHsgeDogNzkwLCB5OiAxMTUgfSxcclxuICAgICAgICAgICAgeyB4OiA3OTAsIHk6IDI4MCB9LFxyXG4gICAgICAgICAgICB7IHg6IDEyNiwgeTogMTE1IH0sXHJcbiAgICAgICAgICAgIHsgeDogMTI2LCB5OiAyODAgfSxcclxuICAgICAgICAgICAgeyB4OiA1NjAsIHk6IDQ1NSB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtcclxuICAgICAgICAgICAgJ2F2ZW5hJyxcclxuICAgICAgICAgICAgJ2Jhc3VyYScsXHJcbiAgICAgICAgICAgICdwbHVtYSdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vU3ByaXRlcyBlIGltw6FnZW5lcyBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvc3ByaXRlcy9iYWNrZ3JvdW5kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbicsICdhc3NldHMvc3ByaXRlcy9wYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL2RvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NodXJybycsICdhc3NldHMvc3ByaXRlcy9DaHVycm8gSkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvQXZlbmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbHVtYScsICdhc3NldHMvc3ByaXRlcy9QbHVtYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Jhc3VyYScsICdhc3NldHMvc3ByaXRlcy9CYXN1cmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG9BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb25BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl9hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uUGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9mYXN0LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkJhc3VyYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3Nsb3cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zdHJvbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX3AnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9QYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9kJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fRG92ZW5hbmRvLnBuZycpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgeSBzb25pZG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdOdW1iJywgJ2Fzc2V0cy9zb3VuZHMvTnVtYi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb1BsdW1hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvUGx1bWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9DaHVycm8nLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9DaHVycm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9CYXN1cmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9CYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdGFxdWUnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BdGFxdWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdmVuYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0FscGlzdGUubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vblNoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnY2h1cnJvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi1zaGVldC5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDI1LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2JhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy9NdXNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTnVtYicsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXRmb3JtcygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICB0aGlzLnBpZ2VvbkluZGljYXRvcnMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fZCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSksXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fcCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxID0gdGhpcy5hZGQudGV4dCgxMCwgMjAsICdEb3ZlbmFuZG86IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KDc1MCwgMjAsICdQYWxvbcOzbjogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3ByaXRlcy5hZGQocGlnZW9uLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29saXNpb25lcyBlbnRyZSBwYWxvbWFzIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF0Zm9ybXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxheWVyU3ByaXRlcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIC8vQ2FkYSA1IHNlZ3VuZG9zIGludGVudGFyIGdlbmVyYXIgdW4gY2h1cnJvXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaHVycm8gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbShcImNodXJyb1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NhZGEgNyBzZWd1bmRvcyBpbnRlbnRhciBnZW5lcmFyIHVuIGNodXJyb1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA3MDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25JdGVtKFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odGhpcy5wb3dlclVwcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5zaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLnNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgY3JlYXRlUGxhdGZvcm1zKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNTQwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgYXJyaWJhIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMxMCwgODAsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDE1LCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDIyMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGVuIG1lZGlvIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDY1MCwgMjM3LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vU3VlbG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDgwLCA1MTMsIG51bGwpLnNldERpc3BsYXlTaXplKDk2MCwgNjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQ2FtaXNldGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjQwLCAzNjAsIG51bGwpLnNldERpc3BsYXlTaXplKDkwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BhbnRhbG9uZXNcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzQ1LCAzNjUsIG51bGwpLnNldERpc3BsYXlTaXplKDEwMCwgNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGl6cXVpZXJkb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzMywgNDMwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg3MCwgMTIwMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGRlcmVjaG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoOTI3LCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4OSwgNDc1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMDAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGRlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODcwLCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgZGVyZWNoYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4MzIsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBzdXBlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDE0NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vQ29uZmlndXJhY2nDs24gZGUgcGFsb21hcyB5IGNvbnRyb2xlc1xyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRQaWdlb24gPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICBjb25zdCByaWdodFBpZ2VvbiA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuXHJcbiAgICAgICAgcmlnaHRQaWdlb24uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICByaWdodFBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0UGlnZW9uKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRQaWdlb24pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdTSElGVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuYXR0YWNrS2V5XSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZW5lcmFyIHVuIG9iamV0byBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBkaXNwb25pYmxlXHJcbiAgICBzcGF3bkl0ZW0odHlwZSkge1xyXG5cclxuICAgICAgICBsZXQgcmVmTmFtZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IEl0ZW1DbGFzcyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vRGVjaWRpciBxdcOpIGNsYXNlIGluc3RhbmNpYXIgeSBxdcOpIHJlZmVyZW5jaWEgdXNhclxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2h1cnJvXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJjaHVycm9cIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IENodXJybztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImF2ZW5hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBBdmVuYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInBsdW1hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBQbHVtYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImJhc3VyYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQmFzdXJhO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGlwbyBkZXNjb25vY2lkbzpcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdmFpbGFibGVQb3NpdGlvbnMgPSB0aGlzLml0ZW1TcGF3blBvc2l0aW9ucy5maWx0ZXIocG9zID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vRXZpdGFyIHBvc2ljacOzbiBkb25kZSBoYXkgY2h1cnJvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5jaHVycm8uc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IHBvd2VyLXVwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZS54ID09PSBwb3MueCAmJiB0aGlzLnBvd2VyVXAuc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0VsZWdpciB1bmEgcG9zaWNpw7NuIGFsIGF6YXJcclxuICAgICAgICBjb25zdCBwb3MgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGF2YWlsYWJsZVBvc2l0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgSXRlbUNsYXNzKHRoaXMsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgdGhpc1tyZWZOYW1lXSA9IChpdGVtKTtcclxuXHJcbiAgICAgICAgLy9BY3RpdmFyIG92ZXJsYXAgY29uIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBpdGVtLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMub25JdGVtUGlja3VwLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09IFwicG93ZXJVcFwiKSB7XHJcblxyXG4gICAgICAgICAgICAvL1RpZW1wbyBkZSB2aWRhIGRlbCBwb3dlci11cCBcclxuICAgICAgICAgICAgY29uc3QgbGlmZXRpbWUgPSA5MDAwO1xyXG5cclxuICAgICAgICAgICAgLy9HdWFyZGFyIGVsIHRpbWVyIGVuIGVsIHByb3BpbyBvYmpldG8gcGFyYSBwb2RlciBjYW5jZWxhcmxvIHNpIGhhY2UgZmFsdGFcclxuICAgICAgICAgICAgaXRlbS5leHBpcmVUaW1lciA9IHRoaXMudGltZS5kZWxheWVkQ2FsbChsaWZldGltZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgPT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01hbmVqbyBkZSByZWNvZ2lkYSBkZSBvYmpldG9zXHJcbiAgICBvbkl0ZW1QaWNrdXAocGlnZW9uU3ByaXRlLCBpdGVtU3ByaXRlKSB7XHJcblxyXG4gICAgICAgIGxldCBwbGF5ZXJJZCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3ByaXRlID09PSBwaWdlb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkID0gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtQnlTcHJpdGUoaXRlbVNwcml0ZSk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwbHlFZmZlY3QocGlnZW9uKTtcclxuXHJcbiAgICAgICAgLy9BY3R1YWxpemFyIHB1bnR1YWNpb25lc1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyLnNldFRleHQoJ1BhbG9tw7NuOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNjb3JlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgIGlmIChwaWdlb24uc2NvcmUgPj0gNSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgRW5kR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdFbmRHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IHdpbm5lcklkOiBwbGF5ZXJJZCB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0RldnVlbHZlIGVsIG9iamV0byBhbCBxdWUgcGVydGVuZWNlIHVuIHNwcml0ZVxyXG4gICAgZ2V0SXRlbUJ5U3ByaXRlKHNwcml0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMuY2h1cnJvO1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZSA9PT0gc3ByaXRlKSByZXR1cm4gdGhpcy5wb3dlclVwO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRWxpbWluYSBkZSBsYSBlc2NlbmEgdW4gb2JqZXRvIGRhZG9cclxuICAgIGRlbGV0ZUl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLmNodXJybykge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyby5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Fc3RhYmxlY2UgZWwgZXN0YWRvIGRlIHBhdXNhIGRlbCBqdWVnb1xyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhdXNlQ29tbWFuZCh0aGlzLCBuZXdQYXVzZWRTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpZ2VvbiA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGlnZW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3TDoSBzdHVuYWRhIG5vIHB1ZWRlIGhhY2VyIG5hZGE6IGRldGVuZXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3R1bm5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy9QZXJtaXRpciBrbm9ja2JhY2sgZHVyYW50ZSB1biBjb3J0byBwZXJpb2RvIHRyYXMgcmVjaWJpciBlbCBnb2xwZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFwaWdlb24ua25vY2tiYWNrRXhwaXJlIHx8IHRoaXMudGltZS5ub3cgPiBwaWdlb24ua25vY2tiYWNrRXhwaXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGxldCBtb3ZlWCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSBtb3ZlWCA9IC0xO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikgbW92ZVggPSAxO1xyXG5cclxuICAgICAgICAgICAgY29uc3QganVtcCA9IG1hcHBpbmcudXBLZXlPYmouaXNEb3duO1xyXG5cclxuICAgICAgICAgICAgLy9FbnZpYXIgY29tYW5kbyBjb24gbW92aW1pZW50byBob3Jpem9udGFsIHkgc2FsdG9cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVQaWdlb25Db21tYW5kKHBpZ2VvbiwgbW92ZVgsIGp1bXApO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vQXRhcXVlXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmF0dGFja0tleU9iaiAmJiBtYXBwaW5nLmF0dGFja0tleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dGFja0NtZCA9IG5ldyBBdHRhY2tQaWdlb25Db21tYW5kKHBpZ2Vvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKGF0dGFja0NtZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5waWdlb25JbmRpY2F0b3JzW2lkXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHBpZ2Vvbi5zcHJpdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZS55IDwgLTUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3RhIGZ1ZXJhIHBvciBhcnJpYmEgbXVlc3RyYSBlbCBpbmRpY2Fkb3JcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IueCA9IHNwcml0ZS54O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvci55ID0gNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIHZ1ZWx2ZSBhIGVudHJhciBzZSBvY3VsdGEgZWwgaWNvbm9cclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy9FbGltaW5hciBtw7pzaWNhIGFsIGNlcnJhciBsYSBlc2NlbmEgeSBjZXJycmFyIGxpc3RlbmVyc1xyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iZ011c2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgLy9Gb25kbyBzZW1pdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQ4MCwgMjcwLCA5NjAsIDU0MCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyMDAsICdHYW1lIFBhdXNlZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3RvbiBwYXJhIHJlYW51ZGFyIGVsIGp1ZWdvXHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgcmVzdW1lQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA0MzAsICdSZXN1bWUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICByZXN1bWVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcmVzdW1lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgcmVzdW1lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmVzdW1lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmdldChkYXRhLm9yaWdpbmFsU2NlbmUpLnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3RvbiBwYXJhIHZvbHZlciBhbCBtZW51IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA0MzAsICdSZXR1cm4gdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvUHZQJywgJ2Fzc2V0cy9zcHJpdGVzL0xvZ28gUHZQLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyB5IGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdmb25kb1B2UCcpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ0NyZWRpdHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNTAsICdHYW1lIGRldmVsb3BlZCBieSBHQjNEJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI1MCwgJ0FydGlzdDonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI5MCwgJ0h1Z28gQ2hlY2EnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzUwLCAnUHJvZ3JhbW1lcnM6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzOTAsICdBbGVqYW5kcm8gTWFyw61uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQyNSwgJ0x1Y2FzIExvcmVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDYwLCAnTWlndWVsIEFtYWRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTEwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUxMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29udHJvbHNTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbnRhbGxhIGluaWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ0NvbnRyb2xzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Db250cm9sZXMgSnVnYWRvciAxXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDE1MCwgJ1BsYXllciAxJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnTW92ZTogVyAtIEEgLSBEIChVcCwgTGVmdCwgUmlnaHQpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyNDAsICdBdHRhY2s6IEYnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDMwMCwgJ1BhdXNlOiBFc2MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzIEp1Z2Fkb3IgMlxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzNjAsICdQbGF5ZXIgMiAoTG9jYWwpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDEwLCAnTW92ZTog4oaRIC0g4oaQIC0g4oaSIChVcCwgTGVmdCwgUmlnaHQpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdBdHRhY2s6IFNoaWZ0Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL0FzZWd1cmFyIHF1ZSBsYSBjw6FtYXJhIGVzdMOhIHRvdGFsbWVudGUgdmlzaWJsZSBhbnRlcyBkZSBlbXBlemFyIGVsIGZhZGUtb3V0XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIE1lbnVTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdFbmRHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU3dlZXRWaWN0b3J5JywgJ2Fzc2V0cy9zb3VuZHMvU3dlZXRWaWN0b3J5Lm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRG92ZW5hbmRvVmljdG9yeScsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSB2aWN0b3JpYSBkb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvbW9uVmljdG9yeScsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSB2aWN0b3JpYSBwYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuXHJcbiAgICAgICAgLy9JZGVudGlmaWNhciBnYW5hZG9yIHkganVnYWRvciBsb2NhbFxyXG4gICAgICAgIGNvbnN0IHdpbm5lcklzUDEgPSBkYXRhLndpbm5lcklkID09PSAncGxheWVyMSc7XHJcbiAgICAgICAgY29uc3QgcGxheWVySXNQMSA9IGRhdGEubG9jYWxQbGF5ZXJJZCA9PT0gJ3BsYXllcjEnO1xyXG4gICAgICAgIGNvbnN0IHBsYXllcldvbiA9IHdpbm5lcklzUDEgPT09IHBsYXllcklzUDE7XHJcblxyXG4gICAgICAgIC8vSW1hZ2VuIGRlIHZpY3RvcmlhIHNlZ8O6biBlbCBnYW5hZG9yXHJcbiAgICAgICAgY29uc3QgYmdLZXkgPSB3aW5uZXJJc1AxID8gJ0RvdmVuYW5kb1ZpY3RvcnknIDogJ1BhbG9tb25WaWN0b3J5JztcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgYmdLZXkpO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0byBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtYWluVGV4dCA9IHBsYXllcldvbiA/ICdTVVBSRU1FIFZJQ1RPUlkhJyA6ICdDUlVTSElORyBERUZFQVQnO1xyXG4gICAgICAgIGNvbnN0IG1haW5Db2xvciA9IHBsYXllcldvbiA/ICcjZmZmZmZmZmYnIDogJyNmZmZmZmZmZic7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgbWFpblRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxMDRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiBtYWluQ29sb3IsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vVGV4dG8gZGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID0gd2lubmVySXNQMSA/ICdEb3ZlbmFuZG8gV2lucyEnIDogJ1BhbG9tw7NuIFdpbnMhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzAwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Nw7pzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ1N3ZWV0VmljdG9yeScsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBtZW51QnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNDgwLCA0NjAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDYwLCAnUmV0dXJuIHRvIG1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKTtcclxuXHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpO1xyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpO1xyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdG9yeVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ1N0b3J5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBnZW5lcmFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDEyMCwgJ0luIHNvbWUgbmFtZWxlc3MgY2l0eSwgb24gYSBkYW1wIGFuZCBtdXJreSBuaWdodCwgdHdvIHBpZ2VvbnMgd2FuZGVyZWQgdGhyb3VnaCB0aGUgYWxsZXlzIGluIHNlYXJjaCBvZiBzb21ldGhpbmcgdG8gY2FsbSB0aGVpciBodW5nZXIuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA4MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNzAsICdUaGUgYWxsdXJpbmcgZnJhZ3JhbmNlIG9mIGEgZmV3IGZvcmdvdHRlbiBjaHVycm9zIGF3YWtlbnMgaW4gdGhlbSBhIGZpZXJjZSBibGVuZCBvZiBzdXJ2aXZhbCBhbmQgZ3JlZWQsIGFuZCBiZWZvcmUgbG9uZyB0aGUgc2l0dWF0aW9uIGVydXB0cyBpbnRvIG9wZW4gd2FyZmFyZS4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIzMCwgJ1Rob3VnaCB0aGVyZSBhcmUgbmVpdGhlciBoZXJvZXMgbm9yIHZpbGxhaW5zLCBlYWNoIGZpcm1seSBiZWxpZXZlcyB0aGF0IHRoZSBjaHVycm8gaXMgaGVycyBieSBiaXJ0aHJpZ2h0LiBNb3JhbGl0eSBmYWx0ZXJzLCBmcmllbmRzaGlwIGZhZGVz4oCmIHRoZXJlIGFyZSBvbmx5IGNodXJyb3MgbGVmdC4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBEb3ZlbmFuZG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIwMCwgMjcwLCAnRG92ZW5hbmRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgNDMwLCAnQSBjdW5uaW5nLCBzbGlwcGVyeSBiaXJkLCBza2lsbGVkIGluIHRoZSBhcnQgb2Ygc3RlYWx0aC4gSGlzIGd1aWRpbmcgcHJpbmNpcGxlOiBcIkFsbCBjaHVycm9zIGJlbG9uZyB0byBzb21lb25l4oCmIGFuZCB0aGF0IHNvbWVvbmUgaXMgbWUuXCInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjAwLCAzNDAsICdkb3ZlbmFuZG8nKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgxLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIFBhbG9tb25cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDc3MCwgMjcwLCAnUGFsb23Ds24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCA0MzAsICdBIHRvdWdoIHBpZ2VvbiB3aXRoIGEgZGFyayBoaXN0b3J5LiBIZSBvbmNlIGJlbG9uZ2VkIHRvIHRoZSBhdmlhbiBtYWZpYSBhbmQgaXMgd2VsbCBhY3F1YWludGVkIHdpdGggdGhlIHBlcmlscyBvZiB0aGUgc3RyZWV0cyBhbmQgZ2FuZyBmaWdodHMuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA0MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc3MCwgMzQwLCAncGFsb21vbicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9iYXInLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2Jhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9idXR0b24nLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2J1dHRvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvUHZQJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI0MCwgJ1ZvbHVtZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL1Bvc2ljacOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYmFyWCA9IDQ4MDtcclxuICAgICAgICBjb25zdCBiYXJZID0gMzAwO1xyXG5cclxuICAgICAgICAvL0JhcnJhXHJcbiAgICAgICAgY29uc3QgYmFyID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9iYXInKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoMzAwLCAyMClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9idXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoNDAsIDQwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0VzdGFibGVjZXIgcG9zaWNpw7NuIGluaWNpYWwgZGVsIGJvdMOzbiBzZWfDum4gdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICBidXR0b24ueCA9IGJhclggLSAxNTAgKyAodGhpcy5zb3VuZC52b2x1bWUgKiAzMDApO1xyXG5cclxuICAgICAgICAvL0ludGVyYWN0aXZpZGFkXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBvYmosIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAob2JqICE9PSBidXR0b24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vTGltaXRhciBtb3ZpbWllbnRvIGVuIFggYSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gYmFyWCAtIDE1MDtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBiYXJYICsgMTUwO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbGVmdCwgcmlnaHQpO1xyXG5cclxuICAgICAgICAgICAgLy9Db252ZXJ0aXIgcG9zaWNpw7NuIGEgdW4gdmFsb3IgMCAtIDFcclxuICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gKGJ1dHRvbi54IC0gbGVmdCkgLyAzMDA7XHJcblxyXG4gICAgICAgICAgICAvL0FwbGljYXIgdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy9HdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vRm9uZG8gc2VtaS10cmFuc3BhcmVudGVcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDgwLCAyNzAsIDk2MCwgNTQwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgLy9Uw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgJ0NPTk5FQ1RJT04gTE9TVCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL01lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMzAwLCAnQXR0ZW1wdGluZyB0byByZWNvbm5lY3QuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0NvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMzUwLCAnQXR0ZW1wdHM6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0luZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgQXR0ZW1wdGluZyB0byByZWNvbm5lY3Qke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9MaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvL1ByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEF0dGVtcHRzOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy9MaW1waWFyIGludGVydmFsXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1JlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiByZXN0b3JlZCEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy9Wb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vTGltcGlhciBlbCBpbnRlcnZhbCBhbCBjZXJyYXIgbGEgZXNjZW5hXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vUXVpdGFyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIExvYmJ5IFNjZW5lIC0gV2FpdGluZyBmb3IgbXVsdGlwbGF5ZXIgbWF0Y2htYWtpbmdcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYmJ5U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoeyBrZXk6ICdMb2JieVNjZW5lJyB9KTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIHRoaXMubG9hZC5hdWRpbygnQXNjZW5zb3InLCAnYXNzZXRzL3NvdW5kcy9DYW5jaW9uRXNwZXJhLm1wMycpO1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgfVxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICBhbHBoYTogMSxcclxuICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ0ZvbmRvJyk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ0FzY2Vuc29yJywge1xyXG4gICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9UaXRsZVxyXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCwgJ09ubGluZSBNdWx0aXBsYXllcicsIHtcclxuICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvL1N0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDMwMCwgJycsIHtcclxuICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy9DYW5jZWwgYnV0dG9uXHJcbiAgICBjb25zdCBiYWNrQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNDgwLCA0NTAsICdib3RvbicpXHJcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpO1xyXG4gICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcblxyXG4gICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9Db25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvL0Nvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1dhaXRpbmcgZm9yIG9wcG9uZW50Li4uJyk7XHJcblxyXG4gICAgICAgIC8vSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRmFpbGVkIHRvIGNvbm5lY3QhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlICdxdWV1ZVN0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgUGxheWVycyBpbiBxdWV1ZTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xyXG4gICAgICAgIGlmICh0aGlzLmJnTXVzaWMpIHsgXHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbn1cclxuICAgICAgICAvL1N0b3JlIGdhbWUgZGF0YSBhbmQgdHJhbnNpdGlvbiB0byBtdWx0aXBsYXllciBnYW1lIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJHYW1lU2NlbmUnLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQaWdlb24gfSBmcm9tICcuLi9lbnRpdGllcy9QaWdlb24uanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBQYXVzZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QYXVzZUNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBBdHRhY2tQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IENodXJybyB9IGZyb20gJy4uL2VudGl0aWVzL0NodXJyby5qcyc7XHJcbmltcG9ydCB7IEF2ZW5hIH0gZnJvbSAnLi4vZW50aXRpZXMvQXZlbmEuanMnO1xyXG5pbXBvcnQgeyBQbHVtYSB9IGZyb20gJy4uL2VudGl0aWVzL1BsdW1hLmpzJztcclxuaW1wb3J0IHsgQmFzdXJhIH0gZnJvbSAnLi4vZW50aXRpZXMvQmFzdXJhLmpzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTtcclxuICAgICAgICB0aGlzLmxvY2FsUGFsb21hID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbW90ZVBhbG9tYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sb2NhbFNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnJlbW90ZVNjb3JlID0gMDtcclxuICAgICAgICAvL0tleXMgcGFyYSBsb3MgY29udHJvbGVzXHJcbiAgICAgICAgLyoqIEB0eXBlIHt7IHVwOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5LCBsZWZ0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5LCByaWdodDogUGhhc2VyLklucHV0LktleWJvYXJkLktleSwgYXR0YWNrOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5IH19ICovXHJcbiAgICAgICAgdGhpcy5rZXlzO1xyXG5cclxuICAgICAgICB0aGlzLmNodXJyb092ZXJsYXAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAgPSBudWxsO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgICNyZWdpb24gLy9QcmVsb2Fkc1xyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL1Nwcml0ZXMgZSBpbcOhZ2VuZXMgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL3Nwcml0ZXMvYmFja2dyb3VuZC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb24nLCAnYXNzZXRzL3Nwcml0ZXMvcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kbycsICdhc3NldHMvc3ByaXRlcy9kb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaHVycm8nLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2F2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0F2ZW5hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvUGx1bWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvQmFzdXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb19hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvblBsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fZmFzdC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25CYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zbG93LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkF2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc3Ryb25nLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9wJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fUGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fZCcsICdhc3NldHMvc3ByaXRlcy9JY29uX0RvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0Rlc2NvbmV4aW9uJywgJ2Fzc2V0cy9zcHJpdGVzL2Rlc2NvbmV4aW9uLnBuZycpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgeSBzb25pZG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdOdW1iJywgJ2Fzc2V0cy9zb3VuZHMvTnVtYi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb1BsdW1hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvUGx1bWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9DaHVycm8nLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9DaHVycm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9CYXN1cmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9CYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdGFxdWUnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BdGFxdWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdmVuYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0FscGlzdGUubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vblNoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnY2h1cnJvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi1zaGVldC5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDI1LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgI2VuZHJlZ2lvblxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW011bHRpcGxheWVyR2FtZVNjZW5lXSBTSFVURE9XTiBldmVudCBmaXJlZCcpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gREVTVFJPWSBldmVudCBmaXJlZCcpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgICAgICAvL011c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdOdW1iJywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIHVwOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyxcclxuICAgICAgICAgICAgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEsXHJcbiAgICAgICAgICAgIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCxcclxuICAgICAgICAgICAgYXR0YWNrOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhdGZvcm1zKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5waWdlb25JbmRpY2F0b3JzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX2QnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX3AnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVzXHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMSA9IHRoaXMuYWRkLnRleHQoMTAsIDIwLCAnRG92ZW5hbmRvOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyID0gdGhpcy5hZGQudGV4dCg3NTAsIDIwLCAnUGFsb23Ds246IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vSW5kaWNhZG9yIGRlIHF1ZSBwYWxvbWEgZXMgZWwganVnYWRvciBsb2NhbFxyXG4gICAgICAgIHRoaXMueW91TGFiZWwgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdZb3UnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb24gZGVsIFwiWW91XCJcclxuICAgICAgICB0aGlzLnVwZGF0ZVlvdUxhYmVsKCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyU3ByaXRlcyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3ByaXRlcy5hZGQocGlnZW9uLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29saXNpb25lcyBlbnRyZSBwYWxvbWFzIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF0Zm9ybXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxheWVyU3ByaXRlcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIC8vU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlWW91TGFiZWwoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnlvdUxhYmVsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy55b3VMYWJlbC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgLy9Eb3ZlbmFuZG9cclxuICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuc2NvcmVUZXh0UDEueCArICh0aGlzLnNjb3JlVGV4dFAxLndpZHRoIHx8IHRoaXMuc2NvcmVUZXh0UDEuZ2V0Qm91bmRzKCkud2lkdGgpICsgNTtcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuc2NvcmVUZXh0UDEueSArIDU7XHJcbiAgICAgICAgICAgIHRoaXMueW91TGFiZWwuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9QYWxvbcOzblxyXG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5zY29yZVRleHRQMi54IC0gKHRoaXMueW91TGFiZWwud2lkdGggfHwgdGhpcy55b3VMYWJlbC5nZXRCb3VuZHMoKS53aWR0aCkgLSA1O1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5zY29yZVRleHRQMi55ICsgNTtcclxuICAgICAgICAgICAgdGhpcy55b3VMYWJlbC5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQbGF0Zm9ybXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg1NDAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmEgcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzEwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0MTUsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW8gcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjUwLCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9TdWVsb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0ODAsIDUxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoOTYwLCA2MCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9DYW1pc2V0YVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NDAsIDM2MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoOTAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGFudGFsb25lc1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzNDUsIDM2NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgaXpxdWllcmRvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMzLCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgZGVyZWNob1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg5MjcsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgaXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg5LCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4NzAsIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9Db25maWd1cmFjacOzbiBkZSBwYWxvbWFzIHkgY29udHJvbGVzXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIyJywgODAwLCA0MzUsICdwYWxvbW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhbG9tYSA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQodGhpcy5sb2NhbFBhbG9tYS5pZCwgdGhpcy5sb2NhbFBhbG9tYSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCh0aGlzLnJlbW90ZVBhbG9tYS5pZCwgdGhpcy5yZW1vdGVQYWxvbWEpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW90ZVBhbG9tYS5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hLmZhY2luZyA9ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oJ1NlcnZlciBjbG9zZWQgdGhlIGNvbm5lY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGlnZW9uVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnJlbW90ZVBhbG9tYTtcclxuXHJcbiAgICAgICAgICAgICAgICBwLnNwcml0ZS54ID0gZGF0YS54O1xyXG4gICAgICAgICAgICAgICAgcC5zcHJpdGUueSA9IGRhdGEueTtcclxuXHJcbiAgICAgICAgICAgICAgICBwLmZhY2luZyA9IGRhdGEuZmFjaW5nO1xyXG4gICAgICAgICAgICAgICAgcC5zcHJpdGUuZmxpcFggPSBkYXRhLmZhY2luZyA9PT0gJ2xlZnQnID8gIXAuaW52ZXJ0RmxpcEZvck1vdmVtZW50IDogcC5pbnZlcnRGbGlwRm9yTW92ZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbUtleSA9IHAuY2hhcmFjdGVyID09PSAncGFsb21vbicgPyBgcGFsb21vbl8ke2RhdGEuYW5pbX1gIDogYGRvdmVuYW5kb18ke2RhdGEuYW5pbX1gO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcC5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcC5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW0ua2V5ICE9PSBhbmltS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcC5zcHJpdGUucGxheShhbmltS2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnc2NvcmVVcGRhdGUnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbFNjb3JlID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyBkYXRhLnBsYXllcjFTY29yZSA6IGRhdGEucGxheWVyMlNjb3JlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVTY29yZSA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gZGF0YS5wbGF5ZXIyU2NvcmUgOiBkYXRhLnBsYXllcjFTY29yZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlVGV4dFAxLnNldFRleHQoYERvdmVuYW5kbzogJHtkYXRhLnBsYXllcjFTY29yZX1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDIuc2V0VGV4dChgUGFsb23Ds246ICR7ZGF0YS5wbGF5ZXIyU2NvcmV9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVZb3VMYWJlbCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdhdHRhY2tSZXNvbHZlJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0YWNrZXIgPSB0aGlzLnBsYXllcnMuZ2V0KGRhdGEuYXR0YWNrZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWF0dGFja2VyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgYXR0YWNrZXIuZmFjaW5nID0gZGF0YS5mYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tlci5zcHJpdGUuZmxpcFggPSBkYXRhLmZhY2luZyA9PT0gJ2xlZnQnO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGNtZCA9IG5ldyBBdHRhY2tQaWdlb25Db21tYW5kKGF0dGFja2VyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoY21kKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjYXNlICdpdGVtU3Bhd24nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGF3bkl0ZW1Gcm9tU2VydmVyKGRhdGEuaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1EZXNwYXduJzpcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1UeXBlID09PSAnY2h1cnJvJyAmJiB0aGlzLmNodXJybykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNodXJyb092ZXJsYXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnJlbW92ZUNvbGxpZGVyKHRoaXMuY2h1cnJvT3ZlcmxhcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1cnJvT3ZlcmxhcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1cnJvLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNodXJybyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbVR5cGUgPT09ICdwb3dlclVwJyAmJiB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBPdmVybGFwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwT3ZlcmxhcCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnZ2FtZU92ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRHYW1lKGRhdGEud2lubmVyLCBkYXRhLnBsYXllcjFTY29yZSwgZGF0YS5wbGF5ZXIyU2NvcmUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG5cclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbignT3Bwb25lbnQgRGlzY29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1Db2xsZWN0ZWQnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwaWdlb24gPSBkYXRhLnBsYXllcklkID09PSB0aGlzLmxvY2FsUGFsb21hLmlkID8gdGhpcy5sb2NhbFBhbG9tYSA6IHRoaXMucmVtb3RlUGFsb21hO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1UeXBlID09PSAnY2h1cnJvJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvQ2h1cnJvJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hZGRTY29yZSgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9BY3R1YWxpemFyIHRleHRvcyBkZSBwdW50dWFjacOzblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dChgRG92ZW5hbmRvOiAke3RoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gdGhpcy5sb2NhbFBhbG9tYS5zY29yZSA6IHRoaXMucmVtb3RlUGFsb21hLnNjb3JlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDIuc2V0VGV4dChgUGFsb23Ds246ICR7dGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyB0aGlzLnJlbW90ZVBhbG9tYS5zY29yZSA6IHRoaXMubG9jYWxQYWxvbWEuc2NvcmV9YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0FwbGljYXIgZWZlY3RvcyBzZWfDum4gcG93ZXItdXBcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuaXRlbVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXZlbmEnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9BdmVuYScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQXZlbmEnLCA1MDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5zdHVuRm9yY2UgKz0gNTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmF0dGFja0ZvcmNlICs9IDIwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnN0dW5Gb3JjZSAtPSA1MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmF0dGFja0ZvcmNlIC09IDIwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BsdW1hJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvUGx1bWEnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvblBsdW1hJywgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAxNTAsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc3VyYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ1Nvbmlkb0Jhc3VyYScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQmFzdXJhJywgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAtMTUwLCA1MDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubG9jYWxQYWxvbWEuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdEZXNjb25leGlvbicpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjUwLCBgJHtyZWFzb259YCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdSZXR1cm4gdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpO1xyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpO1xyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNwYXduSXRlbUZyb21TZXJ2ZXIoaXRlbURhdGEpIHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHgsIHkgfSA9IGl0ZW1EYXRhO1xyXG5cclxuICAgICAgICBsZXQgSXRlbUNsYXNzID0gbnVsbDtcclxuICAgICAgICBsZXQgcmVmTmFtZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdjaHVycm8nOiBJdGVtQ2xhc3MgPSBDaHVycm87IHJlZk5hbWUgPSAnY2h1cnJvJzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2F2ZW5hJzogSXRlbUNsYXNzID0gQXZlbmE7IHJlZk5hbWUgPSAncG93ZXJVcCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwbHVtYSc6IEl0ZW1DbGFzcyA9IFBsdW1hOyByZWZOYW1lID0gJ3Bvd2VyVXAnOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYmFzdXJhJzogSXRlbUNsYXNzID0gQmFzdXJhOyByZWZOYW1lID0gJ3Bvd2VyVXAnOyBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtQ2xhc3ModGhpcywgeCwgeSk7XHJcbiAgICAgICAgdGhpc1tyZWZOYW1lXSA9IGl0ZW07XHJcblxyXG4gICAgICAgIGlmIChyZWZOYW1lID09PSAnY2h1cnJvJyAmJiB0aGlzLmNodXJyb092ZXJsYXApIHtcclxuICAgICAgICAgICAgdGhpcy5jaHVycm9PdmVybGFwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5jaHVycm9PdmVybGFwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09ICdwb3dlclVwJyAmJiB0aGlzLnBvd2VyVXBPdmVybGFwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLnBvd2VyVXBPdmVybGFwID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG92ZXJsYXAgPSB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWxvbWEuc3ByaXRlLFxyXG4gICAgICAgICAgICBpdGVtLnNwcml0ZSxcclxuICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2l0ZW1Ub3VjaCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtRGF0YS5pZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIHRoaXNcclxuICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09ICdjaHVycm8nKSB0aGlzLmNodXJyb092ZXJsYXAgPSBvdmVybGFwO1xyXG4gICAgICAgIGVsc2UgdGhpcy5wb3dlclVwT3ZlcmxhcCA9IG92ZXJsYXA7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0l0ZW1JY29uKHBpZ2VvbiwgaWNvbktleSwgZHVyYXRpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaWNvblg7XHJcbiAgICAgICAgY29uc3QgaWNvblkgPSA4NTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NvcmVUZXh0UDEgJiYgdGhpcy5zY29yZVRleHRQMikge1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2NvcmVUZXh0UDEueCArIDI1XHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnID8gNDAgOiA4NTA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKGljb25YLCBpY29uWSwgaWNvbktleSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKDUwLCA1MClcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMDApO1xyXG5cclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZW5kR2FtZSh3aW5uZXJJZCwgcGxheWVyMVNjb3JlLCBwbGF5ZXIyU2NvcmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZEdhbWVTY2VuZScsIHtcclxuICAgICAgICAgICAgICAgIHdpbm5lcklkLFxyXG4gICAgICAgICAgICAgICAgbG9jYWxQbGF5ZXJJZDogdGhpcy5wbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMVNjb3JlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMlNjb3JlLFxyXG4gICAgICAgICAgICAgICAgd3M6IHRoaXMud3NcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVFbmRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLmxvY2FsUGFsb21hO1xyXG4gICAgICAgIGlmICghcGlnZW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vU2kgbGEgcGFsb21hIGVzdMOhIHN0dW5lYWRhIG5vIHB1ZWRlIGhhY2VyIG5hZGE6IGRldGVuZXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5zdHVubmVkKSB7XHJcbiAgICAgICAgICAgIC8vUGVybWl0aXIga25vY2tiYWNrIGR1cmFudGUgdW4gY29ydG8gcGVyaW9kbyB0cmFzIHJlY2liaXIgZWwgZ29scGVcclxuICAgICAgICAgICAgaWYgKCFwaWdlb24ua25vY2tiYWNrRXhwaXJlIHx8IHRoaXMudGltZS5ub3cgPiBwaWdlb24ua25vY2tiYWNrRXhwaXJlKSB7XHJcbiAgICAgICAgICAgICAgICBwaWdlb24uc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL01vdmltaWVudG8gaG9yaXpvbnRhbCAoQSAtIEQpXHJcbiAgICAgICAgbGV0IG1vdmVYID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMua2V5cy5sZWZ0LmlzRG93bikge1xyXG4gICAgICAgICAgICBtb3ZlWCA9IC0xO1xyXG4gICAgICAgICAgICBwaWdlb24uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICAgICAgcGlnZW9uLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5rZXlzLnJpZ2h0LmlzRG93bikge1xyXG4gICAgICAgICAgICBtb3ZlWCA9IDE7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUuZmxpcFggPSBmYWxzZTtcclxuICAgICAgICAgICAgcGlnZW9uLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1NhbHRvIChXKVxyXG4gICAgICAgIGNvbnN0IGp1bXAgPSBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLnVwKTtcclxuXHJcbiAgICAgICAgLy9FbnZpYXIgY29tYW5kbyBjb24gbW92aW1pZW50byBob3Jpem9udGFsIHkgc2FsdG9cclxuICAgICAgICBsZXQgbW92ZUNvbW1hbmQgPSBuZXcgTW92ZVBpZ2VvbkNvbW1hbmQocGlnZW9uLCBtb3ZlWCwganVtcCk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcblxyXG4gICAgICAgIC8vTWFuZGFyIHBvc2ljacOzbiBhbCBzZXJ2ZXJcclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ3BpZ2Vvbk1vdmUnLFxyXG4gICAgICAgICAgICB4OiB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZS55LFxyXG4gICAgICAgICAgICBhbmltOiB0aGlzLmxvY2FsUGFsb21hLmN1cnJlbnRBbmltLFxyXG4gICAgICAgICAgICBmYWNpbmc6IHRoaXMubG9jYWxQYWxvbWEuZmFjaW5nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQXRhcXVlIChGKVxyXG4gICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24odGhpcy5rZXlzLmF0dGFjaykpIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXR0YWNrUmVxdWVzdCcsXHJcbiAgICAgICAgICAgICAgICBmYWNpbmc6IHBpZ2Vvbi5mYWNpbmcsXHJcbiAgICAgICAgICAgICAgICB4OiBwaWdlb24uc3ByaXRlLngsXHJcbiAgICAgICAgICAgICAgICB5OiBwaWdlb24uc3ByaXRlLnlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5waWdlb25JbmRpY2F0b3JzW2lkXTtcclxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gcGlnZW9uLnNwcml0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcHJpdGUueSA8IC01KSB7XHJcbiAgICAgICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3RhIGZ1ZXJhIHBvciBhcnJpYmEgbXVlc3RyYSBlbCBpbmRpY2Fkb3JcclxuICAgICAgICAgICAgICAgIGluZGljYXRvci5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnggPSBzcHJpdGUueDtcclxuICAgICAgICAgICAgICAgIGluZGljYXRvci55ID0gNTA7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9TaSB2dWVsdmUgYSBlbnRyYXIgc2Ugb2N1bHRhIGVsIGljb25vXHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLy9FbGltaW5hciBtw7pzaWNhIGFsIGNlcnJhciBsYSBlc2NlbmEgeSBjZXJyYXIgbGlzdGVuZXJzXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW011bHRpcGxheWVyR2FtZVNjZW5lXSBzaHV0ZG93biBjYWxsZWQnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgICAgJ1tNdWx0aXBsYXllckdhbWVTY2VuZV0gV1Mgc3RhdGUgb24gc2h1dGRvd246JyxcclxuICAgICAgICAgICAgdGhpcy53cy5yZWFkeVN0YXRlXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBpZiAodGhpcy5iZ011c2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db250cm9sc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgRW5kR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgU3RvcnlTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1N0b3J5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICB3aWR0aDogOTYwLFxyXG4gIGhlaWdodDogNTQwLFxyXG4gIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICBwaHlzaWNzOiB7XHJcbiAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgIGFyY2FkZToge1xyXG4gICAgICBncmF2aXR5OiB7IHk6IDEyMDAgfSxcclxuICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICB9XHJcbiAgfSxcclxuICBzY2VuZTogW01lbnVTY2VuZSwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBDcmVkaXRzU2NlbmUsIENvbnRyb2xzU2NlbmUsIEVuZEdhbWVTY2VuZSwgU3RvcnlTY2VuZSwgT3B0aW9uc1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgYmFja2dyb3VuZENvbG9yOiAnIzFhMmEyZScsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImF1ZGlvIiwiaW1hZ2UiLCJjcmVhdGUiLCJjYW1lcmFzIiwibWFpbiIsInNldEFscGhhIiwiYWRkIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldE9yaWdpbiIsImJnTXVzaWMiLCJzb3VuZCIsImxvb3AiLCJ2b2x1bWUiLCJwbGF5IiwiY29ubmVjdGlvblRleHQiLCJsb2NhbEJ0blNwcml0ZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsImxvY2FsQnRuVGV4dCIsInNldERlcHRoIiwib25saW5lQnRuU3ByaXRlIiwib25saW5lQnRuVGV4dCIsIm9uIiwic2V0VGV4dHVyZSIsImlucHV0IiwiZW5hYmxlZCIsInN0b3AiLCJkZXN0cm95Iiwic2NlbmUiLCJzdGFydCIsImNyZWRpdHNCdG5TcHJpdGUiLCJjcmVkaXRzQnRuVGV4dCIsInRyYW5zaXRpb24iLCJ0YXJnZXQiLCJtb3ZlQmVsb3ciLCJvblVwZGF0ZSIsInByb2dyZXNzIiwib3B0aW9uc0J0blNwcml0ZSIsIm9wdGlvbnNCdG5UZXh0IiwiY29udHJvbHNCdG5TcHJpdGUiLCJjb250cm9sc0J0blRleHQiLCJzdG9yeUJ0blNwcml0ZSIsInN0b3J5QnRuVGV4dCIsImJ1dHRvbnMiLCJzZXRCdXR0b25zRW5hYmxlZCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5IiwiaXNBY3RpdmUiLCJzZXRUZXh0Iiwic2V0Q29sb3IiLCJBcnJheSIsImlzQXJyYXkiLCJidG4iLCJjbGVhclRpbnQiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJzZXRUaW50Iiwic2h1dGRvd24iLCJQaWdlb24iLCJpZCIsIngiLCJ5IiwiY2hhcmFjdGVyIiwic2NvcmUiLCJzcGVlZCIsImp1bXBTcGVlZCIsImF0dGFja1JhbmdlIiwiYXR0YWNrRm9yY2UiLCJzdHVuRm9yY2UiLCJhdHRhY2tDb29sZG93biIsImxhc3RBdHRhY2tUaW1lIiwiZmFjaW5nIiwic3R1bm5lZCIsInN0dW5UaW1lb3V0IiwiZGVmYXVsdFN0dW5EdXJhdGlvbiIsImtub2NrYmFja0V4cGlyZSIsImlzQXR0YWNraW5nIiwiY3VycmVudEFuaW0iLCJ0ZXh0dXJlS2V5Iiwic3ByaXRlIiwicGh5c2ljcyIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsImFsbG93R3Jhdml0eSIsInBpZ2VvbiIsImludmVydEZsaXBGb3JNb3ZlbWVudCIsInNldEZsaXBYIiwiY2FuQXR0YWNrIiwidGltZSIsIm1hcmtBdHRhY2tlZCIsInBsYXlBbmltYXRpb24iLCJhbmltTmFtZSIsImtleSIsImFuaW1zIiwiZXhpc3RzIiwid2FybiIsInRha2VIaXQiLCJrbm9ja2JhY2tYIiwic2V0VmVsb2NpdHlYIiwiZGVsYXllZENhbGwiLCJzdHVuIiwiZHVyYXRpb25NcyIsInNldEFjY2VsZXJhdGlvblgiLCJzZXREYW1waW5nIiwic2V0RHJhZ1giLCJzdGFydEF0dGFja0FuaW1hdGlvbiIsImVuZEF0dGFja0FuaW1hdGlvbiIsInZlbG9jaXR5Iiwic2hvd0F0dGFja1Nwcml0ZSIsImF0dGFja1Nwcml0ZSIsImRlcHRoIiwib2Zmc2V0WCIsImZvbGxvd0V2ZW50IiwiYWRkRXZlbnQiLCJkZWxheSIsInJlbW92ZSIsImFkZFNjb3JlIiwidmFsdWUiLCJsb2ciLCJhcHBseU1vZGlmaWVyIiwicHJvcGVydHkiLCJhbW91bnQiLCJoYXNPd25Qcm9wZXJ0eSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJzIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsInByb2Nlc3MiLCJjb21tYW5kIiwiZXhlY3V0ZSIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGlnZW9uQ29tbWFuZCIsIm1vdmVYIiwianVtcCIsImRlc2lyZWRGbGlwIiwib25GbG9vciIsImJsb2NrZWQiLCJkb3duIiwidG91Y2hpbmciLCJzZXRWZWxvY2l0eVkiLCJQYXVzZUNvbW1hbmQiLCJpc1BhdXNlZCIsInNldFBhdXNlU3RhdGUiLCJBdHRhY2tQaWdlb25Db21tYW5kIiwiZGlyIiwiaGl0Ym94Iiwic2V0VmlzaWJsZSIsInNldEFsbG93R3Jhdml0eSIsInNldEltbW92YWJsZSIsInNldFNpemUiLCJiYXNlSGVpZ2h0Iiwib3ZlcmxhcCIsInBsYXllclNwcml0ZXMiLCJoYiIsInRhcmdldFNwcml0ZSIsInRhcmdldFBpZ2VvbiIsImtub2NrIiwid29ybGQiLCJyZW1vdmVDb2xsaWRlciIsIkl0ZW0iLCJzZXREaXNwbGF5U2l6ZSIsImV4cGlyZVRpbWVyIiwiYXBwbHlFZmZlY3QiLCJzaG93SXRlbUljb24iLCJpY29uS2V5IiwiYWN0aXZlSWNvblNwcml0ZSIsImFjdGl2ZUljb25UaW1lciIsImljb25YIiwic2NvcmVUZXh0UDEiLCJzY29yZVRleHRQMiIsIkNodXJybyIsIkF2ZW5hIiwiUGx1bWEiLCJCYXN1cmEiLCJHYW1lU2NlbmUiLCJpbml0IiwiaW5wdXRNYXBwaW5ncyIsImVzY1dhc0Rvd24iLCJnYW1lRW5kZWQiLCJwcm9jZXNzb3IiLCJjaHVycm8iLCJwb3dlclVwIiwiaXRlbVNwYXduUG9zaXRpb25zIiwicG93ZXJVcHMiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJjcmVhdGVQbGF0Zm9ybXMiLCJzZXRVcFBsYXllcnMiLCJwaWdlb25JbmRpY2F0b3JzIiwicGxheWVyMSIsInBsYXllcjIiLCJmcmFtZXMiLCJmcmFtZSIsImZyYW1lUmF0ZSIsInJlcGVhdCIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZm9udFN0eWxlIiwiZ3JvdXAiLCJjb2xsaWRlciIsInBsYXRmb3JtcyIsImVzY0tleSIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsInNwYXduSXRlbSIsIkdldFJhbmRvbSIsImV2ZW50cyIsInBhdXNlIiwibGF1bmNoIiwicHJldmlvdXNTY2VuZSIsInN0YXRpY0dyb3VwIiwicmVmcmVzaEJvZHkiLCJsZWZ0UGlnZW9uIiwicmlnaHRQaWdlb24iLCJmbGlwWCIsInNldCIsInBsYXllcklkIiwidXBLZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJhdHRhY2tLZXkiLCJtYXAiLCJjb25maWciLCJ1cEtleU9iaiIsInJpZ2h0S2V5T2JqIiwibGVmdEtleU9iaiIsImF0dGFja0tleU9iaiIsInR5cGUiLCJyZWZOYW1lIiwiSXRlbUNsYXNzIiwiYXZhaWxhYmxlUG9zaXRpb25zIiwiZmlsdGVyIiwicG9zIiwiaXRlbSIsIm9uSXRlbVBpY2t1cCIsImxpZmV0aW1lIiwiZGVsZXRlSXRlbSIsInBpZ2VvblNwcml0ZSIsIml0ZW1TcHJpdGUiLCJnZXQiLCJnZXRJdGVtQnlTcHJpdGUiLCJ3aW5uZXJJZCIsIm9yaWdpbmFsU2NlbmUiLCJyZXN1bWUiLCJ0b2dnbGVQYXVzZSIsIm5ld1BhdXNlZFN0YXRlIiwidXBkYXRlIiwiaXNEb3duIiwibWFwcGluZyIsIm1vdmVDb21tYW5kIiwiYXR0YWNrQ21kIiwiaW5kaWNhdG9yIiwiUGF1c2VTY2VuZSIsInJlY3RhbmdsZSIsInJlc3VtZUJ0blNwcml0ZSIsIm1lbnVCdG5TcHJpdGUiLCJDcmVkaXRzU2NlbmUiLCJzZXRTY2FsZSIsImJhY2tCdG5TcHJpdGUiLCJDb250cm9sc1NjZW5lIiwiRW5kR2FtZVNjZW5lIiwid3MiLCJ3aW5uZXJJc1AxIiwicGxheWVyV29uIiwibG9jYWxQbGF5ZXJJZCIsImJnS2V5IiwibWFpblRleHQiLCJ3aW5uZXJUZXh0Iiwib25TaHV0ZG93biIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwiY2xvc2UiLCJTdG9yeVNjZW5lIiwiYWxpZ24iLCJ3b3JkV3JhcCIsIndpZHRoIiwidXNlQWR2YW5jZWRXcmFwIiwiT3B0aW9uc1NjZW5lIiwiYnV0dG9uIiwiZHJhZ2dhYmxlIiwiYmFyWCIsInNldERyYWdnYWJsZSIsInBvaW50ZXIiLCJvYmoiLCJkcmFnWCIsImRyYWdZIiwiQ2xhbXAiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiTG9iYnlTY2VuZSIsIlNjZW5lIiwiaGVpZ2h0IiwicGxheWVyQ291bnRUZXh0IiwibGVhdmVRdWV1ZSIsImNvbm5lY3RUb1NlcnZlciIsIndzVXJsIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0Iiwib25vcGVuIiwic2VuZCIsIm9ubWVzc2FnZSIsImV2ZW50IiwicGFyc2UiLCJoYW5kbGVTZXJ2ZXJNZXNzYWdlIiwib25lcnJvciIsIm9uY2xvc2UiLCJwb3NpdGlvbiIsInBsYXllclJvbGUiLCJyb2xlIiwicm9vbUlkIiwiTXVsdGlwbGF5ZXJHYW1lU2NlbmUiLCJsb2NhbFBhbG9tYSIsInJlbW90ZVBhbG9tYSIsImxvY2FsU2NvcmUiLCJyZW1vdGVTY29yZSIsImtleXMiLCJjaHVycm9PdmVybGFwIiwicG93ZXJVcE92ZXJsYXAiLCJhZGRLZXlzIiwidXAiLCJXIiwibGVmdCIsIkEiLCJyaWdodCIsIkQiLCJhdHRhY2siLCJGIiwiY3JlYXRlQW5pbWF0aW9ucyIsInlvdUxhYmVsIiwidXBkYXRlWW91TGFiZWwiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsImdldEJvdW5kcyIsInNldFBvc2l0aW9uIiwicCIsImFuaW1LZXkiLCJhbmltIiwiaXNQbGF5aW5nIiwicGxheWVyMVNjb3JlIiwicGxheWVyMlNjb3JlIiwiYXR0YWNrZXIiLCJhdHRhY2tlcklkIiwiY21kIiwic3Bhd25JdGVtRnJvbVNlcnZlciIsIml0ZW1UeXBlIiwiZW5kR2FtZSIsIndpbm5lciIsInJlYXNvbiIsInNldFZlbG9jaXR5IiwiY3JlYXRlTWVudUJ1dHRvbiIsIml0ZW1EYXRhIiwic2VuZE1lc3NhZ2UiLCJpdGVtSWQiLCJtZXNzYWdlIiwiSnVzdERvd24iLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==