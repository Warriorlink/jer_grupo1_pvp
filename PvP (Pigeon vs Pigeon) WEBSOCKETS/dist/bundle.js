(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("AveMaria","assets/sounds/AveMaria.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.add.image(480,270,"Fondo"),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,100,"PvP",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic||(this.bgMusic=this.sound.add("AveMaria",{loop:!0,volume:.5}),this.bgMusic.play()),this.connectionText=this.add.text(480,180,"Server: Checking...",{fontSize:"24px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const e=this.add.image(250,360,"boton").setInteractive({useHandCursor:!0});this.add.text(250,360,"Local 2 Players",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.cameras.main.setAlpha(1),this.scene.transition({target:"GameScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const s=this.add.image(700,360,"boton").setInteractive({useHandCursor:!0});this.add.text(700,360,"Online",{fontSize:"24px",color:"#000000ff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.cameras.main.setAlpha(1),this.scene.transition({target:"LobbyScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const i=this.add.image(250,500,"boton").setInteractive({useHandCursor:!0});this.add.text(250,500,"Credits",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")),i.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"CreditsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const o=this.add.image(700,500,"boton").setInteractive({useHandCursor:!0});this.add.text(700,500,"Options",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),o.on("pointerover",()=>o.setTexture("botonEncima")),o.on("pointerout",()=>o.setTexture("boton")),o.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"OptionsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const a=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Controls",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),a.on("pointerover",()=>a.setTexture("botonEncima")),a.on("pointerout",()=>a.setTexture("boton")),a.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"ControlsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const n=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Story",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),n.on("pointerover",()=>n.setTexture("botonEncima")),n.on("pointerout",()=>n.setTexture("boton")),n.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"StoryScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Server: ${e.count} user(s) connected`),this.connectionText.setColor("#ffffffff")):(this.connectionText.setText("Server: Disconnected"),this.connectionText.setColor("#ff0000ff"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i{constructor(e,t,s,i,o){this.scene=e,this.id=t,this.character=o,this.score=0,this.speed=300,this.jumpSpeed=630,this.attackRange=40,this.attackForce=200,this.stunForce=1e3,this.attackCooldown=500,this.lastAttackTime=0,this.facing="right",this.stunned=!1,this.stunTimeout=null,this.defaultStunDuration=1e3,this.knockbackExpire=null,this.isAttacking=!1,this.currentAnim="idle";let a=null;"palomon"===o?a="palomonSheet":"dovenando"===o?a="dovenandoSheet":(console.error("Personaje desconocido:",o),a="palomonSheet"),this.sprite=this.scene.physics.add.sprite(s,i,a),this.sprite.body.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.pigeon=this,this.invertFlipForMovement="dovenando"===o,this.sprite.setFlipX(this.invertFlipForMovement)}canAttack(e){return(e=e||this.scene.time.now)-this.lastAttackTime>=this.attackCooldown}markAttacked(e){this.lastAttackTime=e||this.scene.time.now}playAnimation(e){if(this.isAttacking)return;const t=`${this.character}_${e}`;this.scene.anims.exists(t)?this.sprite.anims.play(t,!0):console.warn(`Animación no existe: ${t}`)}takeHit(e=0){this.sprite.setVelocityX(e),this.knockbackExpire=this.scene.time.now+120,this.scene.time.delayedCall(120,()=>{this.stunned&&this.sprite.setVelocityX(0)}),this.stunned||(this.sprite.setTint(16711680),this.scene.time.delayedCall(200,()=>{this.stunned||this.sprite.clearTint()}))}stun(e){e=null==e?this.defaultStunDuration:e,this.stunned||(this.stunned=!0,this.sprite.setTint(10066431),this.sprite.setVelocityX(0),this.sprite.setAccelerationX(0),this.sprite.setDamping(!0),this.sprite.setDragX(900),this.stunTimeout=this.scene.time.delayedCall(e,()=>{this.stunned=!1,this.sprite.clearTint(),this.sprite.setDamping(!1),this.sprite.setDragX(0),this.stunTimeout=null}))}startAttackAnimation(){if(this.isAttacking)return;this.isAttacking=!0;const e=`${this.character}_attack`;this.scene.anims.exists(e)&&this.sprite.anims.play(e,!0),this.sprite.setFlipX("left"===this.facing?!this.invertFlipForMovement:this.invertFlipForMovement),this.scene.time.delayedCall(250,()=>{this.endAttackAnimation()})}endAttackAnimation(){this.isAttacking=!1,0===this.sprite.body.velocity.x?this.playAnimation("idle"):this.playAnimation("walk")}showAttackSprite(e=250){const t=this.scene,s="dovenando"===this.character?"dovenandoAttack":"palomonAttack",i=t.add.sprite(this.sprite.x,this.sprite.y,s);i.setOrigin(.5,.5),i.setDepth(this.sprite.depth+1);const o="right"===this.facing?20:-20;i.x+=o,i.setFlipX("left"===this.facing);const a=t.time.addEvent({delay:16,loop:!0,callback:()=>{i.x=this.sprite.x+o,i.y=this.sprite.y}});t.time.delayedCall(e,()=>{a.remove(!1),i.destroy()})}addScore(e){this.score+=e,console.log(`${this.id} recogió un Churro → score: ${this.score}`)}applyModifier(e,t,s){this.hasOwnProperty(e)?(this[e]+=t,this.scene.time.addEvent({delay:s,callback:()=>{this[e]-=t}})):console.warn(`La propiedad ${e} no existe en la paloma.`)}}class o{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class a{execute(){}serialize(){}getPlayer(){}}class n extends a{constructor(e,t=0,s=!1){super(),this.pigeon=e,this.moveX=t,this.jump=s}execute(){const e=this.pigeon,t=e.sprite;if(e.stunned)return t.setVelocityX(0),void e.playAnimation("idle");if(this.moveX>0?e.facing="right":this.moveX<0&&(e.facing="left"),0!==this.moveX){const s=e.invertFlipForMovement?this.moveX>0:this.moveX<0;t.setFlipX(s)}if(t.setVelocityX(this.moveX*e.speed),0!==this.moveX?(e.playAnimation("walk"),e.currentAnim="walk"):(e.playAnimation("idle"),e.currentAnim="idle"),this.jump){const s=t.body;s&&("function"==typeof s.onFloor?s.onFloor():s.blocked&&s.blocked.down||s.touching&&s.touching.down)&&t.setVelocityY(-e.jumpSpeed)}}}class r extends a{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class c extends a{constructor(e){super(),this.pigeon=e}execute(){const e=this.pigeon.scene;this.pigeon.currentAnim="attack",this.pigeon.startAttackAnimation(),this.pigeon.showAttackSprite(250),e.sound.play("SonidoAtaque",{volume:.7});const t="right"===this.pigeon.facing?1:-1,s=this.pigeon.sprite.x+t*this.pigeon.attackRange,i=this.pigeon.sprite.y,o=e.physics.add.sprite(s,i,null);o.setVisible(!1),o.body.setAllowGravity(!1),o.body.setImmovable(!0),o.setSize(this.pigeon.attackRange,.6*this.pigeon.baseHeight);const a=e.physics.add.overlap(o,e.playerSprites,(s,i)=>{if(i===this.pigeon.sprite)return;const o=i.pigeon;if(!o)return;if(o.id===this.pigeon.id)return;const n=this.pigeon.attackForce*t;o.stun(this.pigeon.stunForce),o.takeHit(n),e.physics?.world&&a&&e.physics.world.removeCollider(a)});e.time.delayedCall(120,()=>{e.physics?.world&&a&&e.physics.world.removeCollider(a),o?.destroy()})}}class h{constructor(e,t,s,i){this.scene=e,this.sprite=e.physics.add.sprite(t,s,i),this.sprite.setDisplaySize(40,40),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.expireTimer=null}applyEffect(e){console.warn("applyEffect() no implementado en el item")}showItemIcon(e,t,s){e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null);let i=null;i=this.scene.scoreTextP1&&this.scene.scoreTextP2?"player1"===e.id?this.scene.scoreTextP1.x+25:this.scene.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.scene.add.image(i,85,t),e.activeIconSprite.setDisplaySize(50,50),e.activeIconTimer=this.scene.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null)}})}destroy(){this.sprite.destroy()}}class l extends h{constructor(e,t,s){super(e,t,s,"churroSheet"),this.sprite.play("churro_anim")}applyEffect(e){this.scene.sound.play("SonidoChurro",{volume:.5}),e.addScore(1)}}class d extends h{constructor(e,t,s){super(e,t,s,"avena")}applyEffect(e){const t=5e3;this.scene.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(e,"iconAvena",t),e.applyModifier("attackForce",300,t),e.applyModifier("stunForce",1e3,t)}}class p extends h{constructor(e,t,s){super(e,t,s,"pluma")}applyEffect(e){this.scene.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(e,"iconPluma",5e3),e.applyModifier("speed",200,5e3)}}class m extends h{constructor(e,t,s){super(e,t,s,"basura")}applyEffect(e){this.scene.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(e,"iconBasura",5e3),e.applyModifier("speed",-100,5e3)}}class u extends e.Scene{constructor(){super("GameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"]}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.time.addEvent({delay:5e3,loop:!0,callback:()=>{null===this.churro&&this.spawnItem("churro")}}),this.time.addEvent({delay:7e3,loop:!0,callback:()=>{null===this.powerUp&&this.spawnItem(e.Utils.Array.GetRandom(this.powerUps))}}),this.events.on("shutdown",this.shutdown,this),this.events.on("destroy",this.shutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=l;break;case"avena":s="powerUp",i=d;break;case"pluma":s="powerUp",i=p;break;case"basura":s="powerUp",i=m;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),a=e.Utils.Array.GetRandom(o),n=new i(this,a.x,a.y);if(this[s]=n,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,n.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;n.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===n&&this.deleteItem(n)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;e.leftKeyObj.isDown?s=-1:e.rightKeyObj.isDown&&(s=1);const i=e.upKeyObj.isDown;let o=new n(t,s,i);if(this.processor.process(o),e.attackKeyObj&&e.attackKeyObj.isDown){const e=new c(t);this.processor.process(e)}this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class f extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"Game Paused",{fontSize:"64px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const t=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Resume",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()});const s=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Return to Menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class g extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Credits",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Game developed by GB3D",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.add.text(480,250,"Artist:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,290,"Hugo Checa",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,350,"Programmers:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,390,"Alejandro Marín",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,425,"Lucas Lorente",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,460,"Miguel Amado",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,510,"boton").setInteractive({useHandCursor:!0});this.add.text(480,510,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class y extends e.Scene{constructor(){super("ControlsScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Controls",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Player 1",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,200,"Move: W - A - D (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,240,"Attack: F",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,300,"Pause: Esc",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,360,"Player 2 (Local)",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,410,"Move: ↑ - ← - → (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,450,"Attack: Shift",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class S extends e.Scene{constructor(){super("EndGameScene")}init(e){this.ws=e.ws}preload(){this.load.audio("SweetVictory","assets/sounds/SweetVictory.mp3"),this.load.image("DovenandoVictory","assets/sprites/pantalla victoria dovenando.png"),this.load.image("PalomonVictory","assets/sprites/pantalla victoria palomon.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.cameras.main.setAlpha(0);const t="player1"===e.winnerId,s=t===("player1"===e.localPlayerId),i=t?"DovenandoVictory":"PalomonVictory";this.add.image(480,270,i),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const o=s?"SUPREME VICTORY!":"CRUSHING DEFEAT";this.add.text(480,200,o,{fontSize:"104px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const a=t?"Dovenando Wins!":"Palomón Wins!";this.add.text(480,300,a,{fontSize:"60px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.bgMusic=this.sound.add("SweetVictory",{loop:!0,volume:.6}),this.bgMusic.play(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this);const n=this.add.image(480,460,"boton").setInteractive({useHandCursor:!0});this.add.text(480,460,"Return to menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),n.on("pointerover",()=>n.setTexture("botonEncima")),n.on("pointerout",()=>n.setTexture("boton")),n.on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>this.cameras.main.setAlpha(1-e)})})}onShutdown(){this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class k extends e.Scene{constructor(){super("StoryScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Story",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,120,"In some nameless city, on a damp and murky night, two pigeons wandered through the alleys in search of something to calm their hunger.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,170,"The alluring fragrance of a few forgotten churros awakens in them a fierce blend of survival and greed, and before long the situation erupts into open warfare.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,230,"Though there are neither heroes nor villains, each firmly believes that the churro is hers by birthright. Morality falters, friendship fades… there are only churros left.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(200,270,"Dovenando",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(220,430,'A cunning, slippery bird, skilled in the art of stealth. His guiding principle: "All churros belong to someone… and that someone is me."',{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(200,340,"dovenando").setOrigin(.5).setScale(1.5),this.add.text(770,270,"Palomón",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(750,430,"A tough pigeon with a dark history. He once belonged to the avian mafia and is well acquainted with the perils of the streets and gang fights.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(770,340,"palomon").setOrigin(.5).setScale(1.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class v extends e.Scene{constructor(){super("OptionsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("slider_bar","assets/sprites/slider_bar.png"),this.load.image("slider_button","assets/sprites/slider_button.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Options",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,240,"Volume",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=(this.add.image(480,300,"slider_bar").setDisplaySize(300,20).setOrigin(.5),this.add.image(480,300,"slider_button").setDisplaySize(40,40).setInteractive({draggable:!0}).setOrigin(.5));t.x=330+300*this.sound.volume,this.input.setDraggable(t),this.input.on("drag",(s,i,o,a)=>{if(i!==t)return;t.x=e.Math.Clamp(o,330,630);const n=(t.x-330)/300;this.sound.volume=n});const s=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class b extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"CONNECTION LOST",{fontSize:"64px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,300,"Attempting to reconnect...",{fontSize:"24px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(480,350,"Attempts: 0",{fontSize:"18px",color:"#ffffffff",fontStyle:"bold",stroke:"#000000"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Attempting to reconnect${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Attempts: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("Connection restored!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class x extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}preload(){this.load.audio("Ascensor","assets/sounds/CancionEspera.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800});const e=this.cameras.main.width;this.cameras.main.height,this.add.image(480,270,"Fondo"),this.bgMusic||(this.bgMusic=this.sound.add("Ascensor",{loop:!0,volume:.5}),this.bgMusic.play()),this.add.text(e/2,100,"Online Multiplayer",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.statusText=this.add.text(480,200,"Connecting to server...",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.playerCountText=this.add.text(480,300,"",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")),t.on("pointerdown",()=>{this.leaveQueue(),this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.bgMusic.stop(),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class w extends e.Scene{constructor(){super("MultiplayerGameScene")}init(e){this.ws=e.ws,this.roomId=e.roomId,this.players=new Map,this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.playerRole=e.playerRole,this.roleText=null,this.localPaloma=null,this.remotePaloma=null,this.localScore=0,this.remoteScore=0,this.keys,this.churroOverlap=null,this.powerUpOverlap=null}#e;preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.image("Desconexion","assets/sprites/desconexion.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}#t;create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background");const s="player1"===this.playerRole?"You are Dovenando":"You are Palomon";this.add.text(480,20,s,{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.keys=this.input.keyboard.addKeys({up:e.Input.Keyboard.KeyCodes.W,left:e.Input.Keyboard.KeyCodes.A,right:e.Input.Keyboard.KeyCodes.D,attack:e.Input.Keyboard.KeyCodes.F}),this.createPlatforms(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.createAnimations(),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.setUpPlayers(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.setupWebSocketListeners()}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createAnimations(){this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){"player1"===this.playerRole?(this.localPaloma=new i(this,"player1",150,435,"dovenando"),this.remotePaloma=new i(this,"player2",800,435,"palomon")):(this.localPaloma=new i(this,"player2",800,435,"palomon"),this.remotePaloma=new i(this,"player1",150,435,"dovenando")),this.players.set(this.localPaloma.id,this.localPaloma),this.players.set(this.remotePaloma.id,this.remotePaloma),this.remotePaloma.sprite.flipX=!0,this.remotePaloma.facing="left"}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"paddleUpdate":const t=this.remotePaloma;t.sprite.x=e.x,t.sprite.y=e.y,t.facing=e.facing,t.sprite.flipX="left"===e.facing?!t.invertFlipForMovement:t.invertFlipForMovement;const s="palomon"===t.character?`palomon_${e.anim}`:`dovenando_${e.anim}`;t.sprite.anims.isPlaying&&t.sprite.anims.currentAnim.key===s||t.sprite.play(s,!0);break;case"scoreUpdate":this.localScore="player1"===this.playerRole?e.player1Score:e.player2Score,this.remoteScore="player1"===this.playerRole?e.player2Score:e.player1Score,this.scoreTextP1.setText(e.player1Score.toString()),this.scoreTextP2.setText(e.player2Score.toString());break;case"attackResolve":{const t=this.players.get(e.attackerId);if(!t)return;t.facing=e.facing,t.sprite.flipX="left"===e.facing;const s=new c(t);this.processor.process(s);break}case"itemSpawn":this.spawnItemFromServer(e.item);break;case"itemDespawn":"churro"===e.itemType&&this.churro&&(this.churroOverlap&&(this.physics.world.removeCollider(this.churroOverlap),this.churroOverlap=null),this.churro.destroy(),this.churro=null),"powerUp"===e.itemType&&this.powerUp&&(this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null),this.powerUp.destroy(),this.powerUp=null);break;case"gameOver":this.gameEnded=!0,this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;case"itemCollected":{const t=e.playerId===this.localPaloma.id?this.localPaloma:this.remotePaloma;if("churro"===e.itemType)this.sound.play("SonidoChurro",{volume:.5}),t.addScore(1),this.scoreTextP1.setText(`Dovenando: ${"player1"===this.playerRole?this.localPaloma.score:this.remotePaloma.score}`),this.scoreTextP2.setText(`Palomón: ${"player1"===this.playerRole?this.remotePaloma.score:this.localPaloma.score}`);else switch(e.itemType){case"avena":this.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(t,"iconAvena",5e3),t.stunForce+=500,t.attackForce+=200,this.time.delayedCall(5e3,()=>{t.stunForce-=500,t.attackForce-=200});break;case"pluma":this.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(t,"iconPluma",5e3),t.applyModifier("speed",150,5e3);break;case"basura":this.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(t,"iconBasura",5e3),t.applyModifier("speed",-150,5e3)}break}default:console.log("Unknown message type:",e.type)}}handleDisconnection(){this.gameEnded=!0,this.localPaloma.sprite.setVelocity(0,0),this.remotePaloma.sprite.setVelocity(0,0),this.physics.pause(),this.add.image(480,270,"Desconexion"),this.add.text(480,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000ff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Return to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}spawnItemFromServer(e){const{type:t,x:s,y:i}=e;let o=null,a=null;switch(t){case"churro":o=l,a="churro";break;case"avena":o=d,a="powerUp";break;case"pluma":o=p,a="powerUp";break;case"basura":o=m,a="powerUp";break;default:return}const n=new o(this,s,i);this[a]=n,"churro"===a&&this.churroOverlap&&(this.churroOverlap.destroy(),this.churroOverlap=null),"powerUp"===a&&this.powerUpOverlap&&(this.powerUpOverlap.destroy(),this.powerUpOverlap=null);const r=this.physics.add.overlap(this.localPaloma.sprite,n.sprite,()=>{this.sendMessage({type:"itemTouch",itemId:e.id})},null,this);"churro"===a?this.churroOverlap=r:this.powerUpOverlap=r}showItemIcon(e,t,s){let i;e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null),i=this.scoreTextP1&&this.scoreTextP2?"player1"===e.id?this.scoreTextP1.x+25:this.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.add.image(i,85,t).setDisplaySize(50,50).setDepth(1e3),e.activeIconTimer=this.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer=null}})}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}endGame(e,t,s){this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null,this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:e,localPlayerId:this.playerRole,player1Score:t,player2Score:s,ws:this.ws},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}update(){if(this.gameEnded)return;this.escKey.isDown&&!this.escWasDown&&this.togglePause();const t=this.localPaloma;if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;this.keys.left.isDown?(s=-1,t.sprite.flipX=!0,t.facing="left"):this.keys.right.isDown&&(s=1,t.sprite.flipX=!1,t.facing="right");const i=e.Input.Keyboard.JustDown(this.keys.up);let o=new n(t,s,i);this.processor.process(o),this.sendMessage({type:"paddleMove",x:this.localPaloma.sprite.x,y:this.localPaloma.sprite.y,anim:this.localPaloma.currentAnim,facing:this.localPaloma.facing}),e.Input.Keyboard.JustDown(this.keys.attack)&&this.sendMessage({type:"attackRequest",facing:t.facing,x:t.sprite.x,y:t.sprite.y}),this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}const T={type:e.AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:1200},debug:!1}},scene:[s,u,f,g,y,S,k,v,b,x,w],backgroundColor:"#1a2a2e"};new e.Game(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBWUssRUFBY1UsRUFBcUJTLEVBQVlzQixHQUNoSjZDLGdCQUFpQixXQUdOLElBQUksT0FBWTlJLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL1BpZ2Vvbi5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvSXRlbS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvQ2h1cnJvLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9BdmVuYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGx1bWEuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0Jhc3VyYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9Db250cm9sc1NjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvU3RvcnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL09wdGlvbnNTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2JieVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvTXVsdGlwbGF5ZXJHYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdBdmVNYXJpYScsICdhc3NldHMvc291bmRzL0F2ZU1hcmlhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ0ZvbmRvJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3MgZGUgbGEgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDEwMCwgJ1B2UCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5iZ011c2ljKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdBdmVNYXJpYScsIHtcclxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljLnBsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMTgwLCAnU2VydmVyOiBDaGVja2luZy4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEganVnYXIgbG9jYWxcclxuICAgICAgICBjb25zdCBsb2NhbEJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDI1MCwgMzYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDI1MCwgMzYwLCAnTG9jYWwgMiBQbGF5ZXJzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIGxvY2FsQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGxvY2FsQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgbG9jYWxCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGxvY2FsQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vQXBhZ2FyIG3DunNpY2FcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBHYW1lU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0dhbWVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIGp1Z2FyIG9ubGluZSAobm8gZnVuY2lvbmEpXHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCAzNjAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3Qgb25saW5lQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCAzNjAsICdPbmxpbmUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBvbmxpbmVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgb25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vQXBhZ2FyIG3DunNpY2FcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBHYW1lU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0xvYmJ5U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgY3JlZGl0b3NcclxuICAgICAgICBjb25zdCBjcmVkaXRzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KDI1MCwgNTAwLCAnQ3JlZGl0cycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIGNyZWRpdHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gY3JlZGl0c0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGNyZWRpdHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBDcmVkaXRzU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0NyZWRpdHNTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBvcGNpb25lc1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA1MDAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvcHRpb25zQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IG9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBvcHRpb25zQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnT3B0aW9uc1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgY29udHJvbHNCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDQzMCwgJ0NvbnRyb2xzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIGNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGNvbnRyb2xzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgY29udHJvbHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sc0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmFuc2ljacOzbiBhIENvbnRyb2xzU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0NvbnRyb2xzU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgaGlzdG9yaWFcclxuICAgICAgICBjb25zdCBzdG9yeUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNDMwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IHN0b3J5QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA0MzAsICdTdG9yeScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBzdG9yeUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc3RvcnlCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBTdG9yeVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdTdG9yeVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZlcjogJHtkYXRhLmNvdW50fSB1c2VyKHMpIGNvbm5lY3RlZGApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmZmZmZmZmJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZlcjogRGlzY29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwZmYnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBQaWdlb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmNoYXJhY3RlciA9IGNoYXJhY3RlcjtcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuXHJcbiAgICAgICAgLy9Qcm9waWVkYWRlcyBkZSBhdGFxdWUgeSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDMwMDtcclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDYzMDtcclxuICAgICAgICB0aGlzLmF0dGFja1JhbmdlID0gNDA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tGb3JjZSA9IDIwMDtcclxuICAgICAgICB0aGlzLnN0dW5Gb3JjZSA9IDEwMDA7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQ29vbGRvd24gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrVGltZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB0aGlzLnN0dW5uZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0dW5UaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRTdHVuRHVyYXRpb24gPSAxMDAwO1xyXG4gICAgICAgIHRoaXMua25vY2tiYWNrRXhwaXJlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSAnaWRsZSc7IC8vIGlkbGUgfCB3YWxrIHwgYXR0YWNrXHJcblxyXG5cclxuICAgICAgICAvL0FzaWduYWNpw7NuIGRlIHNwcml0ZSBwYXJhIGNhZGEgcGFsb21hXHJcbiAgICAgICAgbGV0IHRleHR1cmVLZXkgPSBudWxsO1xyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09IFwicGFsb21vblwiKSB7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcInBhbG9tb25TaGVldFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyID09PSBcImRvdmVuYW5kb1wiKSB7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcImRvdmVuYW5kb1NoZWV0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBlcnNvbmFqZSBkZXNjb25vY2lkbzpcIiwgY2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgdGV4dHVyZUtleSA9IFwicGFsb21vblNoZWV0XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0bDrXNpY2FzIGRlIGxhcyBwYWxvbWFzXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCB0ZXh0dXJlS2V5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBpZ2VvbiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50ID0gKGNoYXJhY3RlciA9PT0gXCJkb3ZlbmFuZG9cIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEZsaXBYKHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0RldGVybWluYSBzaSBsYSBwYWxvbWEgcHVlZGUgYXRhY2FyXHJcbiAgICBjYW5BdHRhY2sobm93KSB7XHJcbiAgICAgICAgbm93ID0gbm93IHx8IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgcmV0dXJuIChub3cgLSB0aGlzLmxhc3RBdHRhY2tUaW1lKSA+PSB0aGlzLmF0dGFja0Nvb2xkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIC8vTWFyY2EgZWwgdGllbXBvIGRlbCDDumx0aW1vIGF0YXF1ZVxyXG4gICAgbWFya0F0dGFja2VkKG5vdykge1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFja1RpbWUgPSBub3cgfHwgdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgIH1cclxuXHJcbiAgICAvL1JlcHJvZHVjZSBsYSBhbmltYWNpw7NuIGNvcnJlY3RhIHNlZ8O6biBlbCBwZXJzb25hamUgeSBlbCBub21icmUgKGlkbGUsIHdhbGsuLi4pXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1OYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5jaGFyYWN0ZXJ9XyR7YW5pbU5hbWV9YDtcclxuXHJcbiAgICAgICAgLy9Qb3Igc2kgYWNhc28gbm8gZXhpc3RlIGxhIGFuaW1hY2nDs25cclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBBbmltYWNpw7NuIG5vIGV4aXN0ZTogJHtrZXl9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoa2V5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdGFrZUhpdChrbm9ja2JhY2tYID0gMCkge1xyXG4gICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKGtub2NrYmFja1gpO1xyXG5cclxuICAgIHRoaXMua25vY2tiYWNrRXhwaXJlID0gdGhpcy5zY2VuZS50aW1lLm5vdyArIDEyMDtcclxuXHJcbiAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTIwLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3R1bm5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc3R1bm5lZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjAwMDApO1xyXG4gICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDIwMCwgKCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5zdHVubmVkKSB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuICAgIC8vQXBsaWNhciBzdHVuXHJcbiAgICBzdHVuKGR1cmF0aW9uTXMpIHtcclxuICAgIGR1cmF0aW9uTXMgPSBkdXJhdGlvbk1zID09IG51bGwgPyB0aGlzLmRlZmF1bHRTdHVuRHVyYXRpb24gOiBkdXJhdGlvbk1zO1xyXG4gICAgaWYgKHRoaXMuc3R1bm5lZCkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuc3R1bm5lZCA9IHRydWU7XHJcbiAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4OTk5OWZmKTtcclxuXHJcbiAgICAvL0ZSRU5BUiBNT1ZJTUlFTlRPIENPTVBMRVRBTUVOVEVcclxuICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgIHRoaXMuc3ByaXRlLnNldEFjY2VsZXJhdGlvblgoMCk7XHJcblxyXG4gICAgLy9Bw7FhZGlyIGZyaWNjacOzbiBTT0xPIGR1cmFudGUgZWwgc3R1blxyXG4gICAgdGhpcy5zcHJpdGUuc2V0RGFtcGluZyh0cnVlKTtcclxuICAgIHRoaXMuc3ByaXRlLnNldERyYWdYKDkwMCk7XHJcblxyXG4gICAgdGhpcy5zdHVuVGltZW91dCA9IHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChkdXJhdGlvbk1zLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdHVubmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcblxyXG4gICAgICAgIC8vIPCflJMgUmVzdGF1cmFyIGbDrXNpY2FzIG5vcm1hbGVzXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGFtcGluZyhmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RHJhZ1goMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3R1blRpbWVvdXQgPSBudWxsO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG4gICAgLy9BbmltYWNpw7NuIGRlIGF0YXF1ZVxyXG4gICAgc3RhcnRBdHRhY2tBbmltYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcpIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5jaGFyYWN0ZXJ9X2F0dGFja2A7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoa2V5LCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2kgZXN0w6EgbWlyYW5kbyBhbCBjb250cmFyaW8sIG1hbnRlbmVyIGZsaXBcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRGbGlwWCh0aGlzLmZhY2luZyA9PT0gXCJsZWZ0XCIgPyAhdGhpcy5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgOiB0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCk7XHJcblxyXG4gICAgICAgIC8vVm9sdmVyIGEgYW5pbWFjacOzbiBub3JtYWwgdHJhcyBlbCBhdGFxdWVcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMjUwLCAoKSA9PiB7ICAgLy8gRHVyYWNpw7NuIGFwcm94aW1hZGEgZGVsIGF0YXF1ZVxyXG4gICAgICAgICAgICB0aGlzLmVuZEF0dGFja0FuaW1hdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRmluIGRlIGxhIGFuaW1hY2nDs24gZGUgYXRhcXVlXHJcbiAgICBlbmRBdHRhY2tBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS54ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihcImlkbGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oXCJ3YWxrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1Nwcml0ZSBkZWwgYXRhcXVlXHJcbiAgICBzaG93QXR0YWNrU3ByaXRlKGR1cmF0aW9uTXMgPSAyNTApIHtcclxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMuc2NlbmU7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jaGFyYWN0ZXIgPT09ICdkb3ZlbmFuZG8nID8gJ2RvdmVuYW5kb0F0dGFjaycgOiAncGFsb21vbkF0dGFjayc7XHJcblxyXG4gICAgICAgIC8vQ3JlYXIgc3ByaXRlIHZpc3VhbCBkZWwgYXRhcXVlXHJcbiAgICAgICAgY29uc3QgYXR0YWNrU3ByaXRlID0gc2NlbmUuYWRkLnNwcml0ZSh0aGlzLnNwcml0ZS54LCB0aGlzLnNwcml0ZS55LCBrZXkpO1xyXG4gICAgICAgIGF0dGFja1Nwcml0ZS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIGF0dGFja1Nwcml0ZS5zZXREZXB0aCh0aGlzLnNwcml0ZS5kZXB0aCArIDEpO1xyXG5cclxuICAgICAgICAvL0FqdXN0ZSBpbmljaWFsIHNlZ8O6biBkaXJlY2Npw7NuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuZmFjaW5nID09PSAncmlnaHQnID8gMjAgOiAtMjA7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnggKz0gb2Zmc2V0WDtcclxuXHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldEZsaXBYKHRoaXMuZmFjaW5nID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICAvL0V2ZW50byBwYXJhIHNlZ3VpciBhIGxhIHBhbG9tYVxyXG4gICAgICAgIGNvbnN0IGZvbGxvd0V2ZW50ID0gc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAxNixcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGF0dGFja1Nwcml0ZS54ID0gdGhpcy5zcHJpdGUueCArIG9mZnNldFg7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tTcHJpdGUueSA9IHRoaXMuc3ByaXRlLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9EZXN0cnVpciBlbCBzcHJpdGUgeSBkZXRlbmVyIHNlZ3VpbWllbnRvIGRlc3B1w6lzIGRlIGR1cmF0aW9uXHJcbiAgICAgICAgc2NlbmUudGltZS5kZWxheWVkQ2FsbChkdXJhdGlvbk1zLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvbGxvd0V2ZW50LnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIGF0dGFja1Nwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Bw7FhZGlyIHB1bnR1YWNpw7NuXHJcbiAgICBhZGRTY29yZSh2YWx1ZSkge1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlICs9IHZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IHJlY29nacOzIHVuIENodXJybyDihpIgc2NvcmU6ICR7dGhpcy5zY29yZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FwbGljYXIgcG93ZXItdXBcclxuICAgIGFwcGx5TW9kaWZpZXIocHJvcGVydHksIGFtb3VudCwgZHVyYXRpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYExhIHByb3BpZWRhZCAke3Byb3BlcnR5fSBubyBleGlzdGUgZW4gbGEgcGFsb21hLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzW3Byb3BlcnR5XSArPSBhbW91bnQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiBkdXJhdGlvbixcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldIC09IGFtb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEdhbWVTY2VuZShnYW1lU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlUGlnZW9uQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBpZ2VvbiwgbW92ZVggPSAwLCBqdW1wID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uID0gcGlnZW9uO1xyXG4gICAgICAgIHRoaXMubW92ZVggPSBtb3ZlWDtcclxuICAgICAgICB0aGlzLmp1bXAgPSBqdW1wO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgY29uc3QgcGlnZW9uID0gdGhpcy5waWdlb247XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gcGlnZW9uLnNwcml0ZTtcclxuXHJcbiAgICAgICAgLy9TaSBlc3TDoSBzdHVuYWRvIG5vIHBlcm1pdGUgbW92ZXJzZSBuaSByZXByb2R1Y2lyIGNhbWluYXRhXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5zdHVubmVkKSB7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCdpZGxlJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRmxpcCBzZWfDum4gbW92aW1pZW50bywgdGVuaWVuZG8gZW4gY3VlbnRhIHNwcml0ZXMgaW52ZXJ0aWRvc1xyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYID4gMCkge1xyXG4gICAgICAgICAgICBwaWdlb24uZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW92ZVggPCAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tb3ZlWCAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkRmxpcCA9IHBpZ2Vvbi5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgPyAodGhpcy5tb3ZlWCA+IDApIDogKHRoaXMubW92ZVggPCAwKTtcclxuICAgICAgICAgICAgc3ByaXRlLnNldEZsaXBYKGRlc2lyZWRGbGlwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVmVsb2NpZGFkIGhvcml6b250YWxcclxuICAgICAgICBzcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVggKiBwaWdlb24uc3BlZWQpO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgYW5pbWFjacOzbiBjb3JyZWN0YVxyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCd3YWxrJyk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5jdXJyZW50QW5pbSA9ICd3YWxrJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwaWdlb24ucGxheUFuaW1hdGlvbignaWRsZScpO1xyXG4gICAgICAgICAgICBwaWdlb24uY3VycmVudEFuaW0gPSAnaWRsZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1NhbHRhciDDum5pY2FtZW50ZSBzaSBlc3TDoSBlbiBlbCBzdWVsb1xyXG4gICAgICAgIGlmICh0aGlzLmp1bXApIHtcclxuICAgICAgICAgICAgY29uc3QgYm9keSA9IHNwcml0ZS5ib2R5O1xyXG4gICAgICAgICAgICBjb25zdCBvbkdyb3VuZCA9IGJvZHkgJiYgKHR5cGVvZiBib2R5Lm9uRmxvb3IgPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgID8gYm9keS5vbkZsb29yKClcclxuICAgICAgICAgICAgICAgIDogKChib2R5LmJsb2NrZWQgJiYgYm9keS5ibG9ja2VkLmRvd24pIHx8IChib2R5LnRvdWNoaW5nICYmIGJvZHkudG91Y2hpbmcuZG93bikpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvbkdyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgc3ByaXRlLnNldFZlbG9jaXR5WSgtcGlnZW9uLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtDb21tYW5kfSBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGdhbWVTY2VuZSwgaXNQYXVzZWQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lLnNldFBhdXNlU3RhdGUodGhpcy5pc1BhdXNlZCk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQXR0YWNrUGlnZW9uQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGlnZW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBpZ2VvbiA9IHBpZ2VvbjtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5waWdlb24uc2NlbmU7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24geSBmZWVkYmFjayAoZWwgc2Vydmlkb3IgeWEgdmFsaWTDsylcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5jdXJyZW50QW5pbSA9ICdhdHRhY2snO1xyXG4gICAgICAgIHRoaXMucGlnZW9uLnN0YXJ0QXR0YWNrQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5waWdlb24uc2hvd0F0dGFja1Nwcml0ZSgyNTApO1xyXG4gICAgICAgIHNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb0F0YXF1ZScsIHsgdm9sdW1lOiAwLjcgfSk7XHJcblxyXG4gICAgICAgIC8vIERpcmVjY2nDs24gZGVsIGF0YXF1ZVxyXG4gICAgICAgIGNvbnN0IGRpciA9IHRoaXMucGlnZW9uLmZhY2luZyA9PT0gJ3JpZ2h0JyA/IDEgOiAtMTtcclxuICAgICAgICBjb25zdCB4ID0gdGhpcy5waWdlb24uc3ByaXRlLnggKyBkaXIgKiB0aGlzLnBpZ2Vvbi5hdHRhY2tSYW5nZTtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5waWdlb24uc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIC8vIEhpdGJveCB0ZW1wb3JhbFxyXG4gICAgICAgIGNvbnN0IGhpdGJveCA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBudWxsKTtcclxuICAgICAgICBoaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgaGl0Ym94LmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICBoaXRib3guYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgaGl0Ym94LnNldFNpemUodGhpcy5waWdlb24uYXR0YWNrUmFuZ2UsIHRoaXMucGlnZW9uLmJhc2VIZWlnaHQgKiAwLjYpO1xyXG5cclxuICAgICAgICBjb25zdCBvdmVybGFwID0gc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgaGl0Ym94LFxyXG4gICAgICAgICAgICBzY2VuZS5wbGF5ZXJTcHJpdGVzLFxyXG4gICAgICAgICAgICAoaGIsIHRhcmdldFNwcml0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFNwcml0ZSA9PT0gdGhpcy5waWdlb24uc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGlnZW9uID0gdGFyZ2V0U3ByaXRlLnBpZ2VvbjtcclxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0UGlnZW9uKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0UGlnZW9uLmlkID09PSB0aGlzLnBpZ2Vvbi5pZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGtub2NrID0gdGhpcy5waWdlb24uYXR0YWNrRm9yY2UgKiBkaXI7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRQaWdlb24uc3R1bih0aGlzLnBpZ2Vvbi5zdHVuRm9yY2UpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0UGlnZW9uLnRha2VIaXQoa25vY2spO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzY2VuZS5waHlzaWNzPy53b3JsZCAmJiBvdmVybGFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUucGh5c2ljcy53b3JsZC5yZW1vdmVDb2xsaWRlcihvdmVybGFwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTIwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzY2VuZS5waHlzaWNzPy53b3JsZCAmJiBvdmVybGFwKSB7XHJcbiAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzLndvcmxkLnJlbW92ZUNvbGxpZGVyKG92ZXJsYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGhpdGJveD8uZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBJdGVtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSwgc3ByaXRlKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBzcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERpc3BsYXlTaXplKDQwLCA0MCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5leHBpcmVUaW1lciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy9GdW5jacOzbiBnZW7DqXJpY2EgcGFyYSBhcGxpY2FyIGVsIGVmZWN0byBkZWwgw610ZW1cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihcImFwcGx5RWZmZWN0KCkgbm8gaW1wbGVtZW50YWRvIGVuIGVsIGl0ZW1cIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9DcmVhciB5IG1vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXAgZGViYWpvIGRlbCB0ZXh0byBkZSBwdW50dWFjacOzblxyXG4gICAgc2hvd0l0ZW1JY29uKHBpZ2VvbiwgaWNvbktleSwgZHVyYXRpb24pIHtcclxuXHJcbiAgICAgICAgLy9MaW1waWFyIGN1YWxxdWllciBpY29ubyBhbnRlcmlvciBkZWwgcGlnZW9uXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25UaW1lcikge1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb25hciBlbCBpY29ubyByZWxhdGl2byBhbCB0ZXh0byBkZSBwdW50dWFjacOzblxyXG4gICAgICAgIGxldCBpY29uWCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGljb25ZID0gODU7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuc2NvcmVUZXh0UDEgJiYgdGhpcy5zY2VuZS5zY29yZVRleHRQMikge1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnID8gdGhpcy5zY2VuZS5zY29yZVRleHRQMS54ICsgMjUgOiB0aGlzLnNjZW5lLnNjb3JlVGV4dFAyLnggKyAxNzU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9GYWxsYmFjayBhIGNvb3JkZW5hZGFzIGNvbm9jaWRhc1xyXG4gICAgICAgICAgICBpY29uWCA9IHBpZ2Vvbi5pZCA9PT0gJ3BsYXllcjEnID8gNDAgOiA4NTA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IHRoaXMuc2NlbmUuYWRkLmltYWdlKGljb25YLCBpY29uWSwgaWNvbktleSk7XHJcbiAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuc2V0RGlzcGxheVNpemUoNTAsIDUwKTtcclxuXHJcbiAgICAgICAgLy9HdWFyZGFyIHVuIHRpbWVyIGVuIGVsIHBpZ2VvbiBwYXJhIGVsaW1pbmFyIGVsIGljb25vIGFsIGV4cGlyYXJcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblRpbWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtJdGVtfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgQ2h1cnJvIGV4dGVuZHMgSXRlbSB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksJ2NodXJyb1NoZWV0Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGxheSgnY2h1cnJvX2FuaW0nKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUVmZmVjdChwaWdlb24pe1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheSgnU29uaWRvQ2h1cnJvJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBpZ2Vvbi5hZGRTY29yZSgxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgQXZlbmEgZXh0ZW5kcyBJdGVtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAnYXZlbmEnKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUVmZmVjdChwaWdlb24pIHtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yY2VCb29zdCA9IDMwMDtcclxuICAgICAgICBjb25zdCBzdHVuQm9vc3QgPSAxMDAwO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwMDtcclxuXHJcbiAgICAgICAgLy9SZXByb2R1Y2lyIHNvbmlkbyBkZSByZWNvZ2lkYSBkZSBsYSBhdmVuYVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheSgnU29uaWRvQXZlbmEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cFxyXG4gICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25BdmVuYScsIGR1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgLy9BcGxpY2FyIHBvdGVuY2lhIGVsZXZhZGFcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignYXR0YWNrRm9yY2UnLCBmb3JjZUJvb3N0LCBkdXJhdGlvbik7XHJcbiAgICAgICAgcGlnZW9uLmFwcGx5TW9kaWZpZXIoJ3N0dW5Gb3JjZScsIHN0dW5Cb29zdCwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgUGx1bWEgZXh0ZW5kcyBJdGVtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAncGx1bWEnKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUVmZmVjdChwaWdlb24pIHtcclxuXHJcbiAgICAgICAgY29uc3QgaW5jcmVhc2UgPSAyMDA7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA1MDAwO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgc29uaWRvIGRlIHJlY29naWRhIGRlIGxhIHBsdW1hXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9QbHVtYScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwXHJcbiAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvblBsdW1hJywgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAvL0FwbGljYXIgYXVtZW50byBkZSB2ZWxvY2lkYWRcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCBpbmNyZWFzZSwgZHVyYXRpb24pO1xyXG5cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9JdGVtLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhc3VyYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdiYXN1cmEnKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseUVmZmVjdChwaWdlb24pIHtcclxuXHJcbiAgICAgICAgY29uc3QgZGVjcmVhc2UgPSAxMDA7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA1MDAwO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgc29uaWRvIGRlIHJlY29naWRhIGRlIGxhIGJhc3VyYVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheSgnU29uaWRvQmFzdXJhJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL01vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXBcclxuICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQmFzdXJhJywgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAvL0FwbGljYXIgcmVkdWNjacOzbiBkZSB2ZWxvY2lkYWRcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAtZGVjcmVhc2UsIGR1cmF0aW9uKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGlnZW9uIH0gZnJvbSAnLi4vZW50aXRpZXMvUGlnZW9uLmpzJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL2NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMnO1xyXG5pbXBvcnQgeyBNb3ZlUGlnZW9uQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL01vdmVQaWdlb25Db21tYW5kLmpzJztcclxuaW1wb3J0IHsgUGF1c2VDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvUGF1c2VDb21tYW5kLmpzJztcclxuaW1wb3J0IHsgQXR0YWNrUGlnZW9uQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL0F0dGFja1BpZ2VvbkNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBDaHVycm8gfSBmcm9tICcuLi9lbnRpdGllcy9DaHVycm8uanMnO1xyXG5pbXBvcnQgeyBBdmVuYSB9IGZyb20gJy4uL2VudGl0aWVzL0F2ZW5hLmpzJztcclxuaW1wb3J0IHsgUGx1bWEgfSBmcm9tICcuLi9lbnRpdGllcy9QbHVtYS5qcyc7XHJcbmltcG9ydCB7IEJhc3VyYSB9IGZyb20gJy4uL2VudGl0aWVzL0Jhc3VyYS5qcyc7XHJcblxyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXNjV2FzRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBvd2VyVXAgPSBudWxsO1xyXG5cclxuICAgICAgICAvL1Bvc2ljaW9uZXMgZGUgYXBhcmljacOzbiBkZSBvYmpldG9zIHkgY2h1cnJvc1xyXG4gICAgICAgIHRoaXMuaXRlbVNwYXduUG9zaXRpb25zID0gW1xyXG4gICAgICAgICAgICB7IHg6IDU2MCwgeTogNDUgfSxcclxuICAgICAgICAgICAgeyB4OiA0MTUsIHk6IDIwMCB9LFxyXG4gICAgICAgICAgICB7IHg6IDc5MCwgeTogMTE1IH0sXHJcbiAgICAgICAgICAgIHsgeDogNzkwLCB5OiAyODAgfSxcclxuICAgICAgICAgICAgeyB4OiAxMjYsIHk6IDExNSB9LFxyXG4gICAgICAgICAgICB7IHg6IDEyNiwgeTogMjgwIH0sXHJcbiAgICAgICAgICAgIHsgeDogNTYwLCB5OiA0NTUgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcHMgPSBbXHJcbiAgICAgICAgICAgICdhdmVuYScsXHJcbiAgICAgICAgICAgICdiYXN1cmEnLFxyXG4gICAgICAgICAgICAncGx1bWEnXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvL1Nwcml0ZXMgZSBpbcOhZ2VuZXMgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL3Nwcml0ZXMvYmFja2dyb3VuZC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb24nLCAnYXNzZXRzL3Nwcml0ZXMvcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kbycsICdhc3NldHMvc3ByaXRlcy9kb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaHVycm8nLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2F2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0F2ZW5hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvUGx1bWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvQmFzdXJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb19hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uQXR0YWNrJywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvblBsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fZmFzdC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25CYXN1cmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zbG93LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkF2ZW5hJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc3Ryb25nLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9wJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fUGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fZCcsICdhc3NldHMvc3ByaXRlcy9JY29uX0RvdmVuYW5kby5wbmcnKTtcclxuXHJcbiAgICAgICAgLy9Nw7pzaWNhIHkgc29uaWRvc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTnVtYicsICdhc3NldHMvc291bmRzL051bWIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9QbHVtYScsICdhc3NldHMvc291bmRzL3Nvbmlkb1BsdW1hLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQ2h1cnJvJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQ2h1cnJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQmFzdXJhJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQmFzdXJhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQXRhcXVlJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQXRhcXVlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQXZlbmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BbHBpc3RlLm1wMycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25TaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGsucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdkb3ZlbmFuZG9TaGVldCcsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2NodXJyb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0NodXJybyBKRVItc2hlZXQucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAyNSxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdwYWxvbW9uQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl93YWxrX25vV2luZy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrX25vV2luZy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uTG9zdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdiYWNrZ3JvdW5kJyk7XHJcblxyXG4gICAgICAgIC8vTXVzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ051bWInLCB7XHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnBsYXkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF0Zm9ybXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5waWdlb25JbmRpY2F0b3JzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX2QnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX3AnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9BbmltYWNpb25lcyBkZSBsb3Mgc3ByaXRlc2hlZXRzXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFt7IGtleTogJ3BhbG9tb25TaGVldCcsIGZyYW1lOiAwIH1dLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3BhbG9tb25TaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFt7IGtleTogJ2RvdmVuYW5kb1NoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb193YWxrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdkb3ZlbmFuZG9TaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2h1cnJvX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NodXJyb1NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX2F0dGFjaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vbkF0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdkb3ZlbmFuZG9BdHRhY2tTaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSwgLy8gYWp1c3RhIGVuZCBzaSBoYXkgbcOhcyBmcmFtZXNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL1B1bnR1YWNpb25lXHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMSA9IHRoaXMuYWRkLnRleHQoMTAsIDIwLCAnRG92ZW5hbmRvOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyID0gdGhpcy5hZGQudGV4dCg3NTAsIDIwLCAnUGFsb23Ds246IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyU3ByaXRlcyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwaWdlb24gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllclNwcml0ZXMuYWRkKHBpZ2Vvbi5zcHJpdGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NvbGlzaW9uZXMgZW50cmUgcGFsb21hcyB5IHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxhdGZvcm1zKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJTcHJpdGVzLCB0aGlzLnBsYXllclNwcml0ZXMpO1xyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG5cclxuICAgICAgICAvL0NhZGEgNSBzZWd1bmRvcyBpbnRlbnRhciBnZW5lcmFyIHVuIGNodXJyb1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2h1cnJvID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGF3bkl0ZW0oXCJjaHVycm9cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9DYWRhIDcgc2VndW5kb3MgaW50ZW50YXIgZ2VuZXJhciB1biBjaHVycm9cclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogNzAwMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbShQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKHRoaXMucG93ZXJVcHMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMuc2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5zaHV0ZG93biwgdGhpcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNyZWF0ZVBsYXRmb3JtcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgYXJyaWJhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDU0MCwgODAsIG51bGwpLnNldERpc3BsYXlTaXplKDIyMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYSBwZXF1ZcOxb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzMTAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGVuIG1lZGlvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDQxNSwgMjM3LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpbyBwZXF1ZcOxb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NTAsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1N1ZWxvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDQ4MCwgNTEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg5NjAsIDYwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0NhbWlzZXRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDY0MCwgMzYwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg5MCwgNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QYW50YWxvbmVzXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDM0NSwgMzY1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMDAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vTMOtbWl0ZSBpenF1aWVyZG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzMsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vTMOtbWl0ZSBkZXJlY2hvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDkyNywgNDMwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg3MCwgMTIwMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9BY2VyYSBpenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODksIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9BY2VyYSBkZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg3MCwgNDc1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMDAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgZGVyZWNoYSBzdXBlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4MzIsIDE0NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgaW5mZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAzMTMsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBpenF1aWVyZGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMTI2LCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBpenF1aWVyZGEgaW5mZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMTI2LCAzMTMsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL0NvbmZpZ3VyYWNpw7NuIGRlIHBhbG9tYXMgeSBjb250cm9sZXNcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBsZWZ0UGlnZW9uID0gbmV3IFBpZ2Vvbih0aGlzLCAncGxheWVyMScsIDE1MCwgNDM1LCAnZG92ZW5hbmRvJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRQaWdlb24gPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIyJywgODAwLCA0MzUsICdwYWxvbW9uJyk7XHJcblxyXG4gICAgICAgIHJpZ2h0UGlnZW9uLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgcmlnaHRQaWdlb24uZmFjaW5nID0gJ2xlZnQnO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdFBpZ2Vvbik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0UGlnZW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0YnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnU0hJRlQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmF0dGFja0tleV0pLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vR2VuZXJhciB1biBvYmpldG8gZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgZGlzcG9uaWJsZVxyXG4gICAgc3Bhd25JdGVtKHR5cGUpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlZk5hbWUgPSBudWxsO1xyXG4gICAgICAgIGxldCBJdGVtQ2xhc3MgPSBudWxsO1xyXG5cclxuICAgICAgICAvL0RlY2lkaXIgcXXDqSBjbGFzZSBpbnN0YW5jaWFyIHkgcXXDqSByZWZlcmVuY2lhIHVzYXJcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImNodXJyb1wiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwiY2h1cnJvXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBDaHVycm87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmVuYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQXZlbmE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJwbHVtYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gUGx1bWE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJiYXN1cmFcIjpcclxuICAgICAgICAgICAgICAgIHJlZk5hbWUgPSBcInBvd2VyVXBcIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IEJhc3VyYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRpcG8gZGVzY29ub2NpZG86XCIsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlUG9zaXRpb25zID0gdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMuZmlsdGVyKHBvcyA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL0V2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IGNodXJyb1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaHVycm8gJiYgdGhpcy5jaHVycm8uc3ByaXRlLnggPT09IHBvcy54ICYmIHRoaXMuY2h1cnJvLnNwcml0ZS55ID09PSBwb3MueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFdml0YXIgcG9zaWNpw7NuIGRvbmRlIGhheSBwb3dlci11cFxyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwICYmIHRoaXMucG93ZXJVcC5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5wb3dlclVwLnNwcml0ZS55ID09PSBwb3MueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9FbGVnaXIgdW5hIHBvc2ljacOzbiBhbCBhemFyXHJcbiAgICAgICAgY29uc3QgcG9zID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShhdmFpbGFibGVQb3NpdGlvbnMpO1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1DbGFzcyh0aGlzLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgICAgIHRoaXNbcmVmTmFtZV0gPSAoaXRlbSk7XHJcblxyXG4gICAgICAgIC8vQWN0aXZhciBvdmVybGFwIGNvbiBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwaWdlb24gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgICAgICBwaWdlb24uc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgaXRlbS5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSXRlbVBpY2t1cCxcclxuICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmIChyZWZOYW1lID09PSBcInBvd2VyVXBcIikge1xyXG5cclxuICAgICAgICAgICAgLy9UaWVtcG8gZGUgdmlkYSBkZWwgcG93ZXItdXAgXHJcbiAgICAgICAgICAgIGNvbnN0IGxpZmV0aW1lID0gOTAwMDtcclxuXHJcbiAgICAgICAgICAgIC8vR3VhcmRhciBlbCB0aW1lciBlbiBlbCBwcm9waW8gb2JqZXRvIHBhcmEgcG9kZXIgY2FuY2VsYXJsbyBzaSBoYWNlIGZhbHRhXHJcbiAgICAgICAgICAgIGl0ZW0uZXhwaXJlVGltZXIgPSB0aGlzLnRpbWUuZGVsYXllZENhbGwobGlmZXRpbWUsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwID09PSBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9NYW5lam8gZGUgcmVjb2dpZGEgZGUgb2JqZXRvc1xyXG4gICAgb25JdGVtUGlja3VwKHBpZ2VvblNwcml0ZSwgaXRlbVNwcml0ZSkge1xyXG5cclxuICAgICAgICBsZXQgcGxheWVySWQgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGlnZW9uLnNwcml0ZSA9PT0gcGlnZW9uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZCA9IGlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcGxheWVySWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgcGlnZW9uID0gdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZCk7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbUJ5U3ByaXRlKGl0ZW1TcHJpdGUpO1xyXG5cclxuICAgICAgICBpdGVtLmFwcGx5RWZmZWN0KHBpZ2Vvbik7XHJcblxyXG4gICAgICAgIC8vQWN0dWFsaXphciBwdW50dWFjaW9uZXNcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxLnNldFRleHQoJ0RvdmVuYW5kbzogJyArIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zY29yZSk7XHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMi5zZXRUZXh0KCdQYWxvbcOzbjogJyArIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zY29yZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsZXRlSXRlbShpdGVtKTtcclxuICAgICAgICBpZiAocGlnZW9uLnNjb3JlID49IDUpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIEVuZEdhbWVTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnRW5kR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogeyB3aW5uZXJJZDogcGxheWVySWQgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9EZXZ1ZWx2ZSBlbCBvYmpldG8gYWwgcXVlIHBlcnRlbmVjZSB1biBzcHJpdGVcclxuICAgIGdldEl0ZW1CeVNwcml0ZShzcHJpdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5jaHVycm8gJiYgdGhpcy5jaHVycm8uc3ByaXRlID09PSBzcHJpdGUpIHJldHVybiB0aGlzLmNodXJybztcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwICYmIHRoaXMucG93ZXJVcC5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMucG93ZXJVcDtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL0VsaW1pbmEgZGUgbGEgZXNjZW5hIHVuIG9iamV0byBkYWRvXHJcbiAgICBkZWxldGVJdGVtKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5jaHVycm8pIHtcclxuICAgICAgICAgICAgdGhpcy5jaHVycm8uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNodXJybyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5wb3dlclVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vRXN0YWJsZWNlIGVsIGVzdGFkbyBkZSBwYXVzYSBkZWwganVlZ29cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgIG5ldyBQYXVzZUNvbW1hbmQodGhpcywgbmV3UGF1c2VkU3RhdGUpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBpZiAoIXBpZ2VvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0w6Egc3R1bmFkYSBubyBwdWVkZSBoYWNlciBuYWRhOiBkZXRlbmVyIG1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vUGVybWl0aXIga25vY2tiYWNrIGR1cmFudGUgdW4gY29ydG8gcGVyaW9kbyB0cmFzIHJlY2liaXIgZWwgZ29scGVcclxuICAgICAgICAgICAgICAgIGlmICghcGlnZW9uLmtub2NrYmFja0V4cGlyZSB8fCB0aGlzLnRpbWUubm93ID4gcGlnZW9uLmtub2NrYmFja0V4cGlyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bGFyIG1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBsZXQgbW92ZVggPSAwO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikgbW92ZVggPSAtMTtcclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIG1vdmVYID0gMTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGp1bXAgPSBtYXBwaW5nLnVwS2V5T2JqLmlzRG93bjtcclxuXHJcbiAgICAgICAgICAgIC8vRW52aWFyIGNvbWFuZG8gY29uIG1vdmltaWVudG8gaG9yaXpvbnRhbCB5IHNhbHRvXHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlUGlnZW9uQ29tbWFuZChwaWdlb24sIG1vdmVYLCBqdW1wKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcblxyXG4gICAgICAgICAgICAvL0F0YXF1ZVxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5hdHRhY2tLZXlPYmogJiYgbWFwcGluZy5hdHRhY2tLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2tDbWQgPSBuZXcgQXR0YWNrUGlnZW9uQ29tbWFuZChwaWdlb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhhdHRhY2tDbWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IHRoaXMucGlnZW9uSW5kaWNhdG9yc1tpZF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBwaWdlb24uc3ByaXRlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUueSA8IC01KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0YSBmdWVyYSBwb3IgYXJyaWJhIG11ZXN0cmEgZWwgaW5kaWNhZG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnggPSBzcHJpdGUueDtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IueSA9IDUwO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TaSB2dWVsdmUgYSBlbnRyYXIgc2Ugb2N1bHRhIGVsIGljb25vXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIC8vRWxpbWluYXIgbcO6c2ljYSBhbCBjZXJyYXIgbGEgZXNjZW5hIHkgY2VycnJhciBsaXN0ZW5lcnNcclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vRm9uZG8gc2VtaXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0ODAsIDI3MCwgOTYwLCA1NDAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnR2FtZSBQYXVzZWQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90b24gcGFyYSByZWFudWRhciBlbCBqdWVnb1xyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNDMwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDI1MCwgNDMwLCAnUmVzdW1lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgcmVzdW1lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJlc3VtZUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHJlc3VtZUJ0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IHJlc3VtZUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90b24gcGFyYSB2b2x2ZXIgYWwgbWVudSBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtZW51QnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgNDMwLCAnUmV0dXJuIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIE1lbnVTY2VuZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3MgeSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnZm9uZG9QdlAnKS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdDcmVkaXRzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTUwLCAnR2FtZSBkZXZlbG9wZWQgYnkgR0IzRCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyNTAsICdBcnRpc3Q6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyOTAsICdIdWdvIENoZWNhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDM1MCwgJ1Byb2dyYW1tZXJzOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzkwLCAnQWxlamFuZHJvIE1hcsOtbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0MjUsICdMdWNhcyBMb3JlbnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQ2MCwgJ01pZ3VlbCBBbWFkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDUxMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA1MTAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NvbnRyb2xzU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdmb25kbycpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdDb250cm9scycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzIEp1Z2Fkb3IgMVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNTAsICdQbGF5ZXIgMScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgJ01vdmU6IFcgLSBBIC0gRCAoVXAsIExlZnQsIFJpZ2h0KScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjQwLCAnQXR0YWNrOiBGJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzMDAsICdQYXVzZTogRXNjJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlcyBKdWdhZG9yIDJcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzYwLCAnUGxheWVyIDIgKExvY2FsKScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQxMCwgJ01vdmU6IOKGkSAtIOKGkCAtIOKGkiAoVXAsIExlZnQsIFJpZ2h0KScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQXR0YWNrOiBTaGlmdCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA1MDAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy9Bc2VndXJhciBxdWUgbGEgY8OhbWFyYSBlc3TDoSB0b3RhbG1lbnRlIHZpc2libGUgYW50ZXMgZGUgZW1wZXphciBlbCBmYWRlLW91dFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTd2VldFZpY3RvcnknLCAnYXNzZXRzL3NvdW5kcy9Td2VldFZpY3RvcnkubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdEb3ZlbmFuZG9WaWN0b3J5JywgJ2Fzc2V0cy9zcHJpdGVzL3BhbnRhbGxhIHZpY3RvcmlhIGRvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BhbG9tb25WaWN0b3J5JywgJ2Fzc2V0cy9zcHJpdGVzL3BhbnRhbGxhIHZpY3RvcmlhIHBhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICAvLyBJZGVudGlmaWNhciBnYW5hZG9yIHkganVnYWRvciBsb2NhbFxyXG4gICAgICAgIGNvbnN0IHdpbm5lcklzUDEgPSBkYXRhLndpbm5lcklkID09PSAncGxheWVyMSc7XHJcbiAgICAgICAgY29uc3QgcGxheWVySXNQMSA9IGRhdGEubG9jYWxQbGF5ZXJJZCA9PT0gJ3BsYXllcjEnO1xyXG4gICAgICAgIGNvbnN0IHBsYXllcldvbiA9IHdpbm5lcklzUDEgPT09IHBsYXllcklzUDE7XHJcblxyXG4gICAgICAgIC8vIEltYWdlbiBkZSB2aWN0b3JpYSBzZWfDum4gZWwgZ2FuYWRvclxyXG4gICAgICAgIGNvbnN0IGJnS2V5ID0gd2lubmVySXNQMSA/ICdEb3ZlbmFuZG9WaWN0b3J5JyA6ICdQYWxvbW9uVmljdG9yeSc7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsIGJnS2V5KTtcclxuXHJcbiAgICAgICAgLy8gRmFkZS1pbiBkZSBjw6FtYXJhXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IG1haW5UZXh0ID0gcGxheWVyV29uID8gJ1NVUFJFTUUgVklDVE9SWSEnIDogJ0NSVVNISU5HIERFRkVBVCc7XHJcbiAgICAgICAgY29uc3QgbWFpbkNvbG9yID0gcGxheWVyV29uID8gJyNmZmZmZmZmZicgOiAnI2ZmZmZmZmZmJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCBtYWluVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzEwNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6IG1haW5Db2xvcixcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gc2VjdW5kYXJpb1xyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPSB3aW5uZXJJc1AxID8gJ0RvdmVuYW5kbyBXaW5zIScgOiAnUGFsb23Ds24gV2lucyEnO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzMDAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNw7pzaWNhIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ1N3ZWV0VmljdG9yeScsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNDYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDQ2MCwgJ1JldHVybiB0byBtZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMCk7XHJcblxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uU2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdG9yeVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ1N0b3J5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBnZW5lcmFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDEyMCwgJ0luIHNvbWUgbmFtZWxlc3MgY2l0eSwgb24gYSBkYW1wIGFuZCBtdXJreSBuaWdodCwgdHdvIHBpZ2VvbnMgd2FuZGVyZWQgdGhyb3VnaCB0aGUgYWxsZXlzIGluIHNlYXJjaCBvZiBzb21ldGhpbmcgdG8gY2FsbSB0aGVpciBodW5nZXIuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA4MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNzAsICdUaGUgYWxsdXJpbmcgZnJhZ3JhbmNlIG9mIGEgZmV3IGZvcmdvdHRlbiBjaHVycm9zIGF3YWtlbnMgaW4gdGhlbSBhIGZpZXJjZSBibGVuZCBvZiBzdXJ2aXZhbCBhbmQgZ3JlZWQsIGFuZCBiZWZvcmUgbG9uZyB0aGUgc2l0dWF0aW9uIGVydXB0cyBpbnRvIG9wZW4gd2FyZmFyZS4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIzMCwgJ1Rob3VnaCB0aGVyZSBhcmUgbmVpdGhlciBoZXJvZXMgbm9yIHZpbGxhaW5zLCBlYWNoIGZpcm1seSBiZWxpZXZlcyB0aGF0IHRoZSBjaHVycm8gaXMgaGVycyBieSBiaXJ0aHJpZ2h0LiBNb3JhbGl0eSBmYWx0ZXJzLCBmcmllbmRzaGlwIGZhZGVz4oCmIHRoZXJlIGFyZSBvbmx5IGNodXJyb3MgbGVmdC4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBEb3ZlbmFuZG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIwMCwgMjcwLCAnRG92ZW5hbmRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgNDMwLCAnQSBjdW5uaW5nLCBzbGlwcGVyeSBiaXJkLCBza2lsbGVkIGluIHRoZSBhcnQgb2Ygc3RlYWx0aC4gSGlzIGd1aWRpbmcgcHJpbmNpcGxlOiBcIkFsbCBjaHVycm9zIGJlbG9uZyB0byBzb21lb25l4oCmIGFuZCB0aGF0IHNvbWVvbmUgaXMgbWUuXCInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjAwLCAzNDAsICdkb3ZlbmFuZG8nKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgxLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIFBhbG9tb25cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDc3MCwgMjcwLCAnUGFsb23Ds24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCA0MzAsICdBIHRvdWdoIHBpZ2VvbiB3aXRoIGEgZGFyayBoaXN0b3J5LiBIZSBvbmNlIGJlbG9uZ2VkIHRvIHRoZSBhdmlhbiBtYWZpYSBhbmQgaXMgd2VsbCBhY3F1YWludGVkIHdpdGggdGhlIHBlcmlscyBvZiB0aGUgc3RyZWV0cyBhbmQgZ2FuZyBmaWdodHMuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA0MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc3MCwgMzQwLCAncGFsb21vbicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9iYXInLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2Jhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9idXR0b24nLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2J1dHRvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvUHZQJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI0MCwgJ1ZvbHVtZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL1Bvc2ljacOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYmFyWCA9IDQ4MDtcclxuICAgICAgICBjb25zdCBiYXJZID0gMzAwO1xyXG5cclxuICAgICAgICAvL0JhcnJhXHJcbiAgICAgICAgY29uc3QgYmFyID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9iYXInKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoMzAwLCAyMClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9idXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoNDAsIDQwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0VzdGFibGVjZXIgcG9zaWNpw7NuIGluaWNpYWwgZGVsIGJvdMOzbiBzZWfDum4gdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICBidXR0b24ueCA9IGJhclggLSAxNTAgKyAodGhpcy5zb3VuZC52b2x1bWUgKiAzMDApO1xyXG5cclxuICAgICAgICAvL0ludGVyYWN0aXZpZGFkXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBvYmosIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAob2JqICE9PSBidXR0b24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vTGltaXRhciBtb3ZpbWllbnRvIGVuIFggYSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gYmFyWCAtIDE1MDtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBiYXJYICsgMTUwO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbGVmdCwgcmlnaHQpO1xyXG5cclxuICAgICAgICAgICAgLy9Db252ZXJ0aXIgcG9zaWNpw7NuIGEgdW4gdmFsb3IgMCAtIDFcclxuICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gKGJ1dHRvbi54IC0gbGVmdCkgLyAzMDA7XHJcblxyXG4gICAgICAgICAgICAvL0FwbGljYXIgdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YS5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0ODAsIDI3MCwgOTYwLCA1NDAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgJ0NPTk5FQ1RJT04gTE9TVCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDMwMCwgJ0F0dGVtcHRpbmcgdG8gcmVjb25uZWN0Li4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3NcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCAzNTAsICdBdHRlbXB0czogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgQXR0ZW1wdGluZyB0byByZWNvbm5lY3Qke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEF0dGVtcHRzOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiByZXN0b3JlZCEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBMb2JieSBTY2VuZSAtIFdhaXRpbmcgZm9yIG11bHRpcGxheWVyIG1hdGNobWFraW5nXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2JieVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKHsga2V5OiAnTG9iYnlTY2VuZScgfSk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICB0aGlzLmxvYWQuYXVkaW8oJ0FzY2Vuc29yJywgJ2Fzc2V0cy9zb3VuZHMvQ2FuY2lvbkVzcGVyYS5tcDMnKTtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnRm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gIH1cclxuICBjcmVhdGUoKSB7XHJcbiAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgYWxwaGE6IDEsXHJcbiAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdGb25kbycpO1xyXG5cclxuICAgIGlmICghdGhpcy5iZ011c2ljKSB7XHJcbiAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdBc2NlbnNvcicsIHtcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnT25saW5lIE11bHRpcGxheWVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnQ29ubmVjdGluZyB0byBzZXJ2ZXIuLi4nLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCAzMDAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKTtcclxuXHJcbiAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuYmdNdXNpYyA9IG51bGw7XHJcbiAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdXYWl0aW5nIGZvciBvcHBvbmVudC4uLicpO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBQbGF5ZXJzIGluIHF1ZXVlOiAke2RhdGEucG9zaXRpb259LzJgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRpbmchJywgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcmUgZ2FtZSBkYXRhIGFuZCB0cmFuc2l0aW9uIHRvIG11bHRpcGxheWVyIGdhbWUgc2NlbmVcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBpZ2VvbiB9IGZyb20gJy4uL2VudGl0aWVzL1BpZ2Vvbi5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IFBhdXNlQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IEF0dGFja1BpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzJztcclxuaW1wb3J0IHsgQ2h1cnJvIH0gZnJvbSAnLi4vZW50aXRpZXMvQ2h1cnJvLmpzJztcclxuaW1wb3J0IHsgQXZlbmEgfSBmcm9tICcuLi9lbnRpdGllcy9BdmVuYS5qcyc7XHJcbmltcG9ydCB7IFBsdW1hIH0gZnJvbSAnLi4vZW50aXRpZXMvUGx1bWEuanMnO1xyXG5pbXBvcnQgeyBCYXN1cmEgfSBmcm9tICcuLi9lbnRpdGllcy9CYXN1cmEuanMnO1xyXG5cclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgICAgICAgIC8vJ3BsYXllcjEnIG8gJ3BsYXllcjInXHJcbiAgICAgICAgdGhpcy5yb2xlVGV4dCA9IG51bGw7ICAgICAvL3RleHRvIHRlbXBvcmFsIGVuIHBhbnRhbGxhIHBhcmEgc2FiZXIgcXVpZW4gZXJlc1xyXG4gICAgICAgIHRoaXMubG9jYWxQYWxvbWEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSAwO1xyXG4gICAgICAgIHRoaXMucmVtb3RlU2NvcmUgPSAwO1xyXG4gICAgICAgIC8vUGFyYSBxdWUgZGVqZSBkZSBkYXIgcG9yIGN1bG9cclxuICAgICAgICAvKiogQHR5cGUge3sgdXA6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXksIGxlZnQ6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXksIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5LCBhdHRhY2s6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXkgfX0gKi9cclxuICAgICAgICB0aGlzLmtleXM7XHJcblxyXG4gICAgICAgIHRoaXMuY2h1cnJvT3ZlcmxhcCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwT3ZlcmxhcCA9IG51bGw7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgI3JlZ2lvbiAvL1ByZWxvYWRzLCBoYWdvIHJlZ2lvbiBwYXJhIHNpbXBsaWZpY2FyIGVsIGJ1c2NhciBsYXMgY29zYXMgeSBxdWUgbm8gc2VhIHRvZG8gdGFuIGV4dGVuc29cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy9TcHJpdGVzIGUgaW3DoWdlbmVzIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9zcHJpdGVzL2JhY2tncm91bmQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2h1cnJvJywgJ2Fzc2V0cy9zcHJpdGVzL0NodXJybyBKRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhdmVuYScsICdhc3NldHMvc3ByaXRlcy9BdmVuYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL1BsdW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0Jhc3VyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kb0F0dGFjaycsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbkF0dGFjaycsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25QbHVtYScsICdhc3NldHMvc3ByaXRlcy9JY29uX2Zhc3QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc2xvdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25BdmVuYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3N0cm9uZy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fcCcsICdhc3NldHMvc3ByaXRlcy9JY29uX1BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX2QnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9Eb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdEZXNjb25leGlvbicsICdhc3NldHMvc3ByaXRlcy9kZXNjb25leGlvbi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy9Nw7pzaWNhIHkgc29uaWRvc1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnTnVtYicsICdhc3NldHMvc291bmRzL051bWIubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9QbHVtYScsICdhc3NldHMvc291bmRzL3Nvbmlkb1BsdW1hLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQ2h1cnJvJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQ2h1cnJvLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQmFzdXJhJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQmFzdXJhLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQXRhcXVlJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQXRhcXVlLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvQXZlbmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BbHBpc3RlLm1wMycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25TaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGsucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdkb3ZlbmFuZG9TaGVldCcsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2NodXJyb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0NodXJybyBKRVItc2hlZXQucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAyNSxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDI1XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdwYWxvbW9uQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl93YWxrX25vV2luZy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrX25vV2luZy5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgICNlbmRyZWdpb25cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uTG9zdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgICAgICBjb25zdCByb2xlVGV4dCA9IHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnID8gJ1lvdSBhcmUgRG92ZW5hbmRvJyA6ICdZb3UgYXJlIFBhbG9tb24nO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyMCwgcm9sZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL011c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdOdW1iJywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMua2V5cyA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5cyh7XHJcbiAgICAgICAgICAgIHVwOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVyxcclxuICAgICAgICAgICAgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEsXHJcbiAgICAgICAgICAgIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCxcclxuICAgICAgICAgICAgYXR0YWNrOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhdGZvcm1zKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5waWdlb25JbmRpY2F0b3JzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX2QnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX3AnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxID0gdGhpcy5hZGQudGV4dCgxMCwgMjAsICdEb3ZlbmFuZG86IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KDc1MCwgMjAsICdQYWxvbcOzbjogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGlnZW9uID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzLmFkZChwaWdlb24uc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Db2xpc2lvbmVzIGVudHJlIHBhbG9tYXMgeSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wbGF5ZXJTcHJpdGVzLCB0aGlzLnBsYXRmb3Jtcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF5ZXJTcHJpdGVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQbGF0Zm9ybXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg1NDAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmEgcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzEwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0MTUsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW8gcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjUwLCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9TdWVsb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0ODAsIDUxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoOTYwLCA2MCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9DYW1pc2V0YVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NDAsIDM2MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoOTAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGFudGFsb25lc1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzNDUsIDM2NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgaXpxdWllcmRvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMzLCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgZGVyZWNob1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg5MjcsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgaXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg5LCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4NzAsIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9Db25maWd1cmFjacOzbiBkZSBwYWxvbWFzIHkgY29udHJvbGVzXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIyJywgODAwLCA0MzUsICdwYWxvbW9uJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBhbG9tYSA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQYWxvbWEgPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQodGhpcy5sb2NhbFBhbG9tYS5pZCwgdGhpcy5sb2NhbFBhbG9tYSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCh0aGlzLnJlbW90ZVBhbG9tYS5pZCwgdGhpcy5yZW1vdGVQYWxvbWEpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW90ZVBhbG9tYS5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hLmZhY2luZyA9ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAncGFkZGxlVXBkYXRlJzpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLnJlbW90ZVBhbG9tYTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQb3NpY2nDs25cclxuICAgICAgICAgICAgICAgIHAuc3ByaXRlLnggPSBkYXRhLng7XHJcbiAgICAgICAgICAgICAgICBwLnNwcml0ZS55ID0gZGF0YS55O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIERpcmVjY2nDs25cclxuICAgICAgICAgICAgICAgIHAuZmFjaW5nID0gZGF0YS5mYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBwLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmFjaW5nID09PSAnbGVmdCcgPyAhcC5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgOiBwLmludmVydEZsaXBGb3JNb3ZlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBbmltYWNpw7NuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltS2V5ID0gcC5jaGFyYWN0ZXIgPT09ICdwYWxvbW9uJyA/IGBwYWxvbW9uXyR7ZGF0YS5hbmltfWAgOiBgZG92ZW5hbmRvXyR7ZGF0YS5hbmltfWA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFwLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcgfHxcclxuICAgICAgICAgICAgICAgICAgICBwLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbS5rZXkgIT09IGFuaW1LZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwLnNwcml0ZS5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdzY29yZVVwZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2NvcmVzIGZyb20gc2VydmVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsU2NvcmUgPSB0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IGRhdGEucGxheWVyMVNjb3JlIDogZGF0YS5wbGF5ZXIyU2NvcmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZVNjb3JlID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyBkYXRhLnBsYXllcjJTY29yZSA6IGRhdGEucGxheWVyMVNjb3JlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dChkYXRhLnBsYXllcjFTY29yZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDIuc2V0VGV4dChkYXRhLnBsYXllcjJTY29yZS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2F0dGFja1Jlc29sdmUnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2tlciA9IHRoaXMucGxheWVycy5nZXQoZGF0YS5hdHRhY2tlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmICghYXR0YWNrZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tlci5mYWNpbmcgPSBkYXRhLmZhY2luZztcclxuICAgICAgICAgICAgICAgIGF0dGFja2VyLnNwcml0ZS5mbGlwWCA9IGRhdGEuZmFjaW5nID09PSAnbGVmdCc7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgY21kID0gbmV3IEF0dGFja1BpZ2VvbkNvbW1hbmQoYXR0YWNrZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhjbWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1TcGF3bic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbUZyb21TZXJ2ZXIoZGF0YS5pdGVtKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnaXRlbURlc3Bhd24nOlxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbVR5cGUgPT09ICdjaHVycm8nICYmIHRoaXMuY2h1cnJvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2h1cnJvT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQucmVtb3ZlQ29sbGlkZXIodGhpcy5jaHVycm9PdmVybGFwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVycm9PdmVybGFwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVycm8uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pdGVtVHlwZSA9PT0gJ3Bvd2VyVXAnICYmIHRoaXMucG93ZXJVcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBPdmVybGFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBPdmVybGFwID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXAgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdnYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZEdhbWUoZGF0YS53aW5uZXIsIGRhdGEucGxheWVyMVNjb3JlLCBkYXRhLnBsYXllcjJTY29yZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2l0ZW1Db2xsZWN0ZWQnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwaWdlb24gPSBkYXRhLnBsYXllcklkID09PSB0aGlzLmxvY2FsUGFsb21hLmlkID8gdGhpcy5sb2NhbFBhbG9tYSA6IHRoaXMucmVtb3RlUGFsb21hO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLml0ZW1UeXBlID09PSAnY2h1cnJvJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvQ2h1cnJvJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWRkU2NvcmUoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjdHVhbGl6YXIgdGV4dG9zIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yZVRleHRQMS5zZXRUZXh0KGBEb3ZlbmFuZG86ICR7dGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyB0aGlzLmxvY2FsUGFsb21hLnNjb3JlIDogdGhpcy5yZW1vdGVQYWxvbWEuc2NvcmV9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY29yZVRleHRQMi5zZXRUZXh0KGBQYWxvbcOzbjogJHt0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJyA/IHRoaXMucmVtb3RlUGFsb21hLnNjb3JlIDogdGhpcy5sb2NhbFBhbG9tYS5zY29yZX1gKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwbGljYXIgZWZlY3RvcyBzZWfDum4gcG93ZXItdXBcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEuaXRlbVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXZlbmEnOiAvLyBtw6FzIGZ1ZXJ6YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdTb25pZG9BdmVuYScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQXZlbmEnLCA1MDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5zdHVuRm9yY2UgKz0gNTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmF0dGFja0ZvcmNlICs9IDIwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg1MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnN0dW5Gb3JjZSAtPSA1MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmF0dGFja0ZvcmNlIC09IDIwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BsdW1hJzogLy8gdmVsb2NpZGFkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnU29uaWRvUGx1bWEnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvblBsdW1hJywgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAxNTAsIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Jhc3VyYSc6IC8vIHJhbGVudGl6YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ1Nvbmlkb0Jhc3VyYScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQmFzdXJhJywgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3BlZWQnLCAtMTUwLCA1MDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubG9jYWxQYWxvbWEuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGFsb21hLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdEZXNjb25leGlvbicpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjUwLCAnT3Bwb25lbnQgRGlzY29ubmVjdGVkJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDBmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgYmFja0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNDUwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NTAsICdSZXR1cm4gdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpO1xyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpO1xyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3Bhd25JdGVtRnJvbVNlcnZlcihpdGVtRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHsgdHlwZSwgeCwgeSB9ID0gaXRlbURhdGE7XHJcblxyXG4gICAgICAgIGxldCBJdGVtQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIGxldCByZWZOYW1lID0gbnVsbDtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2NodXJybyc6IEl0ZW1DbGFzcyA9IENodXJybzsgcmVmTmFtZSA9ICdjaHVycm8nOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnYXZlbmEnOiBJdGVtQ2xhc3MgPSBBdmVuYTsgcmVmTmFtZSA9ICdwb3dlclVwJzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BsdW1hJzogSXRlbUNsYXNzID0gUGx1bWE7IHJlZk5hbWUgPSAncG93ZXJVcCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdiYXN1cmEnOiBJdGVtQ2xhc3MgPSBCYXN1cmE7IHJlZk5hbWUgPSAncG93ZXJVcCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1DbGFzcyh0aGlzLCB4LCB5KTtcclxuICAgICAgICB0aGlzW3JlZk5hbWVdID0gaXRlbTtcclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09ICdjaHVycm8nICYmIHRoaXMuY2h1cnJvT3ZlcmxhcCkge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyb092ZXJsYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyb092ZXJsYXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVmTmFtZSA9PT0gJ3Bvd2VyVXAnICYmIHRoaXMucG93ZXJVcE92ZXJsYXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwT3ZlcmxhcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcE92ZXJsYXAgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb3ZlcmxhcCDihpIgc29sbyBlbnbDrWEgYWwgc2Vydmlkb3JcclxuICAgICAgICBjb25zdCBvdmVybGFwID0gdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGFsb21hLnNwcml0ZSxcclxuICAgICAgICAgICAgaXRlbS5zcHJpdGUsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpdGVtVG91Y2gnLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogaXRlbURhdGEuaWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgIGlmIChyZWZOYW1lID09PSAnY2h1cnJvJykgdGhpcy5jaHVycm9PdmVybGFwID0gb3ZlcmxhcDtcclxuICAgICAgICBlbHNlIHRoaXMucG93ZXJVcE92ZXJsYXAgPSBvdmVybGFwO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dJdGVtSWNvbihwaWdlb24sIGljb25LZXksIGR1cmF0aW9uKSB7XHJcblxyXG4gICAgLy8gTGltcGlhciBpY29ubyBwcmV2aW9cclxuICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblNwcml0ZSkge1xyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyLnJlbW92ZSgpO1xyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpY29uWDtcclxuICAgIGNvbnN0IGljb25ZID0gODU7XHJcblxyXG4gICAgaWYgKHRoaXMuc2NvcmVUZXh0UDEgJiYgdGhpcy5zY29yZVRleHRQMikge1xyXG4gICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMSdcclxuICAgICAgICAgICAgPyB0aGlzLnNjb3JlVGV4dFAxLnggKyAyNVxyXG4gICAgICAgICAgICA6IHRoaXMuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWNvblggPSBwaWdlb24uaWQgPT09ICdwbGF5ZXIxJyA/IDQwIDogODUwO1xyXG4gICAgfVxyXG5cclxuICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoaWNvblgsIGljb25ZLCBpY29uS2V5KVxyXG4gICAgICAgIC5zZXREaXNwbGF5U2l6ZSg1MCwgNTApXHJcbiAgICAgICAgLnNldERlcHRoKDEwMDApO1xyXG5cclxuICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgIGRlbGF5OiBkdXJhdGlvbixcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICAgIC8vTWFuZWpvIGRlIHJlY29naWRhIGRlIG9iamV0b3NcclxuICAgICAgICBvbkl0ZW1QaWNrdXAocGlnZW9uU3ByaXRlLCBpdGVtU3ByaXRlKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHBsYXllcklkID0gbnVsbDtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5zcHJpdGUgPT09IHBpZ2VvblNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcklkID0gaWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICghcGxheWVySWQpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbUJ5U3ByaXRlKGl0ZW1TcHJpdGUpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGl0ZW0uYXBwbHlFZmZlY3QocGlnZW9uKTtcclxuICAgIFxyXG4gICAgICAgICAgICAvL0FjdHVhbGl6YXIgcHVudHVhY2lvbmVzXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlKTtcclxuICAgICAgICAgICAgdGhpcy5zY29yZVRleHRQMi5zZXRUZXh0KCdQYWxvbcOzbjogJyArIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zY29yZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAocGlnZW9uLnNjb3JlID49IDUpIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBFbmRHYW1lU2NlbmVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnRW5kR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB3aW5uZXJJZDogcGxheWVySWQgfSxcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgKi9cclxuXHJcbiAgICAvKlxyXG4vL0RldnVlbHZlIGVsIG9iamV0byBhbCBxdWUgcGVydGVuZWNlIHVuIHNwcml0ZVxyXG5nZXRJdGVtQnlTcHJpdGUoc3ByaXRlKSB7XHJcbiAgICBpZiAodGhpcy5jaHVycm8gJiYgdGhpcy5jaHVycm8uc3ByaXRlID09PSBzcHJpdGUpIHJldHVybiB0aGlzLmNodXJybztcclxuICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZSA9PT0gc3ByaXRlKSByZXR1cm4gdGhpcy5wb3dlclVwO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuICAgICovXHJcbiAgICAvKlxyXG5cclxuIC8vRWxpbWluYSBkZSBsYSBlc2NlbmEgdW4gb2JqZXRvIGRhZG9cclxuIGRlbGV0ZUl0ZW0oaXRlbSkge1xyXG4gICAgIGlmIChpdGVtID09PSB0aGlzLmNodXJybykge1xyXG4gICAgICAgICB0aGlzLmNodXJyby5kZXN0cm95KCk7XHJcbiAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICB9XHJcblxyXG4gICAgIGlmIChpdGVtID09PSB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICB9XHJcbiB9XHJcbiAgICAgKi9cclxuXHJcbiAgICAvL0VzdGFibGVjZSBlbCBlc3RhZG8gZGUgcGF1c2EgZGVsIGp1ZWdvXHJcbiAgICBzZXRQYXVzZVN0YXRlKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVQYXVzZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZUVuZGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhdXNlZFN0YXRlID0gIXRoaXMuaXNQYXVzZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICBuZXcgUGF1c2VDb21tYW5kKHRoaXMsIG5ld1BhdXNlZFN0YXRlKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBlbmRHYW1lKHdpbm5lcklkLCBwbGF5ZXIxU2NvcmUsIHBsYXllcjJTY29yZSkge1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5iZ011c2ljLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgIHRhcmdldDogJ0VuZEdhbWVTY2VuZScsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHdpbm5lcklkLFxyXG4gICAgICAgICAgICAgICAgbG9jYWxQbGF5ZXJJZDogdGhpcy5wbGF5ZXJSb2xlLCAvLyA8LSBlc3RlIGVzIGVsIGp1Z2Fkb3IgbG9jYWxcclxuICAgICAgICAgICAgICAgIHBsYXllcjFTY29yZSxcclxuICAgICAgICAgICAgICAgIHBsYXllcjJTY29yZSxcclxuICAgICAgICAgICAgICAgIHdzOiB0aGlzLndzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZUVuZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVzY0tleS5pc0Rvd24gJiYgIXRoaXMuZXNjV2FzRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLmxvY2FsUGFsb21hO1xyXG4gICAgICAgIGlmICghcGlnZW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vU2kgbGEgcGFsb21hIGVzdMOhIHN0dW5hZGEgbm8gcHVlZGUgaGFjZXIgbmFkYTogZGV0ZW5lciBtb3ZpbWllbnRvIGhvcml6b250YWxcclxuICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgLy9QZXJtaXRpciBrbm9ja2JhY2sgZHVyYW50ZSB1biBjb3J0byBwZXJpb2RvIHRyYXMgcmVjaWJpciBlbCBnb2xwZVxyXG4gICAgICAgICAgICBpZiAoIXBpZ2Vvbi5rbm9ja2JhY2tFeHBpcmUgfHwgdGhpcy50aW1lLm5vdyA+IHBpZ2Vvbi5rbm9ja2JhY2tFeHBpcmUpIHtcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vTW92aW1pZW50byBob3Jpem9udGFsIChBIC0gRClcclxuICAgICAgICBsZXQgbW92ZVggPSAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5rZXlzLmxlZnQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIG1vdmVYID0gLTE7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgICAgICBwaWdlb24uZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmtleXMucmlnaHQuaXNEb3duKSB7XHJcbiAgICAgICAgICAgIG1vdmVYID0gMTtcclxuICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwaWdlb24uZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2FsdG8gKFcpXHJcbiAgICAgICAgY29uc3QganVtcCA9IFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bih0aGlzLmtleXMudXApO1xyXG5cclxuICAgICAgICAvL0VudmlhciBjb21hbmRvIGNvbiBtb3ZpbWllbnRvIGhvcml6b250YWwgeSBzYWx0b1xyXG4gICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlUGlnZW9uQ29tbWFuZChwaWdlb24sIG1vdmVYLCBqdW1wKTtcclxuICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuXHJcbiAgICAgICAgLy8gU2VuZCBwYWRkbGUgcG9zaXRpb24gdG8gc2VydmVyXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdwYWRkbGVNb3ZlJyxcclxuICAgICAgICAgICAgeDogdGhpcy5sb2NhbFBhbG9tYS5zcHJpdGUueCxcclxuICAgICAgICAgICAgeTogdGhpcy5sb2NhbFBhbG9tYS5zcHJpdGUueSxcclxuICAgICAgICAgICAgYW5pbTogdGhpcy5sb2NhbFBhbG9tYS5jdXJyZW50QW5pbSxcclxuICAgICAgICAgICAgZmFjaW5nOiB0aGlzLmxvY2FsUGFsb21hLmZhY2luZ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0F0YXF1ZVxyXG4gICAgICAgIC8vIEF0YXF1ZSAoRilcclxuICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKHRoaXMua2V5cy5hdHRhY2spKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2F0dGFja1JlcXVlc3QnLFxyXG4gICAgICAgICAgICAgICAgZmFjaW5nOiBwaWdlb24uZmFjaW5nLFxyXG4gICAgICAgICAgICAgICAgeDogcGlnZW9uLnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgeTogcGlnZW9uLnNwcml0ZS55XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goKHBpZ2VvbiwgaWQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IHRoaXMucGlnZW9uSW5kaWNhdG9yc1tpZF07XHJcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHBpZ2Vvbi5zcHJpdGU7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3ByaXRlLnkgPCAtNSkge1xyXG4gICAgICAgICAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0YSBmdWVyYSBwb3IgYXJyaWJhIG11ZXN0cmEgZWwgaW5kaWNhZG9yXHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGluZGljYXRvci54ID0gc3ByaXRlLng7XHJcbiAgICAgICAgICAgICAgICBpbmRpY2F0b3IueSA9IDUwO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vU2kgdnVlbHZlIGEgZW50cmFyIHNlIG9jdWx0YSBlbCBpY29ub1xyXG4gICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8vRWxpbWluYXIgbcO6c2ljYSBhbCBjZXJyYXIgbGEgZXNjZW5hIHkgY2VycnJhciBsaXN0ZW5lcnNcclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db250cm9sc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgRW5kR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgU3RvcnlTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1N0b3J5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICB3aWR0aDogOTYwLFxyXG4gIGhlaWdodDogNTQwLFxyXG4gIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICBwaHlzaWNzOiB7XHJcbiAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgIGFyY2FkZToge1xyXG4gICAgICBncmF2aXR5OiB7IHk6IDEyMDAgfSxcclxuICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICB9XHJcbiAgfSxcclxuICBzY2VuZTogW01lbnVTY2VuZSwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBDcmVkaXRzU2NlbmUsIENvbnRyb2xzU2NlbmUsIEVuZEdhbWVTY2VuZSwgU3RvcnlTY2VuZSwgT3B0aW9uc1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgYmFja2dyb3VuZENvbG9yOiAnIzFhMmEyZScsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImF1ZGlvIiwiaW1hZ2UiLCJjcmVhdGUiLCJjYW1lcmFzIiwibWFpbiIsInNldEFscGhhIiwiYWRkIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldE9yaWdpbiIsImJnTXVzaWMiLCJzb3VuZCIsImxvb3AiLCJ2b2x1bWUiLCJwbGF5IiwiY29ubmVjdGlvblRleHQiLCJsb2NhbEJ0blNwcml0ZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInNldERlcHRoIiwib24iLCJzZXRUZXh0dXJlIiwic3RvcCIsImRlc3Ryb3kiLCJzY2VuZSIsInRyYW5zaXRpb24iLCJ0YXJnZXQiLCJtb3ZlQmVsb3ciLCJvblVwZGF0ZSIsInByb2dyZXNzIiwib25saW5lQnRuU3ByaXRlIiwiY3JlZGl0c0J0blNwcml0ZSIsIm9wdGlvbnNCdG5TcHJpdGUiLCJjb250cm9sc0J0blNwcml0ZSIsInN0b3J5QnRuU3ByaXRlIiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNodXRkb3duIiwiUGlnZW9uIiwiaWQiLCJ4IiwieSIsImNoYXJhY3RlciIsInNjb3JlIiwic3BlZWQiLCJqdW1wU3BlZWQiLCJhdHRhY2tSYW5nZSIsImF0dGFja0ZvcmNlIiwic3R1bkZvcmNlIiwiYXR0YWNrQ29vbGRvd24iLCJsYXN0QXR0YWNrVGltZSIsImZhY2luZyIsInN0dW5uZWQiLCJzdHVuVGltZW91dCIsImRlZmF1bHRTdHVuRHVyYXRpb24iLCJrbm9ja2JhY2tFeHBpcmUiLCJpc0F0dGFja2luZyIsImN1cnJlbnRBbmltIiwidGV4dHVyZUtleSIsInNwcml0ZSIsInBoeXNpY3MiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJwaWdlb24iLCJpbnZlcnRGbGlwRm9yTW92ZW1lbnQiLCJzZXRGbGlwWCIsImNhbkF0dGFjayIsInRpbWUiLCJtYXJrQXR0YWNrZWQiLCJwbGF5QW5pbWF0aW9uIiwiYW5pbU5hbWUiLCJrZXkiLCJhbmltcyIsImV4aXN0cyIsIndhcm4iLCJ0YWtlSGl0Iiwia25vY2tiYWNrWCIsInNldFZlbG9jaXR5WCIsImRlbGF5ZWRDYWxsIiwic2V0VGludCIsImNsZWFyVGludCIsInN0dW4iLCJkdXJhdGlvbk1zIiwic2V0QWNjZWxlcmF0aW9uWCIsInNldERhbXBpbmciLCJzZXREcmFnWCIsInN0YXJ0QXR0YWNrQW5pbWF0aW9uIiwiZW5kQXR0YWNrQW5pbWF0aW9uIiwidmVsb2NpdHkiLCJzaG93QXR0YWNrU3ByaXRlIiwiYXR0YWNrU3ByaXRlIiwiZGVwdGgiLCJvZmZzZXRYIiwiZm9sbG93RXZlbnQiLCJhZGRFdmVudCIsImRlbGF5IiwicmVtb3ZlIiwiYWRkU2NvcmUiLCJ2YWx1ZSIsImxvZyIsImFwcGx5TW9kaWZpZXIiLCJwcm9wZXJ0eSIsImFtb3VudCIsImhhc093blByb3BlcnR5IiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVQaWdlb25Db21tYW5kIiwibW92ZVgiLCJqdW1wIiwiZGVzaXJlZEZsaXAiLCJvbkZsb29yIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsInNldFZlbG9jaXR5WSIsIlBhdXNlQ29tbWFuZCIsImlzUGF1c2VkIiwic2V0UGF1c2VTdGF0ZSIsIkF0dGFja1BpZ2VvbkNvbW1hbmQiLCJkaXIiLCJoaXRib3giLCJzZXRWaXNpYmxlIiwic2V0QWxsb3dHcmF2aXR5Iiwic2V0SW1tb3ZhYmxlIiwic2V0U2l6ZSIsImJhc2VIZWlnaHQiLCJvdmVybGFwIiwicGxheWVyU3ByaXRlcyIsImhiIiwidGFyZ2V0U3ByaXRlIiwidGFyZ2V0UGlnZW9uIiwia25vY2siLCJ3b3JsZCIsInJlbW92ZUNvbGxpZGVyIiwiSXRlbSIsInNldERpc3BsYXlTaXplIiwiZXhwaXJlVGltZXIiLCJhcHBseUVmZmVjdCIsInNob3dJdGVtSWNvbiIsImljb25LZXkiLCJhY3RpdmVJY29uU3ByaXRlIiwiYWN0aXZlSWNvblRpbWVyIiwiaWNvblgiLCJzY29yZVRleHRQMSIsInNjb3JlVGV4dFAyIiwiQ2h1cnJvIiwiQXZlbmEiLCJQbHVtYSIsIkJhc3VyYSIsIkdhbWVTY2VuZSIsImluaXQiLCJpbnB1dE1hcHBpbmdzIiwiZXNjV2FzRG93biIsImdhbWVFbmRlZCIsInByb2Nlc3NvciIsImNodXJybyIsInBvd2VyVXAiLCJpdGVtU3Bhd25Qb3NpdGlvbnMiLCJwb3dlclVwcyIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwib25Db25uZWN0aW9uTG9zdCIsImNyZWF0ZVBsYXRmb3JtcyIsInNldFVwUGxheWVycyIsInBpZ2VvbkluZGljYXRvcnMiLCJwbGF5ZXIxIiwicGxheWVyMiIsImZyYW1lcyIsImZyYW1lIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJzdGFydCIsImVuZCIsImZvbnRTdHlsZSIsImdyb3VwIiwiY29sbGlkZXIiLCJwbGF0Zm9ybXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsInNwYXduSXRlbSIsIkFycmF5IiwiR2V0UmFuZG9tIiwiZXZlbnRzIiwicGF1c2UiLCJsYXVuY2giLCJwcmV2aW91c1NjZW5lIiwic3RhdGljR3JvdXAiLCJyZWZyZXNoQm9keSIsImxlZnRQaWdlb24iLCJyaWdodFBpZ2VvbiIsImZsaXBYIiwic2V0IiwicGxheWVySWQiLCJ1cEtleSIsImxlZnRLZXkiLCJyaWdodEtleSIsImF0dGFja0tleSIsIm1hcCIsImNvbmZpZyIsInVwS2V5T2JqIiwicmlnaHRLZXlPYmoiLCJsZWZ0S2V5T2JqIiwiYXR0YWNrS2V5T2JqIiwidHlwZSIsInJlZk5hbWUiLCJJdGVtQ2xhc3MiLCJhdmFpbGFibGVQb3NpdGlvbnMiLCJmaWx0ZXIiLCJwb3MiLCJpdGVtIiwib25JdGVtUGlja3VwIiwibGlmZXRpbWUiLCJkZWxldGVJdGVtIiwicGlnZW9uU3ByaXRlIiwiaXRlbVNwcml0ZSIsImdldCIsImdldEl0ZW1CeVNwcml0ZSIsIndpbm5lcklkIiwib3JpZ2luYWxTY2VuZSIsInJlc3VtZSIsInRvZ2dsZVBhdXNlIiwibmV3UGF1c2VkU3RhdGUiLCJ1cGRhdGUiLCJpc0Rvd24iLCJtYXBwaW5nIiwibW92ZUNvbW1hbmQiLCJhdHRhY2tDbWQiLCJpbmRpY2F0b3IiLCJQYXVzZVNjZW5lIiwicmVjdGFuZ2xlIiwicmVzdW1lQnRuU3ByaXRlIiwibWVudUJ0blNwcml0ZSIsIkNyZWRpdHNTY2VuZSIsInNldFNjYWxlIiwiYmFja0J0blNwcml0ZSIsIkNvbnRyb2xzU2NlbmUiLCJFbmRHYW1lU2NlbmUiLCJ3cyIsIndpbm5lcklzUDEiLCJwbGF5ZXJXb24iLCJsb2NhbFBsYXllcklkIiwiYmdLZXkiLCJtYWluVGV4dCIsIndpbm5lclRleHQiLCJvblNodXRkb3duIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJjbG9zZSIsIlN0b3J5U2NlbmUiLCJhbGlnbiIsIndvcmRXcmFwIiwid2lkdGgiLCJ1c2VBZHZhbmNlZFdyYXAiLCJPcHRpb25zU2NlbmUiLCJidXR0b24iLCJkcmFnZ2FibGUiLCJiYXJYIiwic2V0RHJhZ2dhYmxlIiwicG9pbnRlciIsIm9iaiIsImRyYWdYIiwiZHJhZ1kiLCJDbGFtcCIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJMb2JieVNjZW5lIiwiU2NlbmUiLCJoZWlnaHQiLCJwbGF5ZXJDb3VudFRleHQiLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3QiLCJvbm9wZW4iLCJzZW5kIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsInBvc2l0aW9uIiwicGxheWVyUm9sZSIsInJvbGUiLCJyb29tSWQiLCJNdWx0aXBsYXllckdhbWVTY2VuZSIsInJvbGVUZXh0IiwibG9jYWxQYWxvbWEiLCJyZW1vdGVQYWxvbWEiLCJsb2NhbFNjb3JlIiwicmVtb3RlU2NvcmUiLCJrZXlzIiwiY2h1cnJvT3ZlcmxhcCIsInBvd2VyVXBPdmVybGFwIiwiYWRkS2V5cyIsInVwIiwiVyIsImxlZnQiLCJBIiwicmlnaHQiLCJEIiwiYXR0YWNrIiwiRiIsImNyZWF0ZUFuaW1hdGlvbnMiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsInAiLCJhbmltS2V5IiwiYW5pbSIsImlzUGxheWluZyIsInBsYXllcjFTY29yZSIsInBsYXllcjJTY29yZSIsImF0dGFja2VyIiwiYXR0YWNrZXJJZCIsImNtZCIsInNwYXduSXRlbUZyb21TZXJ2ZXIiLCJpdGVtVHlwZSIsImVuZEdhbWUiLCJ3aW5uZXIiLCJzZXRWZWxvY2l0eSIsImNyZWF0ZU1lbnVCdXR0b24iLCJpdGVtRGF0YSIsInNlbmRNZXNzYWdlIiwiaXRlbUlkIiwibWVzc2FnZSIsIkp1c3REb3duIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImJhY2tncm91bmRDb2xvciJdLCJzb3VyY2VSb290IjoiIn0=