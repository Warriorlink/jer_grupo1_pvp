(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("AveMaria","assets/sounds/AveMaria.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.add.image(480,270,"Fondo"),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,100,"PvP",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic||(this.bgMusic=this.sound.add("AveMaria",{loop:!0,volume:.5}),this.bgMusic.play()),this.connectionText=this.add.text(400,150,"Servidor: Comprobando...",{fontSize:"20px",color:"#ffffffff"}).setOrigin(.5);const e=this.add.image(250,360,"boton").setInteractive({useHandCursor:!0});this.add.text(250,360,"Local 2 Players",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.cameras.main.setAlpha(1),this.scene.transition({target:"GameScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const s=this.add.image(700,360,"boton").setInteractive({useHandCursor:!0});this.add.text(700,360,"Online (Not available)",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.cameras.main.setAlpha(1),this.scene.transition({target:"LobbyScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const i=this.add.image(250,500,"boton").setInteractive({useHandCursor:!0});this.add.text(250,500,"Credits",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")),i.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"CreditsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const o=this.add.image(700,500,"boton").setInteractive({useHandCursor:!0});this.add.text(700,500,"Options",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),o.on("pointerover",()=>o.setTexture("botonEncima")),o.on("pointerout",()=>o.setTexture("boton")),o.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"OptionsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const n=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Controls",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),n.on("pointerover",()=>n.setTexture("botonEncima")),n.on("pointerout",()=>n.setTexture("boton")),n.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"ControlsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const a=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Story",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),a.on("pointerover",()=>a.setTexture("botonEncima")),a.on("pointerout",()=>a.setTexture("boton")),a.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"StoryScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#ffffffff")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#000000ff"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i{constructor(e,t,s,i,o){this.scene=e,this.id=t,this.character=o,this.score=0,this.speed=300,this.jumpSpeed=630,this.attackRange=40,this.attackForce=200,this.stunForce=1e3,this.attackCooldown=500,this.lastAttackTime=0,this.facing="right",this.stunned=!1,this.stunTimeout=null,this.defaultStunDuration=1e3,this.knockbackExpire=null,this.isAttacking=!1;let n=null;"palomon"===o?n="palomonSheet":"dovenando"===o?n="dovenandoSheet":(console.error("Personaje desconocido:",o),n="palomonSheet"),this.sprite=this.scene.physics.add.sprite(s,i,n),this.sprite.body.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.pigeon=this,this.invertFlipForMovement="dovenando"===o,this.sprite.setFlipX(this.invertFlipForMovement)}canAttack(e){return(e=e||this.scene.time.now)-this.lastAttackTime>=this.attackCooldown}markAttacked(e){this.lastAttackTime=e||this.scene.time.now}playAnimation(e){if(this.isAttacking)return;const t=`${this.character}_${e}`;this.scene.anims.exists(t)?this.sprite.anims.play(t,!0):console.warn(`Animación no existe: ${t}`)}takeHit(e=0){this.sprite.setVelocityX(e),this.knockbackExpire=this.scene.time.now+200,this.stunned||(this.sprite.setTint(16711680),this.scene.time.delayedCall(200,()=>{this.stunned||this.sprite.clearTint()}))}stun(e){e=null==e?this.defaultStunDuration:e,this.stunned||(this.stunned=!0,this.sprite.setTint(10066431),this.sprite.setVelocityX(0),this.stunTimeout=this.scene.time.delayedCall(e,()=>{this.stunned=!1,this.sprite.clearTint(),this.stunTimeout=null}))}startAttackAnimation(){if(this.isAttacking)return;this.isAttacking=!0;const e=`${this.character}_attack`;this.scene.anims.exists(e)&&this.sprite.anims.play(e,!0),this.sprite.setFlipX("left"===this.facing?!this.invertFlipForMovement:this.invertFlipForMovement),this.scene.time.delayedCall(250,()=>{this.endAttackAnimation()})}endAttackAnimation(){this.isAttacking=!1,0===this.sprite.body.velocity.x?this.playAnimation("idle"):this.playAnimation("walk")}showAttackSprite(e=250){const t=this.scene,s="dovenando"===this.character?"dovenandoAttack":"palomonAttack",i=t.add.sprite(this.sprite.x,this.sprite.y,s);i.setOrigin(.5,.5),i.setDepth(this.sprite.depth+1);const o="right"===this.facing?20:-20;i.x+=o,i.setFlipX("left"===this.facing);const n=t.time.addEvent({delay:16,loop:!0,callback:()=>{i.x=this.sprite.x+o,i.y=this.sprite.y}});t.time.delayedCall(e,()=>{n.remove(!1),i.destroy()})}addScore(e){this.score+=e,console.log(`${this.id} recogió un Churro → score: ${this.score}`)}applyModifier(e,t,s){this.hasOwnProperty(e)?(this[e]+=t,this.scene.time.addEvent({delay:s,callback:()=>{this[e]-=t}})):console.warn(`La propiedad ${e} no existe en la paloma.`)}}class o{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class n{execute(){}serialize(){}getPlayer(){}}class a extends n{constructor(e,t=0,s=!1){super(),this.pigeon=e,this.moveX=t,this.jump=s}execute(){const e=this.pigeon,t=e.sprite;if(e.stunned)return t.setVelocityX(0),void e.playAnimation("idle");if(this.moveX>0?e.facing="right":this.moveX<0&&(e.facing="left"),0!==this.moveX){const s=e.invertFlipForMovement?this.moveX>0:this.moveX<0;t.setFlipX(s)}if(t.setVelocityX(this.moveX*e.speed),0!==this.moveX?e.playAnimation("walk"):e.playAnimation("idle"),this.jump){const s=t.body;s&&("function"==typeof s.onFloor?s.onFloor():s.blocked&&s.blocked.down||s.touching&&s.touching.down)&&t.setVelocityY(-e.jumpSpeed)}}}class r extends n{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class h extends n{constructor(e){super(),this.pigeon=e}execute(){const e=this.pigeon.scene,t=e.time.now;if(this.pigeon.stunned)return;if(!this.pigeon.canAttack(t))return;this.pigeon.markAttacked(t),this.pigeon.startAttackAnimation(),this.pigeon.showAttackSprite(250),e.sound.play("SonidoAtaque",{volume:.7});const s="right"===this.pigeon.facing?1:-1,i=this.pigeon.sprite.x+s*this.pigeon.attackRange,o=this.pigeon.sprite.y,n=e.physics.add.sprite(i,o,null);n.setVisible(!1),n.body.setAllowGravity(!1),n.body.setImmovable(!0),n.setSize(this.pigeon.attackRange,.6*this.pigeon.baseHeight);const a=e.physics.add.overlap(n,e.playerSprites,(t,i)=>{if(i===this.pigeon.sprite)return;const o=i.pigeon;if(!o)return;const n=this.pigeon.attackForce*s;o.stun(this.pigeon.stunForce),o.takeHit(n),a&&e.physics&&e.physics.world&&e.physics.world.removeCollider(a)});e.time.delayedCall(120,()=>{a&&e.physics&&e.physics.world&&e.physics.world.removeCollider(a),n&&n.destroy&&n.destroy()})}}class c{constructor(e,t,s,i){this.scene=e,this.sprite=e.physics.add.sprite(t,s,i),this.sprite.setDisplaySize(40,40),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.expireTimer=null}applyEffect(e){console.warn("applyEffect() no implementado en el item")}showItemIcon(e,t,s){e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null);let i=null;i=this.scene.scoreTextP1&&this.scene.scoreTextP2?"player1"===e.id?this.scene.scoreTextP1.x+25:this.scene.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.scene.add.image(i,85,t),e.activeIconSprite.setDisplaySize(50,50),e.activeIconTimer=this.scene.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null)}})}destroy(){this.sprite.destroy()}}class d extends c{constructor(e,t,s){super(e,t,s,"churroSheet"),this.sprite.play("churro_anim")}applyEffect(e){this.scene.sound.play("SonidoChurro",{volume:.5}),e.addScore(1)}}class l extends c{constructor(e,t,s){super(e,t,s,"avena")}applyEffect(e){const t=5e3;this.scene.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(e,"iconAvena",t),e.applyModifier("attackForce",300,t),e.applyModifier("stunForce",1e3,t)}}class p extends c{constructor(e,t,s){super(e,t,s,"pluma")}applyEffect(e){this.scene.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(e,"iconPluma",5e3),e.applyModifier("speed",200,5e3)}}class u extends c{constructor(e,t,s){super(e,t,s,"basura")}applyEffect(e){this.scene.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(e,"iconBasura",5e3),e.applyModifier("speed",-100,5e3)}}class m extends e.Scene{constructor(){super("GameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"]}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.time.addEvent({delay:5e3,loop:!0,callback:()=>{null===this.churro&&this.spawnItem("churro")}}),this.time.addEvent({delay:7e3,loop:!0,callback:()=>{null===this.powerUp&&this.spawnItem(e.Utils.Array.GetRandom(this.powerUps))}}),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=d;break;case"avena":s="powerUp",i=l;break;case"pluma":s="powerUp",i=p;break;case"basura":s="powerUp",i=u;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),n=e.Utils.Array.GetRandom(o),a=new i(this,n.x,n.y);if(this[s]=a,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,a.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;a.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===a&&this.deleteItem(a)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;e.leftKeyObj.isDown?s=-1:e.rightKeyObj.isDown&&(s=1);const i=e.upKeyObj.isDown;let o=new a(t,s,i);if(this.processor.process(o),e.attackKeyObj&&e.attackKeyObj.isDown){const e=new h(t);this.processor.process(e)}this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})})}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class f extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"Game Paused",{fontSize:"64px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const t=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Resume",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()});const s=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Return to Menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class y extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Credits",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Game developed by GB3D",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.add.text(480,250,"Artist:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,290,"Hugo Checa",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,350,"Programmers:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,390,"Alejandro Marín",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,425,"Lucas Lorente",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,460,"Miguel Amado",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,510,"boton").setInteractive({useHandCursor:!0});this.add.text(480,510,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class g extends e.Scene{constructor(){super("ControlsScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Controls",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Player 1",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,200,"Move: W - A - D (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,240,"Attack: F",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,300,"Pause: Esc",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,360,"Player 2 (Local)",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,410,"Move: ↑ - ← - → (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,450,"Attack: Shift",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class S extends e.Scene{constructor(){super("EndGameScene")}preload(){this.load.audio("SweetVictory","assets/sounds/SweetVictory.mp3"),this.load.image("DovenandoVictory","assets/sprites/pantalla victoria dovenando.png"),this.load.image("PalomonVictory","assets/sprites/pantalla victoria palomon.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.cameras.main.setAlpha(0);const t="player1"===e.winnerId?"DovenandoVictory":"PalomonVictory";this.add.image(480,270,t),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,250,"SUPREME VICTORY",{fontSize:"100px",color:"#4444ff",fontStyle:"bold",stroke:"#000000",strokeThickness:10}).setOrigin(.5);const s="player1"===e.winnerId?"Dovenando Wins!":"Palomón Wins!";this.add.text(480,350,s,{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic=this.sound.add("SweetVictory",{loop:!0,volume:.6}),this.bgMusic.play(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this);const i=this.add.image(480,460,"boton").setInteractive({useHandCursor:!0});this.add.text(480,460,"Return to menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")).on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}onShutdown(){this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class k extends e.Scene{constructor(){super("StoryScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Story",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,120,"In some nameless city, on a damp and murky night, two pigeons wandered through the alleys in search of something to calm their hunger.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,170,"The alluring fragrance of a few forgotten churros awakens in them a fierce blend of survival and greed, and before long the situation erupts into open warfare.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,230,"Though there are neither heroes nor villains, each firmly believes that the churro is hers by birthright. Morality falters, friendship fades… there are only churros left.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(200,270,"Dovenando",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(220,430,'A cunning, slippery bird, skilled in the art of stealth. His guiding principle: "All churros belong to someone… and that someone is me."',{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(200,340,"dovenando").setOrigin(.5).setScale(1.5),this.add.text(770,270,"Palomón",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(750,430,"A tough pigeon with a dark history. He once belonged to the avian mafia and is well acquainted with the perils of the streets and gang fights.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(770,340,"palomon").setOrigin(.5).setScale(1.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class x extends e.Scene{constructor(){super("OptionsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("slider_bar","assets/sprites/slider_bar.png"),this.load.image("slider_button","assets/sprites/slider_button.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Options",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,240,"Volume",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=(this.add.image(480,300,"slider_bar").setDisplaySize(300,20).setOrigin(.5),this.add.image(480,300,"slider_button").setDisplaySize(40,40).setInteractive({draggable:!0}).setOrigin(.5));t.x=330+300*this.sound.volume,this.input.setDraggable(t),this.input.on("drag",(s,i,o,n)=>{if(i!==t)return;t.x=e.Math.Clamp(o,330,630);const a=(t.x-330)/300;this.sound.volume=a});const s=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class b extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}preload(){this.load.image("Fondo","assets/sprites/desconexion.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(480,270,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class v extends Phaser.Scene{constructor(){super({key:"LobbyScene"}),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",color:"#ffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#00ff00"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontSize:"24px",color:"#ff6666",backgroundColor:"#333333",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000")}),s.on("pointerout",()=>{s.setColor("#ff6666")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerGameScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId,initialBall:e.ball});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class w extends e.Scene{constructor(){super("MultiplayerGameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"];const e=this.sys.settings.data||{};this.ws=e.ws||null,this.playerRole=e.playerRole||"player1",this.roomId=e.roomId||null,this.renderedItems=new Map}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers();const s="player1"===this.playerRole?"Eres la paloma izquierda":"Eres la paloma derecha",i=this.add.text(480,40,s,{fontSize:"24px",color:"#ffffff",backgroundColor:"rgba(0,0,0,0.5)",padding:{x:10,y:6}}).setOrigin(.5);this.time.delayedCall(2500,()=>{this.tweens.add({targets:i,alpha:0,duration:600,onComplete:()=>i.destroy()})}),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.setupWebSocketListeners(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}setupWebSocketListeners(){this.ws&&(this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.gameEnded||this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.gameEnded||this.handleDisconnection()})}handleServerMessage(e){switch(e.type){case"init":case"state":this.applyState(e.state||{});break;case"gameOver":this.endGame(e.winner,e.player1Score,e.player2Score);break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",e.type)}}applyState(e){if(!e)return;const t=e.players||{};["player1","player2"].forEach(e=>{const s=t[e],i=this.players.get(e);i&&s&&("number"==typeof s.x&&(i.sprite.x=s.x),"number"==typeof s.y&&(i.sprite.y=s.y),s.facing&&(i.facing=s.facing),i.stunned=!!s.stunned,"number"==typeof s.score&&(i.score=s.score))});const s=this.players.get("player1"),i=this.players.get("player2");s&&this.scoreTextP1.setText("Dovenando: "+(s.score||0)),i&&this.scoreTextP2.setText("Palomón: "+(i.score||0));const o=e.items||[],n=new Set;o.forEach(e=>{if(n.add(e.id),this.renderedItems.has(e.id)){const t=this.renderedItems.get(e.id);t.x=e.x,t.y=e.y}else{const t=e.type||"churro",s=this.add.sprite(e.x,e.y,t);"churro"===e.type&&s.play&&s.play("churro_anim"),this.renderedItems.set(e.id,s)}}),Array.from(this.renderedItems.keys()).forEach(e=>{if(!n.has(e)){const t=this.renderedItems.get(e);t&&t.destroy&&t.destroy(),this.renderedItems.delete(e)}})}handleDisconnection(){this.gameEnded=!0;try{this.physics.pause()}catch(e){}this.add.text(400,250,"Opponent Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=d;break;case"avena":s="powerUp",i=l;break;case"pluma":s="powerUp",i=p;break;case"basura":s="powerUp",i=u;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),n=e.Utils.Array.GetRandom(o),a=new i(this,n.x,n.y);if(this[s]=a,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,a.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;a.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===a&&this.deleteItem(a)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause();const e=this.inputMappings.find(e=>e.playerId===this.playerRole);if(e&&this.ws&&this.ws.readyState===WebSocket.OPEN){const t={type:"input",input:{left:!!e.leftKeyObj.isDown,right:!!e.rightKeyObj.isDown,up:!!e.upKeyObj.isDown,attack:!(!e.attackKeyObj||!e.attackKeyObj.isDown)},ts:Date.now()};this.sendMessage(t)}}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}const T={type:e.AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{y:1200},debug:!1}},scene:[s,m,f,y,g,S,k,x,b,v,w],backgroundColor:"#1a2a2e"};new e.Game(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU00RyxFQUFlblosS0FBSzBOLGNBQWMwTCxLQUFLQyxHQUFLQSxFQUFFMUksV0FBYTNRLEtBQUswVyxZQUN0RSxHQUFJeUMsR0FBZ0JuWixLQUFLb1YsSUFBTXBWLEtBQUtvVixHQUFHMkIsYUFBZWYsVUFBVWdCLEtBQU0sQ0FDbEUsTUFBTXNDLEVBQWUsQ0FDakJoSSxLQUFNLFFBQ04vQixNQUFPLENBQ0hnSyxPQUFRSixFQUFhL0gsV0FBV3NCLE9BQ2hDOEcsUUFBU0wsRUFBYWhJLFlBQVl1QixPQUNsQytHLEtBQU1OLEVBQWFqSSxTQUFTd0IsT0FDNUJnSCxVQUFXUCxFQUFhOUgsZUFBZ0I4SCxFQUFhOUgsYUFBYXFCLFNBRXRFaUgsR0FBSWpaLEtBQUtDLE9BR2JYLEtBQUtpWixZQUFZSyxFQUNyQixDQUNKLENBSUEsUUFBQXBULEdBQ1FsRyxLQUFLb1YsSUFBTXBWLEtBQUtvVixHQUFHMkIsYUFBZWYsVUFBVWdCLE1BQzVDaFgsS0FBS29WLEdBQUc2QixRQUdSalgsS0FBS29FLFVBQ0xwRSxLQUFLb0UsUUFBUVksT0FDYmhGLEtBQUtvRSxRQUFRYSxVQUNiakYsS0FBS29FLFFBQVUsS0FFdkIsRUNucUJKLE1BQU02TSxFQUFTLENBQ2JLLEtBQU0sT0FDTnVDLE1BQU8sSUFDUHdCLE9BQVEsSUFDUnVFLE9BQVEsaUJBQ1JwUyxRQUFTLENBQ1BxUyxRQUFTLFNBQ1RDLE9BQVEsQ0FDTkMsUUFBUyxDQUFFelQsRUFBRyxNQUNkMFQsT0FBTyxJQUdYOVUsTUFBTyxDQUFDbkMsRUFBV3lLLEVBQVd1RixFQUFZSSxFQUFjRyxFQUFlQyxFQUFjRyxFQUFZSyxFQUFjVSxFQUFxQlMsRUFBWWdDLEdBQ2hKMUIsZ0JBQWlCLFdBR04sSUFBSSxPQUFZdkUsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGlnZW9uLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvUGF1c2VDb21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9JdGVtLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9DaHVycm8uanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0F2ZW5hLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QbHVtYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvQmFzdXJhLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0NvbnRyb2xzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9FbmRHYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9TdG9yeVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0xvYmJ5U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9NdWx0aXBsYXllckdhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ0F2ZU1hcmlhJywgJ2Fzc2V0cy9zb3VuZHMvQXZlTWFyaWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdGb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnRm9uZG8nKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTAwLCAnUHZQJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gdGhpcy5zb3VuZC5hZGQoJ0F2ZU1hcmlhJywge1xyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAxNTAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIGp1Z2FyIGxvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDM2MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCgyNTAsIDM2MCwgJ0xvY2FsIDIgUGxheWVycycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBsb2NhbEJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGxvY2FsQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBsb2NhbEJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL0FwYWdhciBtw7pzaWNhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSBqdWdhciBvbmxpbmUgKG5vIGZ1bmNpb25hKVxyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDcwMCwgMzYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgMzYwLCAnT25saW5lIChOb3QgYXZhaWxhYmxlKScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBvbmxpbmVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgb25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vQXBhZ2FyIG3DunNpY2FcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBHYW1lU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0xvYmJ5U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgY3JlZGl0b3NcclxuICAgICAgICBjb25zdCBjcmVkaXRzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoMjUwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KDI1MCwgNTAwLCAnQ3JlZGl0cycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIGNyZWRpdHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gY3JlZGl0c0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGNyZWRpdHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBDcmVkaXRzU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0NyZWRpdHNTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZSBvcGNpb25lc1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNzAwLCA1MDAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvcHRpb25zQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IG9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBvcHRpb25zQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnT3B0aW9uc1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgY29udHJvbHNCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDQzMCwgJ0NvbnRyb2xzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIGNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGNvbnRyb2xzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgY29udHJvbHNCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjb250cm9sc0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmFuc2ljacOzbiBhIENvbnRyb2xzU2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ0NvbnRyb2xzU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgaGlzdG9yaWFcclxuICAgICAgICBjb25zdCBzdG9yeUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNDMwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IHN0b3J5QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoMjUwLCA0MzAsICdTdG9yeScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBzdG9yeUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc3RvcnlCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBTdG9yeVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdTdG9yeVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmZmZmZmZmYnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwMDAwMGZmJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUGlnZW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3Rlcikge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXI7XHJcbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XHJcblxyXG4gICAgICAgIC8vUHJvcGllZGFkZXMgZGUgYXRhcXVlIHkgbW92aW1pZW50b1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy5qdW1wU3BlZWQgPSA2MzA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tSYW5nZSA9IDQwO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrRm9yY2UgPSAyMDA7XHJcbiAgICAgICAgdGhpcy5zdHVuRm9yY2UgPSAxMDAwO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0Nvb2xkb3duID0gNTAwO1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFja1RpbWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5zdHVubmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0U3R1bkR1cmF0aW9uID0gMTAwMDtcclxuICAgICAgICB0aGlzLmtub2NrYmFja0V4cGlyZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy9Bc2lnbmFjacOzbiBkZSBzcHJpdGUgcGFyYSBjYWRhIHBhbG9tYVxyXG4gICAgICAgIGxldCB0ZXh0dXJlS2V5ID0gbnVsbDtcclxuICAgICAgICBpZiAoY2hhcmFjdGVyID09PSBcInBhbG9tb25cIikge1xyXG4gICAgICAgICAgICB0ZXh0dXJlS2V5ID0gXCJwYWxvbW9uU2hlZXRcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJhY3RlciA9PT0gXCJkb3ZlbmFuZG9cIikge1xyXG4gICAgICAgICAgICB0ZXh0dXJlS2V5ID0gXCJkb3ZlbmFuZG9TaGVldFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQZXJzb25hamUgZGVzY29ub2NpZG86XCIsIGNoYXJhY3Rlcik7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcInBhbG9tb25TaGVldFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Gw61zaWNhcyBkZSBsYXMgcGFsb21hc1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgdGV4dHVyZUtleSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5waWdlb24gPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCA9IChjaGFyYWN0ZXIgPT09IFwiZG92ZW5hbmRvXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRGbGlwWCh0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9EZXRlcm1pbmEgc2kgbGEgcGFsb21hIHB1ZWRlIGF0YWNhclxyXG4gICAgY2FuQXR0YWNrKG5vdykge1xyXG4gICAgICAgIG5vdyA9IG5vdyB8fCB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIHJldHVybiAobm93IC0gdGhpcy5sYXN0QXR0YWNrVGltZSkgPj0gdGhpcy5hdHRhY2tDb29sZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvL01hcmNhIGVsIHRpZW1wbyBkZWwgw7psdGltbyBhdGFxdWVcclxuICAgIG1hcmtBdHRhY2tlZChub3cpIHtcclxuICAgICAgICB0aGlzLmxhc3RBdHRhY2tUaW1lID0gbm93IHx8IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXByb2R1Y2UgbGEgYW5pbWFjacOzbiBjb3JyZWN0YSBzZWfDum4gZWwgcGVyc29uYWplIHkgZWwgbm9tYnJlIChpZGxlLCB3YWxrLi4uKVxyXG4gICAgcGxheUFuaW1hdGlvbihhbmltTmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGtleSA9IGAke3RoaXMuY2hhcmFjdGVyfV8ke2FuaW1OYW1lfWA7XHJcblxyXG4gICAgICAgIC8vUG9yIHNpIGFjYXNvIG5vIGV4aXN0ZSBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQW5pbWFjacOzbiBubyBleGlzdGU6ICR7a2V5fWApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGtleSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vQXBsaWNhIGtub2NrYmFjay9lZmVjdG8gdmlzdWFsIGRlIHJlY2liaXIgZ29scGVcclxuICAgIHRha2VIaXQoa25vY2tiYWNrWCA9IDApIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoa25vY2tiYWNrWCk7XHJcblxyXG4gICAgICAgIHRoaXMua25vY2tiYWNrRXhwaXJlID0gdGhpcy5zY2VuZS50aW1lLm5vdyArIDIwMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3R1bm5lZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmYwMDAwKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMjAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdHVubmVkKSB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FwbGljYXIgc3R1blxyXG4gICAgc3R1bihkdXJhdGlvbk1zKSB7XHJcbiAgICAgICAgZHVyYXRpb25NcyA9IGR1cmF0aW9uTXMgPT0gbnVsbCA/IHRoaXMuZGVmYXVsdFN0dW5EdXJhdGlvbiA6IGR1cmF0aW9uTXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc3R1bm5lZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnN0dW5uZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg5OTk5ZmYpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChkdXJhdGlvbk1zLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3R1bm5lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5zdHVuVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9BbmltYWNpw7NuIGRlIGF0YXF1ZVxyXG4gICAgc3RhcnRBdHRhY2tBbmltYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcpIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5jaGFyYWN0ZXJ9X2F0dGFja2A7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmFuaW1zLmV4aXN0cyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoa2V5LCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2kgZXN0w6EgbWlyYW5kbyBhbCBjb250cmFyaW8sIG1hbnRlbmVyIGZsaXBcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRGbGlwWCh0aGlzLmZhY2luZyA9PT0gXCJsZWZ0XCIgPyAhdGhpcy5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgOiB0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCk7XHJcblxyXG4gICAgICAgIC8vVm9sdmVyIGEgYW5pbWFjacOzbiBub3JtYWwgdHJhcyBlbCBhdGFxdWVcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMjUwLCAoKSA9PiB7ICAgLy8gRHVyYWNpw7NuIGFwcm94aW1hZGEgZGVsIGF0YXF1ZVxyXG4gICAgICAgICAgICB0aGlzLmVuZEF0dGFja0FuaW1hdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRmluIGRlIGxhIGFuaW1hY2nDs24gZGUgYXRhcXVlXHJcbiAgICBlbmRBdHRhY2tBbmltYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keS52ZWxvY2l0eS54ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihcImlkbGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oXCJ3YWxrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1Nwcml0ZSBkZWwgYXRhcXVlXHJcbiAgICBzaG93QXR0YWNrU3ByaXRlKGR1cmF0aW9uTXMgPSAyNTApIHtcclxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMuc2NlbmU7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5jaGFyYWN0ZXIgPT09ICdkb3ZlbmFuZG8nID8gJ2RvdmVuYW5kb0F0dGFjaycgOiAncGFsb21vbkF0dGFjayc7XHJcblxyXG4gICAgICAgIC8vQ3JlYXIgc3ByaXRlIHZpc3VhbCBkZWwgYXRhcXVlXHJcbiAgICAgICAgY29uc3QgYXR0YWNrU3ByaXRlID0gc2NlbmUuYWRkLnNwcml0ZSh0aGlzLnNwcml0ZS54LCB0aGlzLnNwcml0ZS55LCBrZXkpO1xyXG4gICAgICAgIGF0dGFja1Nwcml0ZS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIGF0dGFja1Nwcml0ZS5zZXREZXB0aCh0aGlzLnNwcml0ZS5kZXB0aCArIDEpO1xyXG5cclxuICAgICAgICAvL0FqdXN0ZSBpbmljaWFsIHNlZ8O6biBkaXJlY2Npw7NuXHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuZmFjaW5nID09PSAncmlnaHQnID8gMjAgOiAtMjA7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnggKz0gb2Zmc2V0WDtcclxuXHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldEZsaXBYKHRoaXMuZmFjaW5nID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICAvL0V2ZW50byBwYXJhIHNlZ3VpciBhIGxhIHBhbG9tYVxyXG4gICAgICAgIGNvbnN0IGZvbGxvd0V2ZW50ID0gc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAxNixcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGF0dGFja1Nwcml0ZS54ID0gdGhpcy5zcHJpdGUueCArIG9mZnNldFg7XHJcbiAgICAgICAgICAgICAgICBhdHRhY2tTcHJpdGUueSA9IHRoaXMuc3ByaXRlLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9EZXN0cnVpciBlbCBzcHJpdGUgeSBkZXRlbmVyIHNlZ3VpbWllbnRvIGRlc3B1w6lzIGRlIGR1cmF0aW9uXHJcbiAgICAgICAgc2NlbmUudGltZS5kZWxheWVkQ2FsbChkdXJhdGlvbk1zLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGZvbGxvd0V2ZW50LnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIGF0dGFja1Nwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Bw7FhZGlyIHB1bnR1YWNpw7NuXHJcbiAgICBhZGRTY29yZSh2YWx1ZSkge1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlICs9IHZhbHVlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RoaXMuaWR9IHJlY29nacOzIHVuIENodXJybyDihpIgc2NvcmU6ICR7dGhpcy5zY29yZX1gKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FwbGljYXIgcG93ZXItdXBcclxuICAgIGFwcGx5TW9kaWZpZXIocHJvcGVydHksIGFtb3VudCwgZHVyYXRpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYExhIHByb3BpZWRhZCAke3Byb3BlcnR5fSBubyBleGlzdGUgZW4gbGEgcGFsb21hLmApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzW3Byb3BlcnR5XSArPSBhbW91bnQ7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiBkdXJhdGlvbixcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldIC09IGFtb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEdhbWVTY2VuZShnYW1lU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlUGlnZW9uQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHBpZ2VvbiwgbW92ZVggPSAwLCBqdW1wID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uID0gcGlnZW9uO1xyXG4gICAgICAgIHRoaXMubW92ZVggPSBtb3ZlWDtcclxuICAgICAgICB0aGlzLmp1bXAgPSBqdW1wO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgY29uc3QgcGlnZW9uID0gdGhpcy5waWdlb247XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gcGlnZW9uLnNwcml0ZTtcclxuXHJcbiAgICAgICAgLy9TaSBlc3TDoSBzdHVuYWRvIG5vIHBlcm1pdGUgbW92ZXJzZSBuaSByZXByb2R1Y2lyIGNhbWluYXRhXHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5zdHVubmVkKSB7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCdpZGxlJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRmxpcCBzZWfDum4gbW92aW1pZW50bywgdGVuaWVuZG8gZW4gY3VlbnRhIHNwcml0ZXMgaW52ZXJ0aWRvc1xyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYID4gMCkge1xyXG4gICAgICAgICAgICBwaWdlb24uZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubW92ZVggPCAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tb3ZlWCAhPT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkRmxpcCA9IHBpZ2Vvbi5pbnZlcnRGbGlwRm9yTW92ZW1lbnQgPyAodGhpcy5tb3ZlWCA+IDApIDogKHRoaXMubW92ZVggPCAwKTtcclxuICAgICAgICAgICAgc3ByaXRlLnNldEZsaXBYKGRlc2lyZWRGbGlwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVmVsb2NpZGFkIGhvcml6b250YWxcclxuICAgICAgICBzcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVggKiBwaWdlb24uc3BlZWQpO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgYW5pbWFjacOzbiBjb3JyZWN0YVxyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5wbGF5QW5pbWF0aW9uKCd3YWxrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ2lkbGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2FsdGFyIMO6bmljYW1lbnRlIHNpIGVzdMOhIGVuIGVsIHN1ZWxvXHJcbiAgICAgICAgaWYgKHRoaXMuanVtcCkge1xyXG4gICAgICAgICAgICBjb25zdCBib2R5ID0gc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9uR3JvdW5kID0gYm9keSAmJiAodHlwZW9mIGJvZHkub25GbG9vciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgPyBib2R5Lm9uRmxvb3IoKVxyXG4gICAgICAgICAgICAgICAgOiAoKGJvZHkuYmxvY2tlZCAmJiBib2R5LmJsb2NrZWQuZG93bikgfHwgKGJvZHkudG91Y2hpbmcgJiYgYm9keS50b3VjaGluZy5kb3duKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9uR3JvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBzcHJpdGUuc2V0VmVsb2NpdHlZKC1waWdlb24uanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0NvbW1hbmR9IGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZ2FtZVNjZW5lLCBpc1BhdXNlZCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGlzUGF1c2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUuc2V0UGF1c2VTdGF0ZSh0aGlzLmlzUGF1c2VkKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRhY2tQaWdlb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwaWdlb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uID0gcGlnZW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnBpZ2Vvbi5zY2VuZTtcclxuICAgICAgICBjb25zdCBub3cgPSBzY2VuZS50aW1lLm5vdztcclxuXHJcbiAgICAgICAgLy9ObyBwdWVkZSBhdGFjYXIgc2kgZXN0w6Egc3R1bmFkYVxyXG4gICAgICAgIGlmICh0aGlzLnBpZ2Vvbi5zdHVubmVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vQ29tcHJvYmFyIHNpIHB1ZWRlIGF0YWNhclxyXG4gICAgICAgIGlmICghdGhpcy5waWdlb24uY2FuQXR0YWNrKG5vdykpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9NYXJjYXIgYXRhcXVlXHJcbiAgICAgICAgdGhpcy5waWdlb24ubWFya0F0dGFja2VkKG5vdyk7XHJcbiAgICAgICAgdGhpcy5waWdlb24uc3RhcnRBdHRhY2tBbmltYXRpb24oKTtcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5zaG93QXR0YWNrU3ByaXRlKDI1MCk7XHJcbiAgICAgICAgc2NlbmUuc291bmQucGxheSgnU29uaWRvQXRhcXVlJywgeyB2b2x1bWU6IDAuNyB9KTtcclxuXHJcbiAgICAgICAgLy9EaXJlY2Npw7NuIGEgbGEgcXVlIGF0YWNhXHJcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5waWdlb24uZmFjaW5nID09PSAncmlnaHQnID8gMSA6IC0xO1xyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBpZ2Vvbi5zcHJpdGUueCArIGRpciAqIHRoaXMucGlnZW9uLmF0dGFja1JhbmdlO1xyXG4gICAgICAgIGNvbnN0IHkgPSB0aGlzLnBpZ2Vvbi5zcHJpdGUueTtcclxuXHJcbiAgICAgICAgLy9DcmVhciBoaXRib3ggZsOtc2ljbyB0ZW1wb3JhbCAoaW52aXNpYmxlKVxyXG4gICAgICAgIGNvbnN0IGhpdGJveCA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCBudWxsKTtcclxuICAgICAgICBoaXRib3guc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgaGl0Ym94LmJvZHkuc2V0QWxsb3dHcmF2aXR5KGZhbHNlKTtcclxuICAgICAgICBoaXRib3guYm9keS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgaGl0Ym94LnNldFNpemUodGhpcy5waWdlb24uYXR0YWNrUmFuZ2UsIHRoaXMucGlnZW9uLmJhc2VIZWlnaHQgKiAwLjYpO1xyXG5cclxuICAgICAgICAvL0NvbXByb2JhciBjb2xpc2lvbmVzIGNvbiBvdHJhcyBwYWxvbWFzXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoaGl0Ym94LCBzY2VuZS5wbGF5ZXJTcHJpdGVzLCAoaGIsIHRhcmdldFNwcml0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0U3ByaXRlID09PSB0aGlzLnBpZ2Vvbi5zcHJpdGUpIHJldHVybjtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGlnZW9uID0gdGFyZ2V0U3ByaXRlLnBpZ2VvbjtcclxuICAgICAgICAgICAgaWYgKCF0YXJnZXRQaWdlb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vS25vY2tiYWNrIHNlZ8O6biBkaXJlY2Npw7NuIGRlbCBhdGFjYW50ZVxyXG4gICAgICAgICAgICBjb25zdCBrbm9jayA9IHRoaXMucGlnZW9uLmF0dGFja0ZvcmNlICogZGlyO1xyXG5cclxuICAgICAgICAgICAgLy9TVFVOIHkga25vY2tiYWNrXHJcbiAgICAgICAgICAgIHRhcmdldFBpZ2Vvbi5zdHVuKHRoaXMucGlnZW9uLnN0dW5Gb3JjZSk7XHJcbiAgICAgICAgICAgIHRhcmdldFBpZ2Vvbi50YWtlSGl0KGtub2NrKTtcclxuXHJcbiAgICAgICAgICAgIC8vRXZpdGFyIG3Dumx0aXBsZXMgaW1wYWN0b3MgcG9yIGVsIG1pc21vIGF0YXF1ZVxyXG4gICAgICAgICAgICBpZiAob3ZlcmxhcCAmJiBzY2VuZS5waHlzaWNzICYmIHNjZW5lLnBoeXNpY3Mud29ybGQpIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lLnBoeXNpY3Mud29ybGQucmVtb3ZlQ29sbGlkZXIob3ZlcmxhcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9EZXN0cnVpciBoaXRib3ggcGFzYWRvIHVuIHRpZW1wbyBjb3J0b1xyXG4gICAgICAgIHNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTIwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvdmVybGFwICYmIHNjZW5lLnBoeXNpY3MgJiYgc2NlbmUucGh5c2ljcy53b3JsZCkge1xyXG4gICAgICAgICAgICAgICAgc2NlbmUucGh5c2ljcy53b3JsZC5yZW1vdmVDb2xsaWRlcihvdmVybGFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaGl0Ym94ICYmIGhpdGJveC5kZXN0cm95KSBoaXRib3guZGVzdHJveSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCBzcHJpdGUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHNwcml0ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGlzcGxheVNpemUoNDAsIDQwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRJbW1vdmFibGUodHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmV4cGlyZVRpbWVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL0Z1bmNpw7NuIGdlbsOpcmljYSBwYXJhIGFwbGljYXIgZWwgZWZlY3RvIGRlbCDDrXRlbVxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwiYXBwbHlFZmZlY3QoKSBubyBpbXBsZW1lbnRhZG8gZW4gZWwgaXRlbVwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NyZWFyIHkgbW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cCBkZWJham8gZGVsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICBzaG93SXRlbUljb24ocGlnZW9uLCBpY29uS2V5LCBkdXJhdGlvbikge1xyXG5cclxuICAgICAgICAvL0xpbXBpYXIgY3VhbHF1aWVyIGljb25vIGFudGVyaW9yIGRlbCBwaWdlb25cclxuICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblRpbWVyKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Qb3NpY2lvbmFyIGVsIGljb25vIHJlbGF0aXZvIGFsIHRleHRvIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgbGV0IGljb25YID0gbnVsbDtcclxuICAgICAgICBsZXQgaWNvblkgPSA4NTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5zY29yZVRleHRQMSAmJiB0aGlzLnNjZW5lLnNjb3JlVGV4dFAyKSB7XHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyB0aGlzLnNjZW5lLnNjb3JlVGV4dFAxLnggKyAyNSA6IHRoaXMuc2NlbmUuc2NvcmVUZXh0UDIueCArIDE3NTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL0ZhbGxiYWNrIGEgY29vcmRlbmFkYXMgY29ub2NpZGFzXHJcbiAgICAgICAgICAgIGljb25YID0gcGlnZW9uLmlkID09PSAncGxheWVyMScgPyA0MCA6IDg1MDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gdGhpcy5zY2VuZS5hZGQuaW1hZ2UoaWNvblgsIGljb25ZLCBpY29uS2V5KTtcclxuICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5zZXREaXNwbGF5U2l6ZSg1MCwgNTApO1xyXG5cclxuICAgICAgICAvL0d1YXJkYXIgdW4gdGltZXIgZW4gZWwgcGlnZW9uIHBhcmEgZWxpbWluYXIgZWwgaWNvbm8gYWwgZXhwaXJhclxyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogZHVyYXRpb24sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblRpbWVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQge0l0ZW19IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBDaHVycm8gZXh0ZW5kcyBJdGVtIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwnY2h1cnJvU2hlZXQnKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KCdjaHVycm9fYW5pbScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbil7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9DaHVycm8nLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGlnZW9uLmFkZFNjb3JlKDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBBdmVuYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdhdmVuYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBmb3JjZUJvb3N0ID0gMzAwO1xyXG4gICAgICAgIGNvbnN0IHN0dW5Cb29zdCA9IDEwMDA7XHJcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSA1MDAwO1xyXG5cclxuICAgICAgICAvL1JlcHJvZHVjaXIgc29uaWRvIGRlIHJlY29naWRhIGRlIGxhIGF2ZW5hXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9BdmVuYScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwXHJcbiAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvbkF2ZW5hJywgZHVyYXRpb24pO1xyXG5cclxuICAgICAgICAvL0FwbGljYXIgcG90ZW5jaWEgZWxldmFkYVxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdhdHRhY2tGb3JjZScsIGZvcmNlQm9vc3QsIGR1cmF0aW9uKTtcclxuICAgICAgICBwaWdlb24uYXBwbHlNb2RpZmllcignc3R1bkZvcmNlJywgc3R1bkJvb3N0LCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBQbHVtYSBleHRlbmRzIEl0ZW0ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHksICdwbHVtYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBpbmNyZWFzZSA9IDIwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgcGx1bWFcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb1BsdW1hJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL01vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXBcclxuICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uUGx1bWEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciBhdW1lbnRvIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIGluY3JlYXNlLCBkdXJhdGlvbik7XHJcblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEl0ZW0gfSBmcm9tICcuL0l0ZW0uanMnXHJcblxyXG5leHBvcnQgY2xhc3MgQmFzdXJhIGV4dGVuZHMgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ2Jhc3VyYScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5RWZmZWN0KHBpZ2Vvbikge1xyXG5cclxuICAgICAgICBjb25zdCBkZWNyZWFzZSA9IDEwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgYmFzdXJhXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9CYXN1cmEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cFxyXG4gICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25CYXN1cmEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciByZWR1Y2Npw7NuIGRlIHZlbG9jaWRhZFxyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzcGVlZCcsIC1kZWNyZWFzZSwgZHVyYXRpb24pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQaWdlb24gfSBmcm9tICcuLi9lbnRpdGllcy9QaWdlb24uanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBQYXVzZUNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9QYXVzZUNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBBdHRhY2tQaWdlb25Db21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IENodXJybyB9IGZyb20gJy4uL2VudGl0aWVzL0NodXJyby5qcyc7XHJcbmltcG9ydCB7IEF2ZW5hIH0gZnJvbSAnLi4vZW50aXRpZXMvQXZlbmEuanMnO1xyXG5pbXBvcnQgeyBQbHVtYSB9IGZyb20gJy4uL2VudGl0aWVzL1BsdW1hLmpzJztcclxuaW1wb3J0IHsgQmFzdXJhIH0gZnJvbSAnLi4vZW50aXRpZXMvQmFzdXJhLmpzJztcclxuXHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb25lcyBkZSBhcGFyaWNpw7NuIGRlIG9iamV0b3MgeSBjaHVycm9zXHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgeDogNTYwLCB5OiA0NSB9LFxyXG4gICAgICAgICAgICB7IHg6IDQxNSwgeTogMjAwIH0sXHJcbiAgICAgICAgICAgIHsgeDogNzkwLCB5OiAxMTUgfSxcclxuICAgICAgICAgICAgeyB4OiA3OTAsIHk6IDI4MCB9LFxyXG4gICAgICAgICAgICB7IHg6IDEyNiwgeTogMTE1IH0sXHJcbiAgICAgICAgICAgIHsgeDogMTI2LCB5OiAyODAgfSxcclxuICAgICAgICAgICAgeyB4OiA1NjAsIHk6IDQ1NSB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtcclxuICAgICAgICAgICAgJ2F2ZW5hJyxcclxuICAgICAgICAgICAgJ2Jhc3VyYScsXHJcbiAgICAgICAgICAgICdwbHVtYSdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vU3ByaXRlcyBlIGltw6FnZW5lcyBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvc3ByaXRlcy9iYWNrZ3JvdW5kLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbicsICdhc3NldHMvc3ByaXRlcy9wYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZG92ZW5hbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL2RvdmVuYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NodXJybycsICdhc3NldHMvc3ByaXRlcy9DaHVycm8gSkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvQXZlbmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbHVtYScsICdhc3NldHMvc3ByaXRlcy9QbHVtYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2Jhc3VyYScsICdhc3NldHMvc3ByaXRlcy9CYXN1cmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG9BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhbG9tb25BdHRhY2snLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl9hdHRhY2sucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uUGx1bWEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9mYXN0LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWNvbkJhc3VyYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3Nsb3cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQXZlbmEnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9zdHJvbmcucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX3AnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9QYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSWNvbl9kJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fRG92ZW5hbmRvLnBuZycpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgeSBzb25pZG9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdOdW1iJywgJ2Fzc2V0cy9zb3VuZHMvTnVtYi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb1BsdW1hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvUGx1bWEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9DaHVycm8nLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9DaHVycm8ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9CYXN1cmEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9CYXN1cmEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdGFxdWUnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9BdGFxdWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdTb25pZG9BdmVuYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0FscGlzdGUubXAzJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vblNoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsay5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDY2LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogNjZcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ2RvdmVuYW5kb1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL0RvdmVuYW5kb193YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnY2h1cnJvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvQ2h1cnJvIEpFUi1zaGVldC5wbmcnLCB7XHJcbiAgICAgICAgICAgIGZyYW1lV2lkdGg6IDI1LFxyXG4gICAgICAgICAgICBmcmFtZUhlaWdodDogMjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoJ3BhbG9tb25BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGtfbm9XaW5nLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuY29ubmVjdGVkICYmIHRoaXMuc2NlbmUuaXNBY3RpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25Mb3N0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2JhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy9NdXNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTnVtYicsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXRmb3JtcygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICB0aGlzLnBpZ2VvbkluZGljYXRvcnMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fZCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSksXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMuYWRkLmltYWdlKDEwLCA2MCwgJ0ljb25fcCcpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDk5OSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL0FuaW1hY2lvbmVzIGRlIGxvcyBzcHJpdGVzaGVldHNcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAncGFsb21vblNoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vblNoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9faWRsZScsXHJcbiAgICAgICAgICAgIGZyYW1lczogW3sga2V5OiAnZG92ZW5hbmRvU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaHVycm9fYW5pbScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2h1cnJvU2hlZXQnLCB7IHN0YXJ0OiAwLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ3BhbG9tb25fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2RvdmVuYW5kb0F0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vUHVudHVhY2lvbmVcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxID0gdGhpcy5hZGQudGV4dCgxMCwgMjAsICdEb3ZlbmFuZG86IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDIgPSB0aGlzLmFkZC50ZXh0KDc1MCwgMjAsICdQYWxvbcOzbjogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzID0gdGhpcy5waHlzaWNzLmFkZC5ncm91cCgpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyU3ByaXRlcy5hZGQocGlnZW9uLnNwcml0ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ29saXNpb25lcyBlbnRyZSBwYWxvbWFzIHkgcGxhdGFmb3JtYXNcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF0Zm9ybXMpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxheWVyU3ByaXRlcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXNjS2V5ID0gdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkVTQyk7XHJcblxyXG4gICAgICAgIC8vQ2FkYSA1IHNlZ3VuZG9zIGludGVudGFyIGdlbmVyYXIgdW4gY2h1cnJvXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDUwMDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaHVycm8gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwYXduSXRlbShcImNodXJyb1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NhZGEgNyBzZWd1bmRvcyBpbnRlbnRhciBnZW5lcmFyIHVuIGNodXJyb1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiA3MDAwLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25JdGVtKFBoYXNlci5VdGlscy5BcnJheS5HZXRSYW5kb20odGhpcy5wb3dlclVwcykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3NodXRkb3duJywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignZGVzdHJveScsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNyZWF0ZVBsYXRmb3JtcygpIHtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtcyA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljR3JvdXAoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgYXJyaWJhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDU0MCwgODAsIG51bGwpLnNldERpc3BsYXlTaXplKDIyMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYSBwZXF1ZcOxb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzMTAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGVuIG1lZGlvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDQxNSwgMjM3LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpbyBwZXF1ZcOxb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NTAsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1N1ZWxvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDQ4MCwgNTEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg5NjAsIDYwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0NhbWlzZXRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDY0MCwgMzYwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg5MCwgNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QYW50YWxvbmVzXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDM0NSwgMzY1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMDAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vTMOtbWl0ZSBpenF1aWVyZG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzMsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vTMOtbWl0ZSBkZXJlY2hvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDkyNywgNDMwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg3MCwgMTIwMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9BY2VyYSBpenF1aWVyZGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODksIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9BY2VyYSBkZXJlY2hhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg3MCwgNDc1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMDAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgZGVyZWNoYSBzdXBlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4MzIsIDE0NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgaW5mZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAzMTMsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBpenF1aWVyZGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMTI2LCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBpenF1aWVyZGEgaW5mZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMTI2LCAzMTMsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL0NvbmZpZ3VyYWNpw7NuIGRlIHBhbG9tYXMgeSBjb250cm9sZXNcclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBsZWZ0UGlnZW9uID0gbmV3IFBpZ2Vvbih0aGlzLCAncGxheWVyMScsIDE1MCwgNDM1LCAnZG92ZW5hbmRvJyk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRQaWdlb24gPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIyJywgODAwLCA0MzUsICdwYWxvbW9uJyk7XHJcblxyXG4gICAgICAgIHJpZ2h0UGlnZW9uLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgcmlnaHRQaWdlb24uZmFjaW5nID0gJ2xlZnQnO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgbGVmdFBpZ2Vvbik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHJpZ2h0UGlnZW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0YnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnU0hJRlQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBJbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmF0dGFja0tleV0pLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vR2VuZXJhciB1biBvYmpldG8gZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgZGlzcG9uaWJsZVxyXG4gICAgc3Bhd25JdGVtKHR5cGUpIHtcclxuXHJcbiAgICAgICAgbGV0IHJlZk5hbWUgPSBudWxsO1xyXG4gICAgICAgIGxldCBJdGVtQ2xhc3MgPSBudWxsO1xyXG5cclxuICAgICAgICAvL0RlY2lkaXIgcXXDqSBjbGFzZSBpbnN0YW5jaWFyIHkgcXXDqSByZWZlcmVuY2lhIHVzYXJcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBcImNodXJyb1wiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwiY2h1cnJvXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBDaHVycm87XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJhdmVuYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQXZlbmE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJwbHVtYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gUGx1bWE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJiYXN1cmFcIjpcclxuICAgICAgICAgICAgICAgIHJlZk5hbWUgPSBcInBvd2VyVXBcIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IEJhc3VyYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRpcG8gZGVzY29ub2NpZG86XCIsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlUG9zaXRpb25zID0gdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMuZmlsdGVyKHBvcyA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL0V2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IGNodXJyb1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaHVycm8gJiYgdGhpcy5jaHVycm8uc3ByaXRlLnggPT09IHBvcy54ICYmIHRoaXMuY2h1cnJvLnNwcml0ZS55ID09PSBwb3MueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBFdml0YXIgcG9zaWNpw7NuIGRvbmRlIGhheSBwb3dlci11cFxyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwICYmIHRoaXMucG93ZXJVcC5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5wb3dlclVwLnNwcml0ZS55ID09PSBwb3MueSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9FbGVnaXIgdW5hIHBvc2ljacOzbiBhbCBhemFyXHJcbiAgICAgICAgY29uc3QgcG9zID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbShhdmFpbGFibGVQb3NpdGlvbnMpO1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW1DbGFzcyh0aGlzLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgICAgIHRoaXNbcmVmTmFtZV0gPSAoaXRlbSk7XHJcblxyXG4gICAgICAgIC8vQWN0aXZhciBvdmVybGFwIGNvbiBhbWJvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwaWdlb24gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgICAgICBwaWdlb24uc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgaXRlbS5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSXRlbVBpY2t1cCxcclxuICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGlmIChyZWZOYW1lID09PSBcInBvd2VyVXBcIikge1xyXG5cclxuICAgICAgICAgICAgLy9UaWVtcG8gZGUgdmlkYSBkZWwgcG93ZXItdXAgXHJcbiAgICAgICAgICAgIGNvbnN0IGxpZmV0aW1lID0gOTAwMDtcclxuXHJcbiAgICAgICAgICAgIC8vR3VhcmRhciBlbCB0aW1lciBlbiBlbCBwcm9waW8gb2JqZXRvIHBhcmEgcG9kZXIgY2FuY2VsYXJsbyBzaSBoYWNlIGZhbHRhXHJcbiAgICAgICAgICAgIGl0ZW0uZXhwaXJlVGltZXIgPSB0aGlzLnRpbWUuZGVsYXllZENhbGwobGlmZXRpbWUsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwID09PSBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9NYW5lam8gZGUgcmVjb2dpZGEgZGUgb2JqZXRvc1xyXG4gICAgb25JdGVtUGlja3VwKHBpZ2VvblNwcml0ZSwgaXRlbVNwcml0ZSkge1xyXG5cclxuICAgICAgICBsZXQgcGxheWVySWQgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGlnZW9uLnNwcml0ZSA9PT0gcGlnZW9uU3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZCA9IGlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghcGxheWVySWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgcGlnZW9uID0gdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZCk7XHJcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbUJ5U3ByaXRlKGl0ZW1TcHJpdGUpO1xyXG5cclxuICAgICAgICBpdGVtLmFwcGx5RWZmZWN0KHBpZ2Vvbik7XHJcblxyXG4gICAgICAgIC8vQWN0dWFsaXphciBwdW50dWFjaW9uZXNcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAxLnNldFRleHQoJ0RvdmVuYW5kbzogJyArIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zY29yZSk7XHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMi5zZXRUZXh0KCdQYWxvbcOzbjogJyArIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zY29yZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVsZXRlSXRlbShpdGVtKTtcclxuICAgICAgICBpZiAocGlnZW9uLnNjb3JlID49IDUpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIEVuZEdhbWVTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnRW5kR2FtZVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogeyB3aW5uZXJJZDogcGxheWVySWQgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9EZXZ1ZWx2ZSBlbCBvYmpldG8gYWwgcXVlIHBlcnRlbmVjZSB1biBzcHJpdGVcclxuICAgIGdldEl0ZW1CeVNwcml0ZShzcHJpdGUpIHtcclxuICAgICAgICBpZiAodGhpcy5jaHVycm8gJiYgdGhpcy5jaHVycm8uc3ByaXRlID09PSBzcHJpdGUpIHJldHVybiB0aGlzLmNodXJybztcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwICYmIHRoaXMucG93ZXJVcC5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMucG93ZXJVcDtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvL0VsaW1pbmEgZGUgbGEgZXNjZW5hIHVuIG9iamV0byBkYWRvXHJcbiAgICBkZWxldGVJdGVtKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5jaHVycm8pIHtcclxuICAgICAgICAgICAgdGhpcy5jaHVycm8uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNodXJybyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5wb3dlclVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vRXN0YWJsZWNlIGVsIGVzdGFkbyBkZSBwYXVzYSBkZWwganVlZ29cclxuICAgIHNldFBhdXNlU3RhdGUoaXNQYXVzZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVBhdXNlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nYW1lRW5kZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3UGF1c2VkU3RhdGUgPSAhdGhpcy5pc1BhdXNlZDtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgIG5ldyBQYXVzZUNvbW1hbmQodGhpcywgbmV3UGF1c2VkU3RhdGUpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBpZiAoIXBpZ2VvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0w6Egc3R1bmFkYSBubyBwdWVkZSBoYWNlciBuYWRhOiBkZXRlbmVyIG1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vUGVybWl0aXIga25vY2tiYWNrIGR1cmFudGUgdW4gY29ydG8gcGVyaW9kbyB0cmFzIHJlY2liaXIgZWwgZ29scGVcclxuICAgICAgICAgICAgICAgIGlmICghcGlnZW9uLmtub2NrYmFja0V4cGlyZSB8fCB0aGlzLnRpbWUubm93ID4gcGlnZW9uLmtub2NrYmFja0V4cGlyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bGFyIG1vdmltaWVudG8gaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBsZXQgbW92ZVggPSAwO1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikgbW92ZVggPSAtMTtcclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIG1vdmVYID0gMTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGp1bXAgPSBtYXBwaW5nLnVwS2V5T2JqLmlzRG93bjtcclxuXHJcbiAgICAgICAgICAgIC8vRW52aWFyIGNvbWFuZG8gY29uIG1vdmltaWVudG8gaG9yaXpvbnRhbCB5IHNhbHRvXHJcbiAgICAgICAgICAgIGxldCBtb3ZlQ29tbWFuZCA9IG5ldyBNb3ZlUGlnZW9uQ29tbWFuZChwaWdlb24sIG1vdmVYLCBqdW1wKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2Vzcyhtb3ZlQ29tbWFuZCk7XHJcblxyXG4gICAgICAgICAgICAvL0F0YXF1ZVxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5hdHRhY2tLZXlPYmogJiYgbWFwcGluZy5hdHRhY2tLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2tDbWQgPSBuZXcgQXR0YWNrUGlnZW9uQ29tbWFuZChwaWdlb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzb3IucHJvY2VzcyhhdHRhY2tDbWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGlnZW9uLCBpZCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGljYXRvciA9IHRoaXMucGlnZW9uSW5kaWNhdG9yc1tpZF07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHJpdGUgPSBwaWdlb24uc3ByaXRlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUueSA8IC01KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TaSBsYSBwYWxvbWEgZXN0YSBmdWVyYSBwb3IgYXJyaWJhIG11ZXN0cmEgZWwgaW5kaWNhZG9yXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnggPSBzcHJpdGUueDtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IueSA9IDUwO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TaSB2dWVsdmUgYSBlbnRyYXIgc2Ugb2N1bHRhIGVsIGljb25vXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9yLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIC8vRWxpbWluYXIgbcO6c2ljYSBhbCBjZXJyYXIgbGEgZXNjZW5hIHkgY2VycnJhciBsaXN0ZW5lcnNcclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vRm9uZG8gc2VtaXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0ODAsIDI3MCwgOTYwLCA1NDAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjAwLCAnR2FtZSBQYXVzZWQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQm90b24gcGFyYSByZWFudWRhciBlbCBqdWVnb1xyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDI1MCwgNDMwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IHJlc3VtZUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDI1MCwgNDMwLCAnUmVzdW1lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgcmVzdW1lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJlc3VtZUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHJlc3VtZUJ0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IHJlc3VtZUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5nZXQoZGF0YS5vcmlnaW5hbFNjZW5lKS5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90b24gcGFyYSB2b2x2ZXIgYWwgbWVudSBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBtZW51QnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNzAwLCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KDcwMCwgNDMwLCAnUmV0dXJuIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIE1lbnVTY2VuZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3MgeSBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnZm9uZG9QdlAnKS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdDcmVkaXRzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTUwLCAnR2FtZSBkZXZlbG9wZWQgYnkgR0IzRCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyNTAsICdBcnRpc3Q6Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyOTAsICdIdWdvIENoZWNhJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDM1MCwgJ1Byb2dyYW1tZXJzOicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzkwLCAnQWxlamFuZHJvIE1hcsOtbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0MjUsICdMdWNhcyBMb3JlbnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQ2MCwgJ01pZ3VlbCBBbWFkbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDUxMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA1MTAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NvbnRyb2xzU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdmb25kbycpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdDb250cm9scycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzIEp1Z2Fkb3IgMVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNTAsICdQbGF5ZXIgMScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgJ01vdmU6IFcgLSBBIC0gRCAoVXAsIExlZnQsIFJpZ2h0KScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjQwLCAnQXR0YWNrOiBGJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzMDAsICdQYXVzZTogRXNjJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlcyBKdWdhZG9yIDJcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzYwLCAnUGxheWVyIDIgKExvY2FsKScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQxMCwgJ01vdmU6IOKGkSAtIOKGkCAtIOKGkiAoVXAsIExlZnQsIFJpZ2h0KScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQXR0YWNrOiBTaGlmdCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDUwMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA1MDAsICdCYWNrIHRvIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy9Bc2VndXJhciBxdWUgbGEgY8OhbWFyYSBlc3TDoSB0b3RhbG1lbnRlIHZpc2libGUgYW50ZXMgZGUgZW1wZXphciBlbCBmYWRlLW91dFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU3dlZXRWaWN0b3J5JywgJ2Fzc2V0cy9zb3VuZHMvU3dlZXRWaWN0b3J5Lm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnRG92ZW5hbmRvVmljdG9yeScsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSB2aWN0b3JpYSBkb3ZlbmFuZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQYWxvbW9uVmljdG9yeScsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSB2aWN0b3JpYSBwYWxvbW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVySXNQMSA9IGRhdGEud2lubmVySWQgPT09ICdwbGF5ZXIxJztcclxuICAgICAgICBjb25zdCBiZ0tleSA9IHdpbm5lcklzUDEgPyAnRG92ZW5hbmRvVmljdG9yeScgOiAnUGFsb21vblZpY3RvcnknO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgYmdLZXkpO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3MgZGUgdmljdG9yaWFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjUwLCAnU1VQUkVNRSBWSUNUT1JZJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzEwMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNDQ0NGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDEwXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9IGRhdGEud2lubmVySWQgPT09ICdwbGF5ZXIxJyA/ICdEb3ZlbmFuZG8gV2lucyEnIDogJ1BhbG9tw7NuIFdpbnMhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnU3dlZXRWaWN0b3J5Jywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ2MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NjAsICdSZXR1cm4gdG8gbWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vUGFyYXIgbGEgbcO6c2ljYSBhbCBzYWxpciBkZSBsYSBlc2NlbmFcclxuICAgIG9uU2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdG9yeVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ1N0b3J5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBnZW5lcmFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDEyMCwgJ0luIHNvbWUgbmFtZWxlc3MgY2l0eSwgb24gYSBkYW1wIGFuZCBtdXJreSBuaWdodCwgdHdvIHBpZ2VvbnMgd2FuZGVyZWQgdGhyb3VnaCB0aGUgYWxsZXlzIGluIHNlYXJjaCBvZiBzb21ldGhpbmcgdG8gY2FsbSB0aGVpciBodW5nZXIuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA4MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNzAsICdUaGUgYWxsdXJpbmcgZnJhZ3JhbmNlIG9mIGEgZmV3IGZvcmdvdHRlbiBjaHVycm9zIGF3YWtlbnMgaW4gdGhlbSBhIGZpZXJjZSBibGVuZCBvZiBzdXJ2aXZhbCBhbmQgZ3JlZWQsIGFuZCBiZWZvcmUgbG9uZyB0aGUgc2l0dWF0aW9uIGVydXB0cyBpbnRvIG9wZW4gd2FyZmFyZS4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIzMCwgJ1Rob3VnaCB0aGVyZSBhcmUgbmVpdGhlciBoZXJvZXMgbm9yIHZpbGxhaW5zLCBlYWNoIGZpcm1seSBiZWxpZXZlcyB0aGF0IHRoZSBjaHVycm8gaXMgaGVycyBieSBiaXJ0aHJpZ2h0LiBNb3JhbGl0eSBmYWx0ZXJzLCBmcmllbmRzaGlwIGZhZGVz4oCmIHRoZXJlIGFyZSBvbmx5IGNodXJyb3MgbGVmdC4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBEb3ZlbmFuZG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIwMCwgMjcwLCAnRG92ZW5hbmRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgNDMwLCAnQSBjdW5uaW5nLCBzbGlwcGVyeSBiaXJkLCBza2lsbGVkIGluIHRoZSBhcnQgb2Ygc3RlYWx0aC4gSGlzIGd1aWRpbmcgcHJpbmNpcGxlOiBcIkFsbCBjaHVycm9zIGJlbG9uZyB0byBzb21lb25l4oCmIGFuZCB0aGF0IHNvbWVvbmUgaXMgbWUuXCInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjAwLCAzNDAsICdkb3ZlbmFuZG8nKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgxLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIFBhbG9tb25cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDc3MCwgMjcwLCAnUGFsb23Ds24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCA0MzAsICdBIHRvdWdoIHBpZ2VvbiB3aXRoIGEgZGFyayBoaXN0b3J5LiBIZSBvbmNlIGJlbG9uZ2VkIHRvIHRoZSBhdmlhbiBtYWZpYSBhbmQgaXMgd2VsbCBhY3F1YWludGVkIHdpdGggdGhlIHBlcmlscyBvZiB0aGUgc3RyZWV0cyBhbmQgZ2FuZyBmaWdodHMuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA0MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc3MCwgMzQwLCAncGFsb21vbicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9iYXInLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2Jhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9idXR0b24nLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2J1dHRvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvUHZQJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI0MCwgJ1ZvbHVtZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL1Bvc2ljacOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYmFyWCA9IDQ4MDtcclxuICAgICAgICBjb25zdCBiYXJZID0gMzAwO1xyXG5cclxuICAgICAgICAvL0JhcnJhXHJcbiAgICAgICAgY29uc3QgYmFyID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9iYXInKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoMzAwLCAyMClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9idXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoNDAsIDQwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0VzdGFibGVjZXIgcG9zaWNpw7NuIGluaWNpYWwgZGVsIGJvdMOzbiBzZWfDum4gdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICBidXR0b24ueCA9IGJhclggLSAxNTAgKyAodGhpcy5zb3VuZC52b2x1bWUgKiAzMDApO1xyXG5cclxuICAgICAgICAvL0ludGVyYWN0aXZpZGFkXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBvYmosIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAob2JqICE9PSBidXR0b24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vTGltaXRhciBtb3ZpbWllbnRvIGVuIFggYSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gYmFyWCAtIDE1MDtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBiYXJYICsgMTUwO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbGVmdCwgcmlnaHQpO1xyXG5cclxuICAgICAgICAgICAgLy9Db252ZXJ0aXIgcG9zaWNpw7NuIGEgdW4gdmFsb3IgMCAtIDFcclxuICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gKGJ1dHRvbi54IC0gbGVmdCkgLyAzMDA7XHJcblxyXG4gICAgICAgICAgICAvL0FwbGljYXIgdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL2Rlc2NvbmV4aW9uLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZXNjZW5hIHF1ZSBlc3RhYmEgYWN0aXZhIGN1YW5kbyBzZSBwZXJkacOzIGxhIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNTY2VuZSA9IGRhdGEucHJldmlvdXNTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gRm9uZG8gc2VtaS10cmFuc3BhcmVudGVcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDgwLCAyNzAsIDgwMCwgNjAwLCAweDAwMDAwMCwgMC44KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyMDAsICdDT05FWEnDk04gUEVSRElEQScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQ29udGFkb3IgZGUgaW50ZW50b3NcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzNTAsICdJbnRlbnRvczogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgcGFycGFkZWFudGVcclxuICAgICAgICB0aGlzLmRvdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMjAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZG90Q291bnQgPSAodGhpcy5kb3RDb3VudCArIDEpICUgNDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvdHMgPSAnLicucmVwZWF0KHRoaXMuZG90Q291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoYEludGVudGFuZG8gcmVjb25lY3RhciR7ZG90c31gKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25SZWNvbm5lY3RlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEludGVudGFyIHJlY29uZWN0YXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgICAgICB9LCAyMDAwKTtcclxuXHJcbiAgICAgICAgLy8gUHJpbWVyIGludGVudG8gaW5tZWRpYXRvXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXR0ZW1wdFJlY29ubmVjdCgpIHtcclxuICAgICAgICB0aGlzLmF0dGVtcHRDb3VudCsrO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQuc2V0VGV4dChgSW50ZW50b3M6ICR7dGhpcy5hdHRlbXB0Q291bnR9YCk7XHJcbiAgICAgICAgYXdhaXQgY29ubmVjdGlvbk1hbmFnZXIuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25SZWNvbm5lY3RlZCgpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGludGVydmFsXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmVyIGxpc3RlbmVyXHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplIGRlIMOpeGl0b1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCfCoUNvbmV4acOzbiByZXN0YWJsZWNpZGEhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhIGxhIGVzY2VuYSBhbnRlcmlvclxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgxMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSh0aGlzLnByZXZpb3VzU2NlbmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBlbCBpbnRlcnZhbCBhbCBjZXJyYXIgbGEgZXNjZW5hXHJcbiAgICAgICAgaWYgKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9iYnlTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcih7IGtleTogJ0xvYmJ5U2NlbmUnIH0pO1xyXG4gICAgdGhpcy53cyA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBjcmVhdGUoKSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuY2FtZXJhcy5tYWluLndpZHRoO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5jYW1lcmFzLm1haW4uaGVpZ2h0O1xyXG5cclxuICAgIC8vIFRpdGxlXHJcbiAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnT25saW5lIE11bHRpcGxheWVyJywge1xyXG4gICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0Nvbm5lY3RpbmcgdG8gc2VydmVyLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBQbGF5ZXIgY291bnQgdGV4dFxyXG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiArIDIwLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBjb2xvcjogJyMwMGZmMDAnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBDYW5jZWwgYnV0dG9uXHJcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTAwLCAnQ2FuY2VsJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZjY2NjYnLFxyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzMzMzMzJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmY2NjY2Jyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcicpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdXYWl0aW5nIGZvciBvcHBvbmVudC4uLicpO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Nvbm5lY3Rpb24gZXJyb3IhJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBQbGF5ZXJzIGluIHF1ZXVlOiAke2RhdGEucG9zaXRpb259LzJgKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2dhbWVTdGFydCc6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0dhbWUgc3RhcnRpbmchJywgZGF0YSk7XHJcbiAgICAgICAgLy8gU3RvcmUgZ2FtZSBkYXRhIGFuZCB0cmFuc2l0aW9uIHRvIG11bHRpcGxheWVyIGdhbWUgc2NlbmVcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllckdhbWVTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICAgIGluaXRpYWxCYWxsOiBkYXRhLmJhbGxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBpZ2VvbiB9IGZyb20gJy4uL2VudGl0aWVzL1BpZ2Vvbi5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IFBhdXNlQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IEF0dGFja1BpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzJztcclxuaW1wb3J0IHsgQ2h1cnJvIH0gZnJvbSAnLi4vZW50aXRpZXMvQ2h1cnJvLmpzJztcclxuaW1wb3J0IHsgQXZlbmEgfSBmcm9tICcuLi9lbnRpdGllcy9BdmVuYS5qcyc7XHJcbmltcG9ydCB7IFBsdW1hIH0gZnJvbSAnLi4vZW50aXRpZXMvUGx1bWEuanMnO1xyXG5pbXBvcnQgeyBCYXN1cmEgfSBmcm9tICcuLi9lbnRpdGllcy9CYXN1cmEuanMnO1xyXG5cclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllckdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5lc2NXYXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5jaHVycm8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vUG9zaWNpb25lcyBkZSBhcGFyaWNpw7NuIGRlIG9iamV0b3MgeSBjaHVycm9zXHJcbiAgICAgICAgdGhpcy5pdGVtU3Bhd25Qb3NpdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgeDogNTYwLCB5OiA0NSB9LFxyXG4gICAgICAgICAgICB7IHg6IDQxNSwgeTogMjAwIH0sXHJcbiAgICAgICAgICAgIHsgeDogNzkwLCB5OiAxMTUgfSxcclxuICAgICAgICAgICAgeyB4OiA3OTAsIHk6IDI4MCB9LFxyXG4gICAgICAgICAgICB7IHg6IDEyNiwgeTogMTE1IH0sXHJcbiAgICAgICAgICAgIHsgeDogMTI2LCB5OiAyODAgfSxcclxuICAgICAgICAgICAgeyB4OiA1NjAsIHk6IDQ1NSB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtcclxuICAgICAgICAgICAgJ2F2ZW5hJyxcclxuICAgICAgICAgICAgJ2Jhc3VyYScsXHJcbiAgICAgICAgICAgICdwbHVtYSdcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBXZWJTb2NrZXQgYW5kIHJvbGUgcGFzc2VkIHZpYSBzY2VuZSBkYXRhIChmcm9tIExvYmJ5U2NlbmUpXHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuc3lzLnNldHRpbmdzLmRhdGEgfHwge307XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3MgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGUgfHwgJ3BsYXllcjEnO1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVkSXRlbXMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy9TcHJpdGVzIGUgaW3DoWdlbmVzIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9zcHJpdGVzL2JhY2tncm91bmQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2h1cnJvJywgJ2Fzc2V0cy9zcHJpdGVzL0NodXJybyBKRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhdmVuYScsICdhc3NldHMvc3ByaXRlcy9BdmVuYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL1BsdW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0Jhc3VyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kb0F0dGFjaycsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbkF0dGFjaycsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25QbHVtYScsICdhc3NldHMvc3ByaXRlcy9JY29uX2Zhc3QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc2xvdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25BdmVuYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3N0cm9uZy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fcCcsICdhc3NldHMvc3ByaXRlcy9JY29uX1BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX2QnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9Eb3ZlbmFuZG8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vTcO6c2ljYSB5IHNvbmlkb3NcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ051bWInLCAnYXNzZXRzL3NvdW5kcy9OdW1iLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvUGx1bWEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9QbHVtYS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0NodXJybycsICdhc3NldHMvc291bmRzL3Nvbmlkb0NodXJyby5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0Jhc3VyYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0Jhc3VyYS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0F0YXF1ZScsICdhc3NldHMvc291bmRzL3Nvbmlkb0F0YXF1ZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0F2ZW5hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQWxwaXN0ZS5tcDMnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdwYWxvbW9uU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl93YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGsucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdjaHVycm9TaGVldCcsICdhc3NldHMvc3ByaXRlcy9DaHVycm8gSkVSLXNoZWV0LnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogMjUsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vbkF0dGFja1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsa19ub1dpbmcucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdkb3ZlbmFuZG9BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fd2Fsa19ub1dpbmcucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2JhY2tncm91bmQnKTtcclxuXHJcbiAgICAgICAgLy9NdXNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnTnVtYicsIHtcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJnTXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXRmb3JtcygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICAvLyBTaG93IGluaXRpYWwgcm9sZSB0ZXh0IChsZWZ0L3JpZ2h0KVxyXG4gICAgICAgIGNvbnN0IHJvbGVUZXh0ID0gdGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScgPyAnRXJlcyBsYSBwYWxvbWEgaXpxdWllcmRhJyA6ICdFcmVzIGxhIHBhbG9tYSBkZXJlY2hhJztcclxuICAgICAgICBjb25zdCByb2xlRGlzcGxheSA9IHRoaXMuYWRkLnRleHQoNDgwLCA0MCwgcm9sZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjUpJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyB4OiAxMCwgeTogNiB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEZhZGUgb3V0IGFmdGVyIDIuNXNcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjUwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnR3ZWVucy5hZGQoeyB0YXJnZXRzOiByb2xlRGlzcGxheSwgYWxwaGE6IDAsIGR1cmF0aW9uOiA2MDAsIG9uQ29tcGxldGU6ICgpID0+IHJvbGVEaXNwbGF5LmRlc3Ryb3koKSB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5waWdlb25JbmRpY2F0b3JzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX2QnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLmFkZC5pbWFnZSgxMCwgNjAsICdJY29uX3AnKS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCg5OTkpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9BbmltYWNpb25lcyBkZSBsb3Mgc3ByaXRlc2hlZXRzXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFt7IGtleTogJ3BhbG9tb25TaGVldCcsIGZyYW1lOiAwIH1dLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX3dhbGsnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3BhbG9tb25TaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX2lkbGUnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IFt7IGtleTogJ2RvdmVuYW5kb1NoZWV0JywgZnJhbWU6IDAgfV0sXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb193YWxrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdkb3ZlbmFuZG9TaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2h1cnJvX2FuaW0nLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NodXJyb1NoZWV0JywgeyBzdGFydDogMCwgZW5kOiAzIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdwYWxvbW9uX2F0dGFjaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygncGFsb21vbkF0dGFja1NoZWV0JywgeyBzdGFydDogMSwgZW5kOiAzIH0pLCAvLyBhanVzdGEgZW5kIHNpIGhheSBtw6FzIGZyYW1lc1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9fYXR0YWNrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdkb3ZlbmFuZG9BdHRhY2tTaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSwgLy8gYWp1c3RhIGVuZCBzaSBoYXkgbcOhcyBmcmFtZXNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvL1B1bnR1YWNpb25lXHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMSA9IHRoaXMuYWRkLnRleHQoMTAsIDIwLCAnRG92ZW5hbmRvOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyID0gdGhpcy5hZGQudGV4dCg3NTAsIDIwLCAnUGFsb23Ds246IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA2XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyU3ByaXRlcyA9IHRoaXMucGh5c2ljcy5hZGQuZ3JvdXAoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwaWdlb24gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllclNwcml0ZXMuYWRkKHBpZ2Vvbi5zcHJpdGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0NvbGlzaW9uZXMgZW50cmUgcGFsb21hcyB5IHBsYXRhZm9ybWFzXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLnBsYXllclNwcml0ZXMsIHRoaXMucGxhdGZvcm1zKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJTcHJpdGVzLCB0aGlzLnBsYXllclNwcml0ZXMpO1xyXG5cclxuICAgICAgICB0aGlzLmVzY0tleSA9IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5FU0MpO1xyXG5cclxuICAgICAgICAvLyBOT1RFOiBJdGVtIHNwYXduaW5nIGFuZCBhdXRob3JpdGF0aXZlIGdhbWUgbG9naWMgbW92ZWQgdG8gc2VydmVyLlxyXG4gICAgICAgIC8vIENsaWVudCBubyBsb25nZXIgc3Bhd25zIGl0ZW1zIGxvY2FsbHk7IHNlcnZlciB3aWxsIHNlbmQgc3Bhd24vc3RhdGUgbWVzc2FnZXMuXHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBXZWJTb2NrZXQgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ0Nvbm5lY3Rpb25Mb3N0U2NlbmUnLCB7IHByZXZpb3VzU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjcmVhdGVQbGF0Zm9ybXMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY0dyb3VwKCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGFycmliYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg1NDAsIDgwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMjAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmEgcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzEwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAsIDIwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBlbiBtZWRpb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0MTUsIDIzNywgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW8gcGVxdWXDsW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjUwLCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9TdWVsb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg0ODAsIDUxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoOTYwLCA2MCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9DYW1pc2V0YVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg2NDAsIDM2MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoOTAsIDUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGFudGFsb25lc1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzNDUsIDM2NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTAwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgaXpxdWllcmRvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMzLCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0zDrW1pdGUgZGVyZWNob1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg5MjcsIDQzMCwgbnVsbCkuc2V0RGlzcGxheVNpemUoNzAsIDEyMDApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgaXpxdWllcmRhXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDg5LCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQWNlcmEgZGVyZWNoYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4NzAsIDQ3NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjAwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGRlcmVjaGEgc3VwZXJpb3JcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODMyLCAxNDUsIG51bGwpLnNldERpc3BsYXlTaXplKDEzMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgaXpxdWllcmRhIGluZmVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDEyNiwgMzEzLCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9Db25maWd1cmFjacOzbiBkZSBwYWxvbWFzIHkgY29udHJvbGVzXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgbGVmdFBpZ2VvbiA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjEnLCAxNTAsIDQzNSwgJ2RvdmVuYW5kbycpO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0UGlnZW9uID0gbmV3IFBpZ2Vvbih0aGlzLCAncGxheWVyMicsIDgwMCwgNDM1LCAncGFsb21vbicpO1xyXG5cclxuICAgICAgICByaWdodFBpZ2Vvbi5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHJpZ2h0UGlnZW9uLmZhY2luZyA9ICdsZWZ0JztcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIGxlZnRQaWdlb24pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCByaWdodFBpZ2Vvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdGJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ1NISUZUJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gSW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5hdHRhY2tLZXldKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICBpZiAoIXRoaXMud3MpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ2luaXQnOlxyXG4gICAgICAgICAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZSBmcm9tIHNlcnZlciB3aGVuIGdhbWUgc3RhcnRzXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhOiB7IHN0YXRlIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlTdGF0ZShkYXRhLnN0YXRlIHx8IHt9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnc3RhdGUnOlxyXG4gICAgICAgICAgICAgICAgLy8gQXV0aG9yaXRhdGl2ZSBwZXJpb2RpYyBzdGF0ZSB1cGRhdGVzIGZyb20gc2VydmVyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5U3RhdGUoZGF0YS5zdGF0ZSB8fCB7fSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5kR2FtZShkYXRhLndpbm5lciwgZGF0YS5wbGF5ZXIxU2NvcmUsIGRhdGEucGxheWVyMlNjb3JlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcGx5IHNlcnZlciBhdXRob3JpdGF0aXZlIHN0YXRlIHRvIGNsaWVudCBlbnRpdGllc1xyXG4gICAgYXBwbHlTdGF0ZShzdGF0ZSkge1xyXG4gICAgICAgIGlmICghc3RhdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gUGxheWVyc1xyXG4gICAgICAgIGNvbnN0IHBsYXllcnNTdGF0ZSA9IHN0YXRlLnBsYXllcnMgfHwge307XHJcbiAgICAgICAgWydwbGF5ZXIxJywgJ3BsYXllcjInXS5mb3JFYWNoKGlkID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcFN0YXRlID0gcGxheWVyc1N0YXRlW2lkXTtcclxuICAgICAgICAgICAgY29uc3QgcGlnZW9uID0gdGhpcy5wbGF5ZXJzLmdldChpZCk7XHJcbiAgICAgICAgICAgIGlmICghcGlnZW9uIHx8ICFwU3RhdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBTdGF0ZS54ID09PSAnbnVtYmVyJykgcGlnZW9uLnNwcml0ZS54ID0gcFN0YXRlLng7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcFN0YXRlLnkgPT09ICdudW1iZXInKSBwaWdlb24uc3ByaXRlLnkgPSBwU3RhdGUueTtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmYWNpbmdcclxuICAgICAgICAgICAgaWYgKHBTdGF0ZS5mYWNpbmcpIHBpZ2Vvbi5mYWNpbmcgPSBwU3RhdGUuZmFjaW5nO1xyXG5cclxuICAgICAgICAgICAgLy8gVXBkYXRlIHN0dW5uZWQgc3RhdGUgYW5kIHZpc3VhbFxyXG4gICAgICAgICAgICBwaWdlb24uc3R1bm5lZCA9ICEhcFN0YXRlLnN0dW5uZWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc2NvcmUgZGlzcGxheVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBTdGF0ZS5zY29yZSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zY29yZSA9IHBTdGF0ZS5zY29yZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgc2NvcmUgdGV4dHNcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICBpZiAocDEpIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgKHAxLnNjb3JlIHx8IDApKTtcclxuICAgICAgICBpZiAocDIpIHRoaXMuc2NvcmVUZXh0UDIuc2V0VGV4dCgnUGFsb23Ds246ICcgKyAocDIuc2NvcmUgfHwgMCkpO1xyXG5cclxuICAgICAgICAvLyBJdGVtczogc3RhdGUuaXRlbXMgPSBbe2lkLCB0eXBlLCB4LCB5fV1cclxuICAgICAgICBjb25zdCBpdGVtcyA9IHN0YXRlLml0ZW1zIHx8IFtdO1xyXG4gICAgICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXQgPT4ge1xyXG4gICAgICAgICAgICBzZWVuLmFkZChpdC5pZCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5yZW5kZXJlZEl0ZW1zLmhhcyhpdC5pZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRleCA9IGl0LnR5cGUgfHwgJ2NodXJybyc7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcHIgPSB0aGlzLmFkZC5zcHJpdGUoaXQueCwgaXQueSwgdGV4KTtcclxuICAgICAgICAgICAgICAgIGlmIChpdC50eXBlID09PSAnY2h1cnJvJykgc3ByLnBsYXkgJiYgc3ByLnBsYXkoJ2NodXJyb19hbmltJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVkSXRlbXMuc2V0KGl0LmlkLCBzcHIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByID0gdGhpcy5yZW5kZXJlZEl0ZW1zLmdldChpdC5pZCk7XHJcbiAgICAgICAgICAgICAgICBzcHIueCA9IGl0Lng7XHJcbiAgICAgICAgICAgICAgICBzcHIueSA9IGl0Lnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGFueSByZW5kZXJlZCBpdGVtcyBub3QgcHJlc2VudCBpbiBzZXJ2ZXIgc3RhdGVcclxuICAgICAgICBBcnJheS5mcm9tKHRoaXMucmVuZGVyZWRJdGVtcy5rZXlzKCkpLmZvckVhY2goaWQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlZW4uaGFzKGlkKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ByID0gdGhpcy5yZW5kZXJlZEl0ZW1zLmdldChpZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ByICYmIHNwci5kZXN0cm95KSBzcHIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZEl0ZW1zLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBTdG9wIHBoeXNpY3MgYW5kIHNob3cgbWVzc2FnZVxyXG4gICAgICAgIHRyeSB7IHRoaXMucGh5c2ljcy5wYXVzZSgpOyB9IGNhdGNoIChlKSB7fVxyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjUwLCAnT3Bwb25lbnQgRGlzY29ubmVjdGVkJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA0MDAsICdSZXR1cm4gdG8gTWFpbiBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9HZW5lcmFyIHVuIG9iamV0byBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBkaXNwb25pYmxlXHJcbiAgICBzcGF3bkl0ZW0odHlwZSkge1xyXG5cclxuICAgICAgICBsZXQgcmVmTmFtZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IEl0ZW1DbGFzcyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vRGVjaWRpciBxdcOpIGNsYXNlIGluc3RhbmNpYXIgeSBxdcOpIHJlZmVyZW5jaWEgdXNhclxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2h1cnJvXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJjaHVycm9cIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IENodXJybztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImF2ZW5hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBBdmVuYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInBsdW1hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBQbHVtYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImJhc3VyYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQmFzdXJhO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGlwbyBkZXNjb25vY2lkbzpcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdmFpbGFibGVQb3NpdGlvbnMgPSB0aGlzLml0ZW1TcGF3blBvc2l0aW9ucy5maWx0ZXIocG9zID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vRXZpdGFyIHBvc2ljacOzbiBkb25kZSBoYXkgY2h1cnJvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5jaHVycm8uc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IHBvd2VyLXVwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZS54ID09PSBwb3MueCAmJiB0aGlzLnBvd2VyVXAuc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0VsZWdpciB1bmEgcG9zaWNpw7NuIGFsIGF6YXJcclxuICAgICAgICBjb25zdCBwb3MgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGF2YWlsYWJsZVBvc2l0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgSXRlbUNsYXNzKHRoaXMsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgdGhpc1tyZWZOYW1lXSA9IChpdGVtKTtcclxuXHJcbiAgICAgICAgLy9BY3RpdmFyIG92ZXJsYXAgY29uIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBpdGVtLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMub25JdGVtUGlja3VwLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09IFwicG93ZXJVcFwiKSB7XHJcblxyXG4gICAgICAgICAgICAvL1RpZW1wbyBkZSB2aWRhIGRlbCBwb3dlci11cCBcclxuICAgICAgICAgICAgY29uc3QgbGlmZXRpbWUgPSA5MDAwO1xyXG5cclxuICAgICAgICAgICAgLy9HdWFyZGFyIGVsIHRpbWVyIGVuIGVsIHByb3BpbyBvYmpldG8gcGFyYSBwb2RlciBjYW5jZWxhcmxvIHNpIGhhY2UgZmFsdGFcclxuICAgICAgICAgICAgaXRlbS5leHBpcmVUaW1lciA9IHRoaXMudGltZS5kZWxheWVkQ2FsbChsaWZldGltZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgPT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01hbmVqbyBkZSByZWNvZ2lkYSBkZSBvYmpldG9zXHJcbiAgICBvbkl0ZW1QaWNrdXAocGlnZW9uU3ByaXRlLCBpdGVtU3ByaXRlKSB7XHJcblxyXG4gICAgICAgIGxldCBwbGF5ZXJJZCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3ByaXRlID09PSBwaWdlb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkID0gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtQnlTcHJpdGUoaXRlbVNwcml0ZSk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwbHlFZmZlY3QocGlnZW9uKTtcclxuXHJcbiAgICAgICAgLy9BY3R1YWxpemFyIHB1bnR1YWNpb25lc1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyLnNldFRleHQoJ1BhbG9tw7NuOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNjb3JlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgIGlmIChwaWdlb24uc2NvcmUgPj0gNSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgRW5kR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdFbmRHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IHdpbm5lcklkOiBwbGF5ZXJJZCB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0RldnVlbHZlIGVsIG9iamV0byBhbCBxdWUgcGVydGVuZWNlIHVuIHNwcml0ZVxyXG4gICAgZ2V0SXRlbUJ5U3ByaXRlKHNwcml0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMuY2h1cnJvO1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZSA9PT0gc3ByaXRlKSByZXR1cm4gdGhpcy5wb3dlclVwO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRWxpbWluYSBkZSBsYSBlc2NlbmEgdW4gb2JqZXRvIGRhZG9cclxuICAgIGRlbGV0ZUl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLmNodXJybykge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyby5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Fc3RhYmxlY2UgZWwgZXN0YWRvIGRlIHBhdXNhIGRlbCBqdWVnb1xyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhdXNlQ29tbWFuZCh0aGlzLCBuZXdQYXVzZWRTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZXNjS2V5LmlzRG93biAmJiAhdGhpcy5lc2NXYXNEb3duKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9ubHkgc2VuZCBpbnB1dCBmb3IgdGhlIGxvY2FsIHBsYXllciB0byB0aGUgc2VydmVyXHJcbiAgICAgICAgY29uc3QgbG9jYWxNYXBwaW5nID0gdGhpcy5pbnB1dE1hcHBpbmdzLmZpbmQobSA9PiBtLnBsYXllcklkID09PSB0aGlzLnBsYXllclJvbGUpO1xyXG4gICAgICAgIGlmIChsb2NhbE1hcHBpbmcgJiYgdGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0TWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdpbnB1dCcsXHJcbiAgICAgICAgICAgICAgICBpbnB1dDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICEhbG9jYWxNYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duLFxyXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAhIWxvY2FsTWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24sXHJcbiAgICAgICAgICAgICAgICAgICAgdXA6ICEhbG9jYWxNYXBwaW5nLnVwS2V5T2JqLmlzRG93bixcclxuICAgICAgICAgICAgICAgICAgICBhdHRhY2s6ICEhKGxvY2FsTWFwcGluZy5hdHRhY2tLZXlPYmogJiYgbG9jYWxNYXBwaW5nLmF0dGFja0tleU9iai5pc0Rvd24pXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdHM6IERhdGUubm93KClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoaW5wdXRNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vRWxpbWluYXIgbcO6c2ljYSBhbCBjZXJyYXIgbGEgZXNjZW5hIHkgY2VycnJhciBsaXN0ZW5lcnNcclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db250cm9sc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgRW5kR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgU3RvcnlTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1N0b3J5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCBMb2JieVNjZW5lIGZyb20gJy4vc2NlbmVzL0xvYmJ5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllckdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmVzL011bHRpcGxheWVyR2FtZVNjZW5lLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICB3aWR0aDogOTYwLFxyXG4gIGhlaWdodDogNTQwLFxyXG4gIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICBwaHlzaWNzOiB7XHJcbiAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgIGFyY2FkZToge1xyXG4gICAgICBncmF2aXR5OiB7IHk6IDEyMDAgfSxcclxuICAgICAgZGVidWc6IGZhbHNlXHJcbiAgICB9XHJcbiAgfSxcclxuICBzY2VuZTogW01lbnVTY2VuZSwgR2FtZVNjZW5lLCBQYXVzZVNjZW5lLCBDcmVkaXRzU2NlbmUsIENvbnRyb2xzU2NlbmUsIEVuZEdhbWVTY2VuZSwgU3RvcnlTY2VuZSwgT3B0aW9uc1NjZW5lLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBMb2JieVNjZW5lLCBNdWx0aXBsYXllckdhbWVTY2VuZV0sXHJcbiAgYmFja2dyb3VuZENvbG9yOiAnIzFhMmEyZScsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiUGhhc2VyIiwiY29ubmVjdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJjb25uZWN0ZWRDb3VudCIsImlzQ29ubmVjdGVkIiwibGFzdENoZWNrVGltZSIsImNoZWNrSW50ZXJ2YWwiLCJsaXN0ZW5lcnMiLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsImludGVydmFsSWQiLCJzdGFydFBvbGxpbmciLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiY2hlY2tDb25uZWN0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiTWVudVNjZW5lIiwic3VwZXIiLCJwcmVsb2FkIiwibG9hZCIsImF1ZGlvIiwiaW1hZ2UiLCJjcmVhdGUiLCJjYW1lcmFzIiwibWFpbiIsInNldEFscGhhIiwiYWRkIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldE9yaWdpbiIsImJnTXVzaWMiLCJzb3VuZCIsImxvb3AiLCJ2b2x1bWUiLCJwbGF5IiwiY29ubmVjdGlvblRleHQiLCJsb2NhbEJ0blNwcml0ZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInNldERlcHRoIiwib24iLCJzZXRUZXh0dXJlIiwic3RvcCIsImRlc3Ryb3kiLCJzY2VuZSIsInRyYW5zaXRpb24iLCJ0YXJnZXQiLCJtb3ZlQmVsb3ciLCJvblVwZGF0ZSIsInByb2dyZXNzIiwib25saW5lQnRuU3ByaXRlIiwiY3JlZGl0c0J0blNwcml0ZSIsIm9wdGlvbnNCdG5TcHJpdGUiLCJjb250cm9sc0J0blNwcml0ZSIsInN0b3J5QnRuU3ByaXRlIiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNodXRkb3duIiwiUGlnZW9uIiwiaWQiLCJ4IiwieSIsImNoYXJhY3RlciIsInNjb3JlIiwic3BlZWQiLCJqdW1wU3BlZWQiLCJhdHRhY2tSYW5nZSIsImF0dGFja0ZvcmNlIiwic3R1bkZvcmNlIiwiYXR0YWNrQ29vbGRvd24iLCJsYXN0QXR0YWNrVGltZSIsImZhY2luZyIsInN0dW5uZWQiLCJzdHVuVGltZW91dCIsImRlZmF1bHRTdHVuRHVyYXRpb24iLCJrbm9ja2JhY2tFeHBpcmUiLCJpc0F0dGFja2luZyIsInRleHR1cmVLZXkiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5IiwicGlnZW9uIiwiaW52ZXJ0RmxpcEZvck1vdmVtZW50Iiwic2V0RmxpcFgiLCJjYW5BdHRhY2siLCJ0aW1lIiwibWFya0F0dGFja2VkIiwicGxheUFuaW1hdGlvbiIsImFuaW1OYW1lIiwia2V5IiwiYW5pbXMiLCJleGlzdHMiLCJ3YXJuIiwidGFrZUhpdCIsImtub2NrYmFja1giLCJzZXRWZWxvY2l0eVgiLCJzZXRUaW50IiwiZGVsYXllZENhbGwiLCJjbGVhclRpbnQiLCJzdHVuIiwiZHVyYXRpb25NcyIsInN0YXJ0QXR0YWNrQW5pbWF0aW9uIiwiZW5kQXR0YWNrQW5pbWF0aW9uIiwidmVsb2NpdHkiLCJzaG93QXR0YWNrU3ByaXRlIiwiYXR0YWNrU3ByaXRlIiwiZGVwdGgiLCJvZmZzZXRYIiwiZm9sbG93RXZlbnQiLCJhZGRFdmVudCIsImRlbGF5IiwicmVtb3ZlIiwiYWRkU2NvcmUiLCJ2YWx1ZSIsImxvZyIsImFwcGx5TW9kaWZpZXIiLCJwcm9wZXJ0eSIsImFtb3VudCIsImhhc093blByb3BlcnR5IiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVQaWdlb25Db21tYW5kIiwibW92ZVgiLCJqdW1wIiwiZGVzaXJlZEZsaXAiLCJvbkZsb29yIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsInNldFZlbG9jaXR5WSIsIlBhdXNlQ29tbWFuZCIsImlzUGF1c2VkIiwic2V0UGF1c2VTdGF0ZSIsIkF0dGFja1BpZ2VvbkNvbW1hbmQiLCJkaXIiLCJoaXRib3giLCJzZXRWaXNpYmxlIiwic2V0QWxsb3dHcmF2aXR5Iiwic2V0SW1tb3ZhYmxlIiwic2V0U2l6ZSIsImJhc2VIZWlnaHQiLCJvdmVybGFwIiwicGxheWVyU3ByaXRlcyIsImhiIiwidGFyZ2V0U3ByaXRlIiwidGFyZ2V0UGlnZW9uIiwia25vY2siLCJ3b3JsZCIsInJlbW92ZUNvbGxpZGVyIiwiSXRlbSIsInNldERpc3BsYXlTaXplIiwiZXhwaXJlVGltZXIiLCJhcHBseUVmZmVjdCIsInNob3dJdGVtSWNvbiIsImljb25LZXkiLCJhY3RpdmVJY29uU3ByaXRlIiwiYWN0aXZlSWNvblRpbWVyIiwiaWNvblgiLCJzY29yZVRleHRQMSIsInNjb3JlVGV4dFAyIiwiQ2h1cnJvIiwiQXZlbmEiLCJQbHVtYSIsIkJhc3VyYSIsIkdhbWVTY2VuZSIsImluaXQiLCJpbnB1dE1hcHBpbmdzIiwiZXNjV2FzRG93biIsImdhbWVFbmRlZCIsInByb2Nlc3NvciIsImNodXJybyIsInBvd2VyVXAiLCJpdGVtU3Bhd25Qb3NpdGlvbnMiLCJwb3dlclVwcyIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwib25Db25uZWN0aW9uTG9zdCIsImNyZWF0ZVBsYXRmb3JtcyIsInNldFVwUGxheWVycyIsInBpZ2VvbkluZGljYXRvcnMiLCJwbGF5ZXIxIiwicGxheWVyMiIsImZyYW1lcyIsImZyYW1lIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJzdGFydCIsImVuZCIsImZvbnRTdHlsZSIsImdyb3VwIiwiY29sbGlkZXIiLCJwbGF0Zm9ybXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsInNwYXduSXRlbSIsIkFycmF5IiwiR2V0UmFuZG9tIiwiZXZlbnRzIiwib25TaHV0ZG93biIsInBhdXNlIiwibGF1bmNoIiwicHJldmlvdXNTY2VuZSIsInN0YXRpY0dyb3VwIiwicmVmcmVzaEJvZHkiLCJsZWZ0UGlnZW9uIiwicmlnaHRQaWdlb24iLCJmbGlwWCIsInNldCIsInBsYXllcklkIiwidXBLZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJhdHRhY2tLZXkiLCJtYXAiLCJjb25maWciLCJ1cEtleU9iaiIsInJpZ2h0S2V5T2JqIiwibGVmdEtleU9iaiIsImF0dGFja0tleU9iaiIsInR5cGUiLCJyZWZOYW1lIiwiSXRlbUNsYXNzIiwiYXZhaWxhYmxlUG9zaXRpb25zIiwiZmlsdGVyIiwicG9zIiwiaXRlbSIsIm9uSXRlbVBpY2t1cCIsImxpZmV0aW1lIiwiZGVsZXRlSXRlbSIsInBpZ2VvblNwcml0ZSIsIml0ZW1TcHJpdGUiLCJnZXQiLCJnZXRJdGVtQnlTcHJpdGUiLCJ3aW5uZXJJZCIsIm9yaWdpbmFsU2NlbmUiLCJyZXN1bWUiLCJ0b2dnbGVQYXVzZSIsIm5ld1BhdXNlZFN0YXRlIiwidXBkYXRlIiwiaXNEb3duIiwibWFwcGluZyIsIm1vdmVDb21tYW5kIiwiYXR0YWNrQ21kIiwiaW5kaWNhdG9yIiwiUGF1c2VTY2VuZSIsInJlY3RhbmdsZSIsInJlc3VtZUJ0blNwcml0ZSIsIm1lbnVCdG5TcHJpdGUiLCJDcmVkaXRzU2NlbmUiLCJzZXRTY2FsZSIsImJhY2tCdG5TcHJpdGUiLCJDb250cm9sc1NjZW5lIiwiRW5kR2FtZVNjZW5lIiwiYmdLZXkiLCJ3aW5uZXJUZXh0IiwiU3RvcnlTY2VuZSIsImFsaWduIiwid29yZFdyYXAiLCJ3aWR0aCIsInVzZUFkdmFuY2VkV3JhcCIsIk9wdGlvbnNTY2VuZSIsImJ1dHRvbiIsImRyYWdnYWJsZSIsImJhclgiLCJzZXREcmFnZ2FibGUiLCJwb2ludGVyIiwib2JqIiwiZHJhZ1giLCJkcmFnWSIsIkNsYW1wIiwiQ29ubmVjdGlvbkxvc3RTY2VuZSIsInJlY29ubmVjdENoZWNrSW50ZXJ2YWwiLCJzdGF0dXNUZXh0IiwiYXR0ZW1wdENvdW50IiwiYXR0ZW1wdFRleHQiLCJkb3RDb3VudCIsImRvdHMiLCJvblJlY29ubmVjdGVkIiwiYXR0ZW1wdFJlY29ubmVjdCIsIkxvYmJ5U2NlbmUiLCJTY2VuZSIsIndzIiwiaGVpZ2h0IiwicGxheWVyQ291bnRUZXh0IiwiY2FuY2VsQnV0dG9uIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsIldlYlNvY2tldCIsIm9ub3BlbiIsInNlbmQiLCJvbm1lc3NhZ2UiLCJldmVudCIsInBhcnNlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwicG9zaXRpb24iLCJwbGF5ZXJSb2xlIiwicm9sZSIsInJvb21JZCIsImluaXRpYWxCYWxsIiwiYmFsbCIsInJlYWR5U3RhdGUiLCJPUEVOIiwiY2xvc2UiLCJNdWx0aXBsYXllckdhbWVTY2VuZSIsInN5cyIsInNldHRpbmdzIiwicmVuZGVyZWRJdGVtcyIsInJvbGVUZXh0Iiwicm9sZURpc3BsYXkiLCJvbkNvbXBsZXRlIiwic2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMiLCJhcHBseVN0YXRlIiwic3RhdGUiLCJlbmRHYW1lIiwid2lubmVyIiwicGxheWVyMVNjb3JlIiwicGxheWVyMlNjb3JlIiwicGxheWVyc1N0YXRlIiwicFN0YXRlIiwicDEiLCJwMiIsIml0ZW1zIiwic2VlbiIsIlNldCIsIml0IiwiaGFzIiwic3ByIiwidGV4IiwiZnJvbSIsImtleXMiLCJkZWxldGUiLCJlIiwiY3JlYXRlTWVudUJ1dHRvbiIsIm1lbnVCdG4iLCJzZW5kTWVzc2FnZSIsIm1lc3NhZ2UiLCJsb2NhbE1hcHBpbmciLCJmaW5kIiwibSIsImlucHV0TWVzc2FnZSIsImxlZnQiLCJyaWdodCIsInVwIiwiYXR0YWNrIiwidHMiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIl0sInNvdXJjZVJvb3QiOiIifQ==