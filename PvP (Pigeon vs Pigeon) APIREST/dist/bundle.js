(()=>{"use strict";const e=Phaser,t=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};class s extends e.Scene{constructor(){super("MenuScene")}preload(){this.load.audio("AveMaria","assets/sounds/AveMaria.mp3"),this.load.image("Fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){let e=this.cameras.main.width/2,s=e/2,i=1.5*e;this.cameras.main.setAlpha(0),this.add.image(480,270,"Fondo"),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(e,100,"PvP",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.connectionText=this.add.text(e,150,"Servidor: Comprobando...",{fontSize:"20px",color:"#ffffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5),this.usernameText=this.add.text(e,230,`Bienvenido, ${this.registry.get("name")}`,{fontSize:"25px",color:"#ffffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5),this.player1Text=this.add.text(s,280,`Victorias Dovenardo: ${this.registry.get("player1Win")}`,{fontSize:"25px",color:"#ffffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5),this.player2Text=this.add.text(i,280,`Victorias Palomón: ${this.registry.get("player2Win")}`,{fontSize:"25px",color:"#ffffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5),this.bgMusic||(this.bgMusic=this.sound.add("AveMaria",{loop:!0,volume:.5}),this.bgMusic.play());const o=this.add.image(s,360,"boton").setInteractive({useHandCursor:!0});this.add.text(s,360,"Local 2 Players",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),o.on("pointerover",()=>o.setTexture("botonEncima")),o.on("pointerout",()=>o.setTexture("boton")),o.on("pointerdown",()=>{this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null),this.cameras.main.setAlpha(1),this.scene.transition({target:"GameScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const n=this.add.image(s,500,"boton").setInteractive({useHandCursor:!0});this.add.text(s,500,"Credits",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),n.on("pointerover",()=>n.setTexture("botonEncima")),n.on("pointerout",()=>n.setTexture("boton")),n.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"CreditsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const a=this.add.image(i,500,"boton").setInteractive({useHandCursor:!0});this.add.text(i,500,"Options",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),a.on("pointerover",()=>a.setTexture("botonEncima")),a.on("pointerout",()=>a.setTexture("boton")),a.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"OptionsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const r=this.add.image(i,430,"boton").setInteractive({useHandCursor:!0});this.add.text(i,430,"Controls",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),r.on("pointerover",()=>r.setTexture("botonEncima")),r.on("pointerout",()=>r.setTexture("boton")),r.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"ControlsScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const c=this.add.image(s,430,"boton").setInteractive({useHandCursor:!0});this.add.text(s,430,"Story",{fontSize:"24px",color:"#000000"}).setOrigin(.5).setDepth(10),c.on("pointerover",()=>c.setTexture("botonEncima")),c.on("pointerout",()=>c.setTexture("boton")),c.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"StoryScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})});const h=this.add.image(i,360,"boton").setInteractive({useHandCursor:!0});this.add.text(i,360,"Online (Not available)",{fontSize:"24px",color:"#7a2eacff"}).setOrigin(.5),h.on("pointerover",()=>h.setTexture("botonEncima")),h.on("pointerout",()=>h.setTexture("boton")),this.connectionListener=e=>{this.updateConnectionDisplay(e)},t.addListener(this.connectionListener)}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#ffffffff")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#000000ff"),this.connectionText.setStroke("#ffffff",4))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&t.removeListener(this.connectionListener)}}class i{constructor(e,t,s,i,o){this.scene=e,this.id=t,this.character=o,this.score=0,this.speed=300,this.jumpSpeed=630,this.attackRange=40,this.attackForce=200,this.stunForce=1e3,this.attackCooldown=500,this.lastAttackTime=0,this.facing="right",this.stunned=!1,this.stunTimeout=null,this.defaultStunDuration=1e3,this.knockbackExpire=null,this.isAttacking=!1;let n=null;"palomon"===o?n="palomonSheet":"dovenando"===o?n="dovenandoSheet":(console.error("Personaje desconocido:",o),n="palomonSheet"),this.sprite=this.scene.physics.add.sprite(s,i,n),this.sprite.body.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.pigeon=this,this.invertFlipForMovement="dovenando"===o,this.sprite.setFlipX(this.invertFlipForMovement)}canAttack(e){return(e=e||this.scene.time.now)-this.lastAttackTime>=this.attackCooldown}markAttacked(e){this.lastAttackTime=e||this.scene.time.now}playAnimation(e){if(this.isAttacking)return;const t=`${this.character}_${e}`;this.scene.anims.exists(t)?this.sprite.anims.play(t,!0):console.warn(`Animación no existe: ${t}`)}takeHit(e=0){this.sprite.setVelocityX(e),this.knockbackExpire=this.scene.time.now+200,this.stunned||(this.sprite.setTint(16711680),this.scene.time.delayedCall(200,()=>{this.stunned||this.sprite.clearTint()}))}stun(e){e=null==e?this.defaultStunDuration:e,this.stunned||(this.stunned=!0,this.sprite.setTint(10066431),this.sprite.setVelocityX(0),this.stunTimeout=this.scene.time.delayedCall(e,()=>{this.stunned=!1,this.sprite.clearTint(),this.stunTimeout=null}))}startAttackAnimation(){if(this.isAttacking)return;this.isAttacking=!0;const e=`${this.character}_attack`;this.scene.anims.exists(e)&&this.sprite.anims.play(e,!0),this.sprite.setFlipX("left"===this.facing?!this.invertFlipForMovement:this.invertFlipForMovement),this.scene.time.delayedCall(250,()=>{this.endAttackAnimation()})}endAttackAnimation(){this.isAttacking=!1,0===this.sprite.body.velocity.x?this.playAnimation("idle"):this.playAnimation("walk")}showAttackSprite(e=250){const t=this.scene,s="dovenando"===this.character?"dovenandoAttack":"palomonAttack",i=t.add.sprite(this.sprite.x,this.sprite.y,s);i.setOrigin(.5,.5),i.setDepth(this.sprite.depth+1);const o="right"===this.facing?20:-20;i.x+=o,i.setFlipX("left"===this.facing);const n=t.time.addEvent({delay:16,loop:!0,callback:()=>{i.x=this.sprite.x+o,i.y=this.sprite.y}});t.time.delayedCall(e,()=>{n.remove(!1),i.destroy()})}addScore(e){this.score+=e,console.log(`${this.id} recogió un Churro → score: ${this.score}`)}applyModifier(e,t,s){this.hasOwnProperty(e)?(this[e]+=t,this.scene.time.addEvent({delay:s,callback:()=>{this[e]-=t}})):console.warn(`La propiedad ${e} no existe en la paloma.`)}}class o{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class n{execute(){}serialize(){}getPlayer(){}}class a extends n{constructor(e,t=0,s=!1){super(),this.pigeon=e,this.moveX=t,this.jump=s}execute(){const e=this.pigeon,t=e.sprite;if(e.stunned)return t.setVelocityX(0),void e.playAnimation("idle");if(this.moveX>0?e.facing="right":this.moveX<0&&(e.facing="left"),0!==this.moveX){const s=e.invertFlipForMovement?this.moveX>0:this.moveX<0;t.setFlipX(s)}if(t.setVelocityX(this.moveX*e.speed),0!==this.moveX?e.playAnimation("walk"):e.playAnimation("idle"),this.jump){const s=t.body;s&&("function"==typeof s.onFloor?s.onFloor():s.blocked&&s.blocked.down||s.touching&&s.touching.down)&&t.setVelocityY(-e.jumpSpeed)}}}class r extends n{constructor(e,t){super(),this.gameScene=e,this.isPaused=t}execute(){this.gameScene.setPauseState(this.isPaused)}}class c extends n{constructor(e){super(),this.pigeon=e}execute(){const e=this.pigeon.scene,t=e.time.now;if(this.pigeon.stunned)return;if(!this.pigeon.canAttack(t))return;this.pigeon.markAttacked(t),this.pigeon.startAttackAnimation(),this.pigeon.showAttackSprite(250),e.sound.play("SonidoAtaque",{volume:.7});const s="right"===this.pigeon.facing?1:-1,i=this.pigeon.sprite.x+s*this.pigeon.attackRange,o=this.pigeon.sprite.y,n=e.physics.add.sprite(i,o,null);n.setVisible(!1),n.body.setAllowGravity(!1),n.body.setImmovable(!0),n.setSize(this.pigeon.attackRange,.6*this.pigeon.baseHeight);const a=e.physics.add.overlap(n,e.playerSprites,(t,i)=>{if(i===this.pigeon.sprite)return;const o=i.pigeon;if(!o)return;const n=this.pigeon.attackForce*s;o.stun(this.pigeon.stunForce),o.takeHit(n),a&&e.physics&&e.physics.world&&e.physics.world.removeCollider(a)});e.time.delayedCall(120,()=>{a&&e.physics&&e.physics.world&&e.physics.world.removeCollider(a),n&&n.destroy&&n.destroy()})}}class h{constructor(e,t,s,i){this.scene=e,this.sprite=e.physics.add.sprite(t,s,i),this.sprite.setDisplaySize(40,40),this.sprite.setImmovable(!0),this.sprite.body.allowGravity=!1,this.expireTimer=null}applyEffect(e){console.warn("applyEffect() no implementado en el item")}showItemIcon(e,t,s){e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null);let i=null;i=this.scene.scoreTextP1&&this.scene.scoreTextP2?"player1"===e.id?this.scene.scoreTextP1.x+25:this.scene.scoreTextP2.x+175:"player1"===e.id?40:850,e.activeIconSprite=this.scene.add.image(i,85,t),e.activeIconSprite.setDisplaySize(50,50),e.activeIconTimer=this.scene.time.addEvent({delay:s,callback:()=>{e.activeIconSprite&&(e.activeIconSprite.destroy(),e.activeIconSprite=null),e.activeIconTimer&&(e.activeIconTimer.remove(),e.activeIconTimer=null)}})}destroy(){this.sprite.destroy()}}class d extends h{constructor(e,t,s){super(e,t,s,"churroSheet"),this.sprite.play("churro_anim")}applyEffect(e){this.scene.sound.play("SonidoChurro",{volume:.5}),e.addScore(1)}}class l extends h{constructor(e,t,s){super(e,t,s,"avena")}applyEffect(e){const t=5e3;this.scene.sound.play("SonidoAvena",{volume:.5}),this.showItemIcon(e,"iconAvena",t),e.applyModifier("attackForce",300,t),e.applyModifier("stunForce",1e3,t)}}class p extends h{constructor(e,t,s){super(e,t,s,"pluma")}applyEffect(e){this.scene.sound.play("SonidoPluma",{volume:.5}),this.showItemIcon(e,"iconPluma",5e3),e.applyModifier("speed",200,5e3)}}class f extends h{constructor(e,t,s){super(e,t,s,"basura")}applyEffect(e){this.scene.sound.play("SonidoBasura",{volume:.5}),this.showItemIcon(e,"iconBasura",5e3),e.applyModifier("speed",-100,5e3)}}class u extends e.Scene{constructor(){super("GameScene")}init(){this.players=new Map,this.inputMappings=[],this.isPaused=!1,this.escWasDown=!1,this.gameEnded=!1,this.processor=new o,this.churro=null,this.powerUp=null,this.itemSpawnPositions=[{x:560,y:45},{x:415,y:200},{x:790,y:115},{x:790,y:280},{x:126,y:115},{x:126,y:280},{x:560,y:455}],this.powerUps=["avena","basura","pluma"]}preload(){this.load.image("background","assets/sprites/background.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png"),this.load.image("churro","assets/sprites/Churro JER.png"),this.load.image("avena","assets/sprites/Avena.png"),this.load.image("pluma","assets/sprites/Pluma.png"),this.load.image("basura","assets/sprites/Basura.png"),this.load.image("dovenandoAttack","assets/sprites/Dovenando_attack.png"),this.load.image("palomonAttack","assets/sprites/Palomon_attack.png"),this.load.image("iconPluma","assets/sprites/Icon_fast.png"),this.load.image("iconBasura","assets/sprites/Icon_slow.png"),this.load.image("iconAvena","assets/sprites/Icon_strong.png"),this.load.image("Icon_p","assets/sprites/Icon_Palomon.png"),this.load.image("Icon_d","assets/sprites/Icon_Dovenando.png"),this.load.audio("Numb","assets/sounds/Numb.mp3"),this.load.audio("SonidoPluma","assets/sounds/sonidoPluma.mp3"),this.load.audio("SonidoChurro","assets/sounds/sonidoChurro.mp3"),this.load.audio("SonidoBasura","assets/sounds/sonidoBasura.mp3"),this.load.audio("SonidoAtaque","assets/sounds/sonidoAtaque.mp3"),this.load.audio("SonidoAvena","assets/sounds/sonidoAlpiste.mp3"),this.load.spritesheet("palomonSheet","assets/sprites/Palomon_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoSheet","assets/sprites/Dovenando_walk.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("churroSheet","assets/sprites/Churro JER-sheet.png",{frameWidth:25,frameHeight:25}),this.load.spritesheet("palomonAttackSheet","assets/sprites/Palomon_walk_noWing.png",{frameWidth:66,frameHeight:66}),this.load.spritesheet("dovenandoAttackSheet","assets/sprites/Dovenando_walk_noWing.png",{frameWidth:66,frameHeight:66})}create(){this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},t.addListener(this.connectionListener),this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"background"),this.bgMusic=this.sound.add("Numb",{loop:!0,volume:.5}),this.bgMusic.play(),this.createPlatforms(),this.setUpPlayers(),this.pigeonIndicators={player1:this.add.image(10,60,"Icon_d").setVisible(!1).setDepth(999),player2:this.add.image(10,60,"Icon_p").setVisible(!1).setDepth(999)},this.anims.create({key:"palomon_idle",frames:[{key:"palomonSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"palomon_walk",frames:this.anims.generateFrameNumbers("palomonSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_idle",frames:[{key:"dovenandoSheet",frame:0}],frameRate:1,repeat:-1}),this.anims.create({key:"dovenando_walk",frames:this.anims.generateFrameNumbers("dovenandoSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"churro_anim",frames:this.anims.generateFrameNumbers("churroSheet",{start:0,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"palomon_attack",frames:this.anims.generateFrameNumbers("palomonAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.anims.create({key:"dovenando_attack",frames:this.anims.generateFrameNumbers("dovenandoAttackSheet",{start:1,end:3}),frameRate:8,repeat:-1}),this.scoreTextP1=this.add.text(10,20,"Dovenando: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.scoreTextP2=this.add.text(750,20,"Palomón: 0",{fontSize:"32px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}),this.playerSprites=this.physics.add.group(),this.players.forEach(e=>{this.playerSprites.add(e.sprite)}),this.physics.add.collider(this.playerSprites,this.platforms),this.physics.add.overlap(this.playerSprites,this.playerSprites),this.escKey=this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes.ESC),this.time.addEvent({delay:5e3,loop:!0,callback:()=>{null===this.churro&&this.spawnItem("churro")}}),this.time.addEvent({delay:7e3,loop:!0,callback:()=>{null===this.powerUp&&this.spawnItem(e.Utils.Array.GetRandom(this.powerUps))}}),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this)}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}createPlatforms(){this.platforms=this.physics.add.staticGroup(),this.platforms.create(540,80,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(310,80,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(415,237,null).setDisplaySize(220,20).refreshBody(),this.platforms.create(650,237,null).setDisplaySize(10,20).refreshBody(),this.platforms.create(480,513,null).setDisplaySize(960,60).refreshBody(),this.platforms.create(640,360,null).setDisplaySize(90,5).refreshBody(),this.platforms.create(345,365,null).setDisplaySize(100,5).refreshBody(),this.platforms.create(33,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(927,430,null).setDisplaySize(70,1200).refreshBody(),this.platforms.create(89,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(870,475,null).setDisplaySize(200,15).refreshBody(),this.platforms.create(832,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(832,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,145,null).setDisplaySize(130,15).refreshBody(),this.platforms.create(126,313,null).setDisplaySize(130,15).refreshBody(),this.platforms.setVisible(!1)}setUpPlayers(){const t=new i(this,"player1",150,435,"dovenando"),s=new i(this,"player2",800,435,"palomon");s.sprite.flipX=!0,s.facing="left",this.players.set("player1",t),this.players.set("player2",s),this.inputMappings=[{playerId:"player1",upKey:"W",leftKey:"A",rightKey:"D",attackKey:"F"},{playerId:"player2",upKey:"UP",leftKey:"LEFT",rightKey:"RIGHT",attackKey:"SHIFT"}].map(t=>({playerId:t.playerId,upKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.upKey]),rightKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.rightKey]),leftKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.leftKey]),attackKeyObj:this.input.keyboard.addKey(e.Input.Keyboard.KeyCodes[t.attackKey])}))}spawnItem(t){let s=null,i=null;switch(t){case"churro":s="churro",i=d;break;case"avena":s="powerUp",i=l;break;case"pluma":s="powerUp",i=p;break;case"basura":s="powerUp",i=f;break;default:return void console.warn("Tipo desconocido:",t)}const o=this.itemSpawnPositions.filter(e=>!(this.churro&&this.churro.sprite.x===e.x&&this.churro.sprite.y===e.y||this.powerUp&&this.powerUp.sprite.x===e.x&&this.powerUp.sprite.y===e.y)),n=e.Utils.Array.GetRandom(o),a=new i(this,n.x,n.y);if(this[s]=a,this.players.forEach(e=>{this.physics.add.overlap(e.sprite,a.sprite,this.onItemPickup,null,this)}),"powerUp"===s){const e=9e3;a.expireTimer=this.time.delayedCall(e,()=>{this.powerUp===a&&this.deleteItem(a)})}}onItemPickup(e,t){let s=null;if(this.players.forEach((t,i)=>{t.sprite===e&&(s=i)}),!s)return;const i=this.players.get(s),o=this.getItemBySprite(t);o.applyEffect(i),this.scoreTextP1.setText("Dovenando: "+this.players.get("player1").score),this.scoreTextP2.setText("Palomón: "+this.players.get("player2").score),this.deleteItem(o),i.score>=5&&(this.cameras.main.setAlpha(1),this.scene.transition({target:"EndGameScene",duration:1e3,moveBelow:!0,data:{winnerId:s},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}}))}getItemBySprite(e){return this.churro&&this.churro.sprite===e?this.churro:this.powerUp&&this.powerUp.sprite===e?this.powerUp:null}deleteItem(e){e===this.churro&&(this.churro.destroy(),this.churro=null),e===this.powerUp&&(this.powerUp.destroy(),this.powerUp=null)}setPauseState(e){this.isPaused=e,e&&(this.scene.launch("PauseScene",{originalScene:"GameScene"}),this.scene.pause())}resume(){this.isPaused=!1}togglePause(){if(!this.gameEnded){const e=!this.isPaused;this.processor.process(new r(this,e))}}update(){this.escKey.isDown&&!this.escWasDown&&this.togglePause(),this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.stunned)return void((!t.knockbackExpire||this.time.now>t.knockbackExpire)&&t.sprite.setVelocityX(0));let s=0;e.leftKeyObj.isDown?s=-1:e.rightKeyObj.isDown&&(s=1);const i=e.upKeyObj.isDown;let o=new a(t,s,i);if(this.processor.process(o),e.attackKeyObj&&e.attackKeyObj.isDown){const e=new c(t);this.processor.process(e)}this.players.forEach((e,t)=>{const s=this.pigeonIndicators[t],i=e.sprite;i.y<-5?(s.setVisible(!0),s.x=i.x,s.y=50):s.setVisible(!1)})})}onShutdown(){this.connectionListener&&t.removeListener(this.connectionListener),this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}}class m extends e.Scene{constructor(){super("PauseScene")}preload(){this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.add.rectangle(480,270,960,540,0,.7),this.add.text(480,200,"Game Paused",{fontSize:"64px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5);const t=this.add.image(250,430,"boton").setInteractive({useHandCursor:!0});this.add.text(250,430,"Resume",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),t.on("pointerover",()=>t.setTexture("botonEncima")),t.on("pointerout",()=>t.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene),this.scene.get(e.originalScene).resume()});const s=this.add.image(700,430,"boton").setInteractive({useHandCursor:!0});this.add.text(700,430,"Return to Menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")).on("pointerdown",()=>{this.scene.stop(e.originalScene),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class g extends e.Scene{constructor(){super("CreditsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Credits",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Game developed by GB3D",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.add.text(480,250,"Artist:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,290,"Hugo Checa",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,350,"Programmers:",{fontSize:"28px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,390,"Alejandro Marín",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,425,"Lucas Lorente",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,460,"Miguel Amado",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,510,"boton").setInteractive({useHandCursor:!0});this.add.text(480,510,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class y extends e.Scene{constructor(){super("ControlsScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Controls",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,150,"Player 1",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,200,"Move: W - A - D (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,240,"Attack: F",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,300,"Pause: Esc",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,360,"Player 2 (Local)",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(480,410,"Move: ↑ - ← - → (Up, Left, Right)",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5),this.add.text(480,450,"Attack: Shift",{fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class k extends e.Scene{constructor(){super("EndGameScene")}preload(){this.load.audio("SweetVictory","assets/sounds/SweetVictory.mp3"),this.load.image("DovenandoVictory","assets/sprites/pantalla victoria dovenando.png"),this.load.image("PalomonVictory","assets/sprites/pantalla victoria palomon.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(e){this.cameras.main.setAlpha(0),this.updateWins(e.winnerId);const t="player1"===e.winnerId?"DovenandoVictory":"PalomonVictory";this.add.image(480,270,t),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.text(480,250,"SUPREME VICTORY",{fontSize:"100px",color:"#4444ff",fontStyle:"bold",stroke:"#000000",strokeThickness:10}).setOrigin(.5);const s="player1"===e.winnerId?"Dovenando Wins!":"Palomón Wins!";this.add.text(480,350,s,{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.bgMusic=this.sound.add("SweetVictory",{loop:!0,volume:.6}),this.bgMusic.play(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onShutdown,this);const i=this.add.image(480,460,"boton").setInteractive({useHandCursor:!0});this.add.text(480,460,"Return to menu",{fontSize:"24px",color:"ffffff"}).setOrigin(.5).setDepth(10),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")).on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}onShutdown(){this.bgMusic&&(this.bgMusic.stop(),this.bgMusic.destroy(),this.bgMusic=null)}async updateWins(e){const t=this.registry.get("userId");let s=this.registry.get("player1Win"),i=this.registry.get("player2Win");if("player1"===e?(s++,this.registry.set("player1Win",s)):(i++,this.registry.set("player2Win",i)),t)try{await fetch(`/api/users/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({player1Win:s,player2Win:i})})}catch(e){console.error("Error actualizando victorias:",e)}else console.log("no hay usuario")}}class x extends e.Scene{constructor(){super("StoryScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("palomon","assets/sprites/palomon.png"),this.load.image("dovenando","assets/sprites/dovenando.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Story",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,120,"In some nameless city, on a damp and murky night, two pigeons wandered through the alleys in search of something to calm their hunger.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,170,"The alluring fragrance of a few forgotten churros awakens in them a fierce blend of survival and greed, and before long the situation erupts into open warfare.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(480,230,"Though there are neither heroes nor villains, each firmly believes that the churro is hers by birthright. Morality falters, friendship fades… there are only churros left.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:800,useAdvancedWrap:!0}}).setOrigin(.5),this.add.text(200,270,"Dovenando",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(220,430,'A cunning, slippery bird, skilled in the art of stealth. His guiding principle: "All churros belong to someone… and that someone is me."',{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(200,340,"dovenando").setOrigin(.5).setScale(1.5),this.add.text(770,270,"Palomón",{fontSize:"32px",color:"#000000",fontStyle:"bold",stroke:"#ffffff",strokeThickness:5}).setOrigin(.5),this.add.text(750,430,"A tough pigeon with a dark history. He once belonged to the avian mafia and is well acquainted with the perils of the streets and gang fights.",{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3,align:"center",wordWrap:{width:400,useAdvancedWrap:!0}}).setOrigin(.5),this.add.image(770,340,"palomon").setOrigin(.5).setScale(1.5);const e=this.add.image(480,500,"boton").setInteractive({useHandCursor:!0});this.add.text(480,500,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),e.on("pointerover",()=>e.setTexture("botonEncima")),e.on("pointerout",()=>e.setTexture("boton")),e.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class S extends e.Scene{constructor(){super("OptionsScene")}preload(){this.load.image("fondoPvP","assets/sprites/Logo PvP.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png"),this.load.image("slider_bar","assets/sprites/slider_bar.png"),this.load.image("slider_button","assets/sprites/slider_button.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondoPvP").setScale(.5),this.add.text(480,50,"Options",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5),this.add.text(480,240,"Volume",{fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:6}).setOrigin(.5);const t=(this.add.image(480,300,"slider_bar").setDisplaySize(300,20).setOrigin(.5),this.add.image(480,300,"slider_button").setDisplaySize(40,40).setInteractive({draggable:!0}).setOrigin(.5));t.x=330+300*this.sound.volume,this.input.setDraggable(t),this.input.on("drag",(s,i,o,n)=>{if(i!==t)return;t.x=e.Math.Clamp(o,330,630);const a=(t.x-330)/300;this.sound.volume=a});const s=this.add.image(480,450,"boton").setInteractive({useHandCursor:!0});this.add.text(480,450,"Back to Menu",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",()=>{this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}class v extends e.Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},t.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){this.attemptCount++,this.attemptText.setText(`Intentos: ${this.attemptCount}`),await t.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),t.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&t.removeListener(this.connectionListener)}}class b extends e.Scene{constructor(){super("LoginScene")}preload(){this.load.image("fondo","assets/sprites/pantalla inicio.png"),this.load.image("botonEncima","assets/sprites/boton_encima.png"),this.load.image("boton","assets/sprites/boton.png")}create(){this.cameras.main.setAlpha(0),this.tweens.add({targets:this.cameras.main,alpha:1,duration:800}),this.add.image(480,270,"fondo"),this.add.text(480,50,"Login",{fontSize:"64px",color:"#ffffffff",stroke:"#000000",strokeThickness:8}).setOrigin(.5);let e=this.cameras.main.width/2;const t=this.add.dom(435,200).createElement("input").node;t.placeholder="Usuario",t.type="text",t.style.width="250px",t.style.height="40px",t.style.fontSize="20px";const s=this.add.image(e,300,"boton").setInteractive({useHandCursor:!0});this.add.text(e,300,"Login",{fontSize:"24px",color:"#000000"}).setOrigin(.5),s.on("pointerover",()=>s.setTexture("botonEncima")),s.on("pointerout",()=>s.setTexture("boton")),s.on("pointerdown",async()=>{const e=t.value.trim();if(e)try{const t=await fetch("/api/users");if(!t.ok)throw new Error("Error al obtener usuarios");let s=(await t.json()).find(t=>t.name===e);if(!s){const t=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok)throw new Error("Error al crear usuario");s=await t.json()}this.registry.set("player1Win",s.player1Win??0),this.registry.set("player2Win",s.player2Win??0),this.registry.set("name",s.name),this.registry.set("userId",s.id),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})}catch(e){console.error(e),this.add.text(480,360,"Error al conectar con el servidor",{fontSize:"20px",color:"#ff0000",stroke:"#000000",strokeThickness:4}).setOrigin(.5)}else alert("Introduce un nombre de usuario")});const i=this.add.image(e,500,"boton").setInteractive({useHandCursor:!0});this.add.text(e,500,"Play as guest",{fontSize:"24px",color:"#000000"}).setOrigin(.5),i.on("pointerover",()=>i.setTexture("botonEncima")),i.on("pointerout",()=>i.setTexture("boton")),i.on("pointerdown",()=>{this.registry.set("player1Win",0),this.registry.set("player2Win",0),this.registry.set("name","Invitado"),this.cameras.main.setAlpha(1),this.scene.transition({target:"MenuScene",duration:1e3,moveBelow:!0,data:{},onUpdate:e=>{this.cameras.main.setAlpha(1-e)}})})}}const w={type:e.AUTO,width:960,height:540,parent:"game-container",dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:1200},debug:!1}},scene:[b,s,u,m,g,y,k,x,S,v],backgroundColor:"#1a2a2e"};new e.Game(w)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZSSxFQUFjVSxHQUMzSG1DLGdCQUFpQixXQUdOLElBQUksT0FBWTdGLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL1BpZ2Vvbi5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvTW92ZVBpZ2VvbkNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvY29tbWFuZHMvQXR0YWNrUGlnZW9uQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvSXRlbS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvQ2h1cnJvLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9lbnRpdGllcy9BdmVuYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGx1bWEuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L2VudGl0aWVzL0Jhc3VyYS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9Db250cm9sc1NjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9zY2VuZXMvU3RvcnlTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL09wdGlvbnNTY2VuZS5qcyIsIndlYnBhY2s6Ly9wdnBfcGlnZW9uX3ZzX3BpZ2Vvbi8uL3NyYy9jbGllbnQvc2NlbmVzL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vcHZwX3BpZ2Vvbl92c19waWdlb24vLi9zcmMvY2xpZW50L3NjZW5lcy9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL3B2cF9waWdlb25fdnNfcGlnZW9uLy4vc3JjL2NsaWVudC9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLyoqXHJcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XHJcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xyXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZpY2FyIGEgbG9zIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZENvdW50LCBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXHJcbiAgICovXHJcbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0U3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXHJcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxyXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICovXHJcbiAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnQXZlTWFyaWEnLCAnYXNzZXRzL3NvdW5kcy9BdmVNYXJpYS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ZvbmRvJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbnRhbGxhIGluaWNpby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGgvMjtcclxuICAgICAgICBsZXQgbGVmdCA9IGNlbnRlci8yO1xyXG4gICAgICAgIGxldCByaWdodCA9IGNlbnRlcioxLjU7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnRm9uZG8nKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1RleHRvcyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlciwgMTAwLCAnUHZQJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyLCAxNTAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudXNlcm5hbWVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXIsMjMwLCBgQmllbnZlbmlkbywgJHt0aGlzLnJlZ2lzdHJ5LmdldCgnbmFtZScpfWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMVRleHQgPSB0aGlzLmFkZC50ZXh0KGxlZnQsMjgwLCBgVmljdG9yaWFzIERvdmVuYXJkbzogJHt0aGlzLnJlZ2lzdHJ5LmdldCgncGxheWVyMVdpbicpfWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyMlRleHQgPSB0aGlzLmFkZC50ZXh0KHJpZ2h0LDI4MCwgYFZpY3RvcmlhcyBQYWxvbcOzbjogJHt0aGlzLnJlZ2lzdHJ5LmdldCgncGxheWVyMldpbicpfWAsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNXB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vLCBjb24gJHt0aGlzLnJlZ2lzdHJ5LmdldCgncGxheWVyMVdpbicpfSB2aWN0b3JpYXMgcGFyYSBEb3ZlbmFuZG8geSAke3RoaXMucmVnaXN0cnkuZ2V0KCdwbGF5ZXIyV2luJyl9IHBhcmEgUGFsb23Ds25cclxuICAgICAgICBpZiAoIXRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnQXZlTWFyaWEnLCB7XHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSBqdWdhciBsb2NhbFxyXG4gICAgICAgIGNvbnN0IGxvY2FsQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UobGVmdCwgMzYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBsb2NhbEJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KGxlZnQsIDM2MCwgJ0xvY2FsIDIgUGxheWVycycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBsb2NhbEJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGxvY2FsQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBsb2NhbEJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL0FwYWdhciBtw7pzaWNhXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmdNdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gZGUgY3JlZGl0b3NcclxuICAgICAgICBjb25zdCBjcmVkaXRzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UobGVmdCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNCdG5UZXh0ID0gdGhpcy5hZGQudGV4dChsZWZ0LCA1MDAsICdDcmVkaXRzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBjcmVkaXRzQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgY3JlZGl0c0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdHNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBjcmVkaXRzQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnQ3JlZGl0c1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIG9wY2lvbmVzXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0J0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKHJpZ2h0LCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KHJpZ2h0LCA1MDAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvcHRpb25zQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb3B0aW9uc0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IG9wdGlvbnNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBvcHRpb25zQnRuU3ByaXRlLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIENyZWRpdHNTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnT3B0aW9uc1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIGNvbnRyb2xlc1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xzQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UocmlnaHQsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBjb250cm9sc0J0blRleHQgPSB0aGlzLmFkZC50ZXh0KHJpZ2h0LCA0MzAsICdDb250cm9scycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBjb250cm9sc0J0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBjb250cm9sc0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGNvbnRyb2xzQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY29udHJvbHNCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBjb250cm9sc0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJhbnNpY2nDs24gYSBDb250cm9sc1NjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdDb250cm9sc1NjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIGhpc3RvcmlhXHJcbiAgICAgICAgY29uc3Qgc3RvcnlCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZShsZWZ0LCA0MzAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcnlCdG5UZXh0ID0gdGhpcy5hZGQudGV4dChsZWZ0LCA0MzAsICdTdG9yeScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDEwKVxyXG5cclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBzdG9yeUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIHN0b3J5QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc3RvcnlCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBzdG9yeUJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBTdG9yeVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdTdG9yeVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEganVnYXIgb25saW5lIChubyBmdW5jaW9uYSlcclxuICAgICAgICBjb25zdCBvbmxpbmVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZShyaWdodCwgMzYwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG9ubGluZUJ0blRleHQgPSB0aGlzLmFkZC50ZXh0KHJpZ2h0LCAzNjAsICdPbmxpbmUgKE5vdCBhdmFpbGFibGUpJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM3YTJlYWNmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG5cclxuICAgICAgICBvbmxpbmVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgb25saW5lQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb25saW5lQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICBcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZmZmZmZmZicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDAwMDAwZmYnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0U3Ryb2tlKCcjZmZmZmZmJyw0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBQaWdlb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmNoYXJhY3RlciA9IGNoYXJhY3RlcjtcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuXHJcbiAgICAgICAgLy9Qcm9waWVkYWRlcyBkZSBhdGFxdWUgeSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5zcGVlZCA9IDMwMDtcclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDYzMDtcclxuICAgICAgICB0aGlzLmF0dGFja1JhbmdlID0gNDA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tGb3JjZSA9IDIwMDtcclxuICAgICAgICB0aGlzLnN0dW5Gb3JjZSA9IDEwMDA7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQ29vbGRvd24gPSA1MDA7XHJcbiAgICAgICAgdGhpcy5sYXN0QXR0YWNrVGltZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB0aGlzLnN0dW5uZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0dW5UaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRlZmF1bHRTdHVuRHVyYXRpb24gPSAxMDAwO1xyXG4gICAgICAgIHRoaXMua25vY2tiYWNrRXhwaXJlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvL0FzaWduYWNpw7NuIGRlIHNwcml0ZSBwYXJhIGNhZGEgcGFsb21hXHJcbiAgICAgICAgbGV0IHRleHR1cmVLZXkgPSBudWxsO1xyXG4gICAgICAgIGlmIChjaGFyYWN0ZXIgPT09IFwicGFsb21vblwiKSB7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcInBhbG9tb25TaGVldFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyID09PSBcImRvdmVuYW5kb1wiKSB7XHJcbiAgICAgICAgICAgIHRleHR1cmVLZXkgPSBcImRvdmVuYW5kb1NoZWV0XCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlBlcnNvbmFqZSBkZXNjb25vY2lkbzpcIiwgY2hhcmFjdGVyKTtcclxuICAgICAgICAgICAgdGV4dHVyZUtleSA9IFwicGFsb21vblNoZWV0XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0bDrXNpY2FzIGRlIGxhcyBwYWxvbWFzXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCB0ZXh0dXJlS2V5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBpZ2VvbiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50ID0gKGNoYXJhY3RlciA9PT0gXCJkb3ZlbmFuZG9cIik7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEZsaXBYKHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0RldGVybWluYSBzaSBsYSBwYWxvbWEgcHVlZGUgYXRhY2FyXHJcbiAgICBjYW5BdHRhY2sobm93KSB7XHJcbiAgICAgICAgbm93ID0gbm93IHx8IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgcmV0dXJuIChub3cgLSB0aGlzLmxhc3RBdHRhY2tUaW1lKSA+PSB0aGlzLmF0dGFja0Nvb2xkb3duO1xyXG4gICAgfVxyXG5cclxuICAgIC8vTWFyY2EgZWwgdGllbXBvIGRlbCDDumx0aW1vIGF0YXF1ZVxyXG4gICAgbWFya0F0dGFja2VkKG5vdykge1xyXG4gICAgICAgIHRoaXMubGFzdEF0dGFja1RpbWUgPSBub3cgfHwgdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgIH1cclxuXHJcbiAgICAvL1JlcHJvZHVjZSBsYSBhbmltYWNpw7NuIGNvcnJlY3RhIHNlZ8O6biBlbCBwZXJzb25hamUgeSBlbCBub21icmUgKGlkbGUsIHdhbGsuLi4pXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1OYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7dGhpcy5jaGFyYWN0ZXJ9XyR7YW5pbU5hbWV9YDtcclxuXHJcbiAgICAgICAgLy9Qb3Igc2kgYWNhc28gbm8gZXhpc3RlIGxhIGFuaW1hY2nDs25cclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBBbmltYWNpw7NuIG5vIGV4aXN0ZTogJHtrZXl9YCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoa2V5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9BcGxpY2Ega25vY2tiYWNrL2VmZWN0byB2aXN1YWwgZGUgcmVjaWJpciBnb2xwZVxyXG4gICAgdGFrZUhpdChrbm9ja2JhY2tYID0gMCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WChrbm9ja2JhY2tYKTtcclxuXHJcbiAgICAgICAgdGhpcy5rbm9ja2JhY2tFeHBpcmUgPSB0aGlzLnNjZW5lLnRpbWUubm93ICsgMjAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdHVubmVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjAwMDApO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyMDAsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0dW5uZWQpIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQXBsaWNhciBzdHVuXHJcbiAgICBzdHVuKGR1cmF0aW9uTXMpIHtcclxuICAgICAgICBkdXJhdGlvbk1zID0gZHVyYXRpb25NcyA9PSBudWxsID8gdGhpcy5kZWZhdWx0U3R1bkR1cmF0aW9uIDogZHVyYXRpb25NcztcclxuICAgICAgICBpZiAodGhpcy5zdHVubmVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3R1bm5lZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDk5OTlmZik7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG5cclxuICAgICAgICB0aGlzLnN0dW5UaW1lb3V0ID0gdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGR1cmF0aW9uTXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdHVubmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgICAgICB0aGlzLnN0dW5UaW1lb3V0ID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FuaW1hY2nDs24gZGUgYXRhcXVlXHJcbiAgICBzdGFydEF0dGFja0FuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0F0dGFja2luZykgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBrZXkgPSBgJHt0aGlzLmNoYXJhY3Rlcn1fYXR0YWNrYDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUuYW5pbXMuZXhpc3RzKGtleSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TaSBlc3TDoSBtaXJhbmRvIGFsIGNvbnRyYXJpbywgbWFudGVuZXIgZmxpcFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEZsaXBYKHRoaXMuZmFjaW5nID09PSBcImxlZnRcIiA/ICF0aGlzLmludmVydEZsaXBGb3JNb3ZlbWVudCA6IHRoaXMuaW52ZXJ0RmxpcEZvck1vdmVtZW50KTtcclxuXHJcbiAgICAgICAgLy9Wb2x2ZXIgYSBhbmltYWNpw7NuIG5vcm1hbCB0cmFzIGVsIGF0YXF1ZVxyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyNTAsICgpID0+IHsgICAvLyBEdXJhY2nDs24gYXByb3hpbWFkYSBkZWwgYXRhcXVlXHJcbiAgICAgICAgICAgIHRoaXMuZW5kQXR0YWNrQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9GaW4gZGUgbGEgYW5pbWFjacOzbiBkZSBhdGFxdWVcclxuICAgIGVuZEF0dGFja0FuaW1hdGlvbigpIHtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKFwiaWRsZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbihcIndhbGtcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vU3ByaXRlIGRlbCBhdGFxdWVcclxuICAgIHNob3dBdHRhY2tTcHJpdGUoZHVyYXRpb25NcyA9IDI1MCkge1xyXG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5zY2VuZTtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmNoYXJhY3RlciA9PT0gJ2RvdmVuYW5kbycgPyAnZG92ZW5hbmRvQXR0YWNrJyA6ICdwYWxvbW9uQXR0YWNrJztcclxuXHJcbiAgICAgICAgLy9DcmVhciBzcHJpdGUgdmlzdWFsIGRlbCBhdGFxdWVcclxuICAgICAgICBjb25zdCBhdHRhY2tTcHJpdGUgPSBzY2VuZS5hZGQuc3ByaXRlKHRoaXMuc3ByaXRlLngsIHRoaXMuc3ByaXRlLnksIGtleSk7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgYXR0YWNrU3ByaXRlLnNldERlcHRoKHRoaXMuc3ByaXRlLmRlcHRoICsgMSk7XHJcblxyXG4gICAgICAgIC8vQWp1c3RlIGluaWNpYWwgc2Vnw7puIGRpcmVjY2nDs25cclxuICAgICAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5mYWNpbmcgPT09ICdyaWdodCcgPyAyMCA6IC0yMDtcclxuICAgICAgICBhdHRhY2tTcHJpdGUueCArPSBvZmZzZXRYO1xyXG5cclxuICAgICAgICBhdHRhY2tTcHJpdGUuc2V0RmxpcFgodGhpcy5mYWNpbmcgPT09ICdsZWZ0Jyk7XHJcblxyXG4gICAgICAgIC8vRXZlbnRvIHBhcmEgc2VndWlyIGEgbGEgcGFsb21hXHJcbiAgICAgICAgY29uc3QgZm9sbG93RXZlbnQgPSBzY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDE2LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXR0YWNrU3ByaXRlLnggPSB0aGlzLnNwcml0ZS54ICsgb2Zmc2V0WDtcclxuICAgICAgICAgICAgICAgIGF0dGFja1Nwcml0ZS55ID0gdGhpcy5zcHJpdGUueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0Rlc3RydWlyIGVsIHNwcml0ZSB5IGRldGVuZXIgc2VndWltaWVudG8gZGVzcHXDqXMgZGUgZHVyYXRpb25cclxuICAgICAgICBzY2VuZS50aW1lLmRlbGF5ZWRDYWxsKGR1cmF0aW9uTXMsICgpID0+IHtcclxuICAgICAgICAgICAgZm9sbG93RXZlbnQucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgYXR0YWNrU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL0HDsWFkaXIgcHVudHVhY2nDs25cclxuICAgIGFkZFNjb3JlKHZhbHVlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmUgKz0gdmFsdWU7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5pZH0gcmVjb2dpw7MgdW4gQ2h1cnJvIOKGkiBzY29yZTogJHt0aGlzLnNjb3JlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQXBsaWNhciBwb3dlci11cFxyXG4gICAgYXBwbHlNb2RpZmllcihwcm9wZXJ0eSwgYW1vdW50LCBkdXJhdGlvbikge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTGEgcHJvcGllZGFkICR7cHJvcGVydHl9IG5vIGV4aXN0ZSBlbiBsYSBwYWxvbWEuYCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXNbcHJvcGVydHldICs9IGFtb3VudDtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gLT0gYW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG5cclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVQaWdlb25Db21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocGlnZW9uLCBtb3ZlWCA9IDAsIGp1bXAgPSBmYWxzZSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5waWdlb24gPSBwaWdlb247XHJcbiAgICAgICAgdGhpcy5tb3ZlWCA9IG1vdmVYO1xyXG4gICAgICAgIHRoaXMuanVtcCA9IGp1bXA7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBpZ2VvbjtcclxuICAgICAgICBjb25zdCBzcHJpdGUgPSBwaWdlb24uc3ByaXRlO1xyXG5cclxuICAgICAgICAvL1NpIGVzdMOhIHN0dW5hZG8gbm8gcGVybWl0ZSBtb3ZlcnNlIG5pIHJlcHJvZHVjaXIgY2FtaW5hdGFcclxuICAgICAgICBpZiAocGlnZW9uLnN0dW5uZWQpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ2lkbGUnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9GbGlwIHNlZ8O6biBtb3ZpbWllbnRvLCB0ZW5pZW5kbyBlbiBjdWVudGEgc3ByaXRlcyBpbnZlcnRpZG9zXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggPiAwKSB7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlWCA8IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vdmVYICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRGbGlwID0gcGlnZW9uLmludmVydEZsaXBGb3JNb3ZlbWVudCA/ICh0aGlzLm1vdmVYID4gMCkgOiAodGhpcy5tb3ZlWCA8IDApO1xyXG4gICAgICAgICAgICBzcHJpdGUuc2V0RmxpcFgoZGVzaXJlZEZsaXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9WZWxvY2lkYWQgaG9yaXpvbnRhbFxyXG4gICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlWCAqIHBpZ2Vvbi5zcGVlZCk7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBhbmltYWNpw7NuIGNvcnJlY3RhXHJcbiAgICAgICAgaWYgKHRoaXMubW92ZVggIT09IDApIHtcclxuICAgICAgICAgICAgcGlnZW9uLnBsYXlBbmltYXRpb24oJ3dhbGsnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwaWdlb24ucGxheUFuaW1hdGlvbignaWRsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TYWx0YXIgw7puaWNhbWVudGUgc2kgZXN0w6EgZW4gZWwgc3VlbG9cclxuICAgICAgICBpZiAodGhpcy5qdW1wKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBzcHJpdGUuYm9keTtcclxuICAgICAgICAgICAgY29uc3Qgb25Hcm91bmQgPSBib2R5ICYmICh0eXBlb2YgYm9keS5vbkZsb29yID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICAgICA/IGJvZHkub25GbG9vcigpXHJcbiAgICAgICAgICAgICAgICA6ICgoYm9keS5ibG9ja2VkICYmIGJvZHkuYmxvY2tlZC5kb3duKSB8fCAoYm9keS50b3VjaGluZyAmJiBib2R5LnRvdWNoaW5nLmRvd24pKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAob25Hcm91bmQpIHtcclxuICAgICAgICAgICAgICAgIHNwcml0ZS5zZXRWZWxvY2l0eVkoLXBpZ2Vvbi5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7Q29tbWFuZH0gZnJvbSAnLi9Db21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihnYW1lU2NlbmUsIGlzUGF1c2VkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gaXNQYXVzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZS5zZXRQYXVzZVN0YXRlKHRoaXMuaXNQYXVzZWQpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF0dGFja1BpZ2VvbkNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBpZ2Vvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5waWdlb24gPSBwaWdlb247XHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucGlnZW9uLnNjZW5lO1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvL05vIHB1ZWRlIGF0YWNhciBzaSBlc3TDoSBzdHVuYWRhXHJcbiAgICAgICAgaWYgKHRoaXMucGlnZW9uLnN0dW5uZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy9Db21wcm9iYXIgc2kgcHVlZGUgYXRhY2FyXHJcbiAgICAgICAgaWYgKCF0aGlzLnBpZ2Vvbi5jYW5BdHRhY2sobm93KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvL01hcmNhciBhdGFxdWVcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5tYXJrQXR0YWNrZWQobm93KTtcclxuICAgICAgICB0aGlzLnBpZ2Vvbi5zdGFydEF0dGFja0FuaW1hdGlvbigpO1xyXG4gICAgICAgIHRoaXMucGlnZW9uLnNob3dBdHRhY2tTcHJpdGUoMjUwKTtcclxuICAgICAgICBzY2VuZS5zb3VuZC5wbGF5KCdTb25pZG9BdGFxdWUnLCB7IHZvbHVtZTogMC43IH0pO1xyXG5cclxuICAgICAgICAvL0RpcmVjY2nDs24gYSBsYSBxdWUgYXRhY2FcclxuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLnBpZ2Vvbi5mYWNpbmcgPT09ICdyaWdodCcgPyAxIDogLTE7XHJcbiAgICAgICAgY29uc3QgeCA9IHRoaXMucGlnZW9uLnNwcml0ZS54ICsgZGlyICogdGhpcy5waWdlb24uYXR0YWNrUmFuZ2U7XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMucGlnZW9uLnNwcml0ZS55O1xyXG5cclxuICAgICAgICAvL0NyZWFyIGhpdGJveCBmw61zaWNvIHRlbXBvcmFsIChpbnZpc2libGUpXHJcbiAgICAgICAgY29uc3QgaGl0Ym94ID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIG51bGwpO1xyXG4gICAgICAgIGhpdGJveC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBoaXRib3guYm9keS5zZXRBbGxvd0dyYXZpdHkoZmFsc2UpO1xyXG4gICAgICAgIGhpdGJveC5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICBoaXRib3guc2V0U2l6ZSh0aGlzLnBpZ2Vvbi5hdHRhY2tSYW5nZSwgdGhpcy5waWdlb24uYmFzZUhlaWdodCAqIDAuNik7XHJcblxyXG4gICAgICAgIC8vQ29tcHJvYmFyIGNvbGlzaW9uZXMgY29uIG90cmFzIHBhbG9tYXNcclxuICAgICAgICBjb25zdCBvdmVybGFwID0gc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChoaXRib3gsIHNjZW5lLnBsYXllclNwcml0ZXMsIChoYiwgdGFyZ2V0U3ByaXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXRTcHJpdGUgPT09IHRoaXMucGlnZW9uLnNwcml0ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXRQaWdlb24gPSB0YXJnZXRTcHJpdGUucGlnZW9uO1xyXG4gICAgICAgICAgICBpZiAoIXRhcmdldFBpZ2VvbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9Lbm9ja2JhY2sgc2Vnw7puIGRpcmVjY2nDs24gZGVsIGF0YWNhbnRlXHJcbiAgICAgICAgICAgIGNvbnN0IGtub2NrID0gdGhpcy5waWdlb24uYXR0YWNrRm9yY2UgKiBkaXI7XHJcblxyXG4gICAgICAgICAgICAvL1NUVU4geSBrbm9ja2JhY2tcclxuICAgICAgICAgICAgdGFyZ2V0UGlnZW9uLnN0dW4odGhpcy5waWdlb24uc3R1bkZvcmNlKTtcclxuICAgICAgICAgICAgdGFyZ2V0UGlnZW9uLnRha2VIaXQoa25vY2spO1xyXG5cclxuICAgICAgICAgICAgLy9Fdml0YXIgbcO6bHRpcGxlcyBpbXBhY3RvcyBwb3IgZWwgbWlzbW8gYXRhcXVlXHJcbiAgICAgICAgICAgIGlmIChvdmVybGFwICYmIHNjZW5lLnBoeXNpY3MgJiYgc2NlbmUucGh5c2ljcy53b3JsZCkge1xyXG4gICAgICAgICAgICAgICAgc2NlbmUucGh5c2ljcy53b3JsZC5yZW1vdmVDb2xsaWRlcihvdmVybGFwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0Rlc3RydWlyIGhpdGJveCBwYXNhZG8gdW4gdGllbXBvIGNvcnRvXHJcbiAgICAgICAgc2NlbmUudGltZS5kZWxheWVkQ2FsbCgxMjAsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG92ZXJsYXAgJiYgc2NlbmUucGh5c2ljcyAmJiBzY2VuZS5waHlzaWNzLndvcmxkKSB7XHJcbiAgICAgICAgICAgICAgICBzY2VuZS5waHlzaWNzLndvcmxkLnJlbW92ZUNvbGxpZGVyKG92ZXJsYXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoaXRib3ggJiYgaGl0Ym94LmRlc3Ryb3kpIGhpdGJveC5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHNwcml0ZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgc3ByaXRlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREaXNwbGF5U2l6ZSg0MCwgNDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEltbW92YWJsZSh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXhwaXJlVGltZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRnVuY2nDs24gZ2Vuw6lyaWNhIHBhcmEgYXBsaWNhciBlbCBlZmVjdG8gZGVsIMOtdGVtXHJcbiAgICBhcHBseUVmZmVjdChwaWdlb24pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJhcHBseUVmZmVjdCgpIG5vIGltcGxlbWVudGFkbyBlbiBlbCBpdGVtXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vQ3JlYXIgeSBtb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwIGRlYmFqbyBkZWwgdGV4dG8gZGUgcHVudHVhY2nDs25cclxuICAgIHNob3dJdGVtSWNvbihwaWdlb24sIGljb25LZXksIGR1cmF0aW9uKSB7XHJcblxyXG4gICAgICAgIC8vTGltcGlhciBjdWFscXVpZXIgaWNvbm8gYW50ZXJpb3IgZGVsIHBpZ2VvblxyXG4gICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblNwcml0ZSkge1xyXG4gICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIpIHtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1Bvc2ljaW9uYXIgZWwgaWNvbm8gcmVsYXRpdm8gYWwgdGV4dG8gZGUgcHVudHVhY2nDs25cclxuICAgICAgICBsZXQgaWNvblggPSBudWxsO1xyXG4gICAgICAgIGxldCBpY29uWSA9IDg1O1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLnNjb3JlVGV4dFAxICYmIHRoaXMuc2NlbmUuc2NvcmVUZXh0UDIpIHtcclxuICAgICAgICAgICAgaWNvblggPSBwaWdlb24uaWQgPT09ICdwbGF5ZXIxJyA/IHRoaXMuc2NlbmUuc2NvcmVUZXh0UDEueCArIDI1IDogdGhpcy5zY2VuZS5zY29yZVRleHRQMi54ICsgMTc1O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vRmFsbGJhY2sgYSBjb29yZGVuYWRhcyBjb25vY2lkYXNcclxuICAgICAgICAgICAgaWNvblggPSBwaWdlb24uaWQgPT09ICdwbGF5ZXIxJyA/IDQwIDogODUwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25TcHJpdGUgPSB0aGlzLnNjZW5lLmFkZC5pbWFnZShpY29uWCwgaWNvblksIGljb25LZXkpO1xyXG4gICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLnNldERpc3BsYXlTaXplKDUwLCA1MCk7XHJcblxyXG4gICAgICAgIC8vR3VhcmRhciB1biB0aW1lciBlbiBlbCBwaWdlb24gcGFyYSBlbGltaW5hciBlbCBpY29ubyBhbCBleHBpcmFyXHJcbiAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lciA9IHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiBkdXJhdGlvbixcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChwaWdlb24uYWN0aXZlSWNvblNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uU3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICBwaWdlb24uYWN0aXZlSWNvblNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGlnZW9uLmFjdGl2ZUljb25UaW1lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZ2Vvbi5hY3RpdmVJY29uVGltZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLmFjdGl2ZUljb25UaW1lciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7SXRlbX0gZnJvbSAnLi9JdGVtLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIENodXJybyBleHRlbmRzIEl0ZW0ge1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCdjaHVycm9TaGVldCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoJ2NodXJyb19hbmltJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKXtcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb0NodXJybycsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICBwaWdlb24uYWRkU2NvcmUoMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9JdGVtLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEF2ZW5hIGV4dGVuZHMgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ2F2ZW5hJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvcmNlQm9vc3QgPSAzMDA7XHJcbiAgICAgICAgY29uc3Qgc3R1bkJvb3N0ID0gMTAwMDtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IDUwMDA7XHJcblxyXG4gICAgICAgIC8vUmVwcm9kdWNpciBzb25pZG8gZGUgcmVjb2dpZGEgZGUgbGEgYXZlbmFcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb0F2ZW5hJywge1xyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL01vc3RyYXIgZWwgaWNvbm8gZGVsIHBvd2VydXBcclxuICAgICAgICB0aGlzLnNob3dJdGVtSWNvbihwaWdlb24sICdpY29uQXZlbmEnLCBkdXJhdGlvbik7XHJcblxyXG4gICAgICAgIC8vQXBsaWNhciBwb3RlbmNpYSBlbGV2YWRhXHJcbiAgICAgICAgcGlnZW9uLmFwcGx5TW9kaWZpZXIoJ2F0dGFja0ZvcmNlJywgZm9yY2VCb29zdCwgZHVyYXRpb24pO1xyXG4gICAgICAgIHBpZ2Vvbi5hcHBseU1vZGlmaWVyKCdzdHVuRm9yY2UnLCBzdHVuQm9vc3QsIGR1cmF0aW9uKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJdGVtIH0gZnJvbSAnLi9JdGVtLmpzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsdW1hIGV4dGVuZHMgSXRlbSB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgJ3BsdW1hJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGluY3JlYXNlID0gMjAwO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwMDtcclxuXHJcbiAgICAgICAgLy9SZXByb2R1Y2lyIHNvbmlkbyBkZSByZWNvZ2lkYSBkZSBsYSBwbHVtYVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheSgnU29uaWRvUGx1bWEnLCB7XHJcbiAgICAgICAgICAgIHZvbHVtZTogMC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vTW9zdHJhciBlbCBpY29ubyBkZWwgcG93ZXJ1cFxyXG4gICAgICAgIHRoaXMuc2hvd0l0ZW1JY29uKHBpZ2VvbiwgJ2ljb25QbHVtYScsIGR1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgLy9BcGxpY2FyIGF1bWVudG8gZGUgdmVsb2NpZGFkXHJcbiAgICAgICAgcGlnZW9uLmFwcGx5TW9kaWZpZXIoJ3NwZWVkJywgaW5jcmVhc2UsIGR1cmF0aW9uKTtcclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vSXRlbS5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBCYXN1cmEgZXh0ZW5kcyBJdGVtIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCAnYmFzdXJhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlFZmZlY3QocGlnZW9uKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlY3JlYXNlID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gNTAwMDtcclxuXHJcbiAgICAgICAgLy9SZXByb2R1Y2lyIHNvbmlkbyBkZSByZWNvZ2lkYSBkZSBsYSBiYXN1cmFcclxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoJ1Nvbmlkb0Jhc3VyYScsIHtcclxuICAgICAgICAgICAgdm9sdW1lOiAwLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Nb3N0cmFyIGVsIGljb25vIGRlbCBwb3dlcnVwXHJcbiAgICAgICAgdGhpcy5zaG93SXRlbUljb24ocGlnZW9uLCAnaWNvbkJhc3VyYScsIGR1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgLy9BcGxpY2FyIHJlZHVjY2nDs24gZGUgdmVsb2NpZGFkXHJcbiAgICAgICAgcGlnZW9uLmFwcGx5TW9kaWZpZXIoJ3NwZWVkJywgLWRlY3JlYXNlLCBkdXJhdGlvbik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBpZ2VvbiB9IGZyb20gJy4uL2VudGl0aWVzL1BpZ2Vvbi5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9Nb3ZlUGlnZW9uQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IFBhdXNlQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmRzL1BhdXNlQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IEF0dGFja1BpZ2VvbkNvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kcy9BdHRhY2tQaWdlb25Db21tYW5kLmpzJztcclxuaW1wb3J0IHsgQ2h1cnJvIH0gZnJvbSAnLi4vZW50aXRpZXMvQ2h1cnJvLmpzJztcclxuaW1wb3J0IHsgQXZlbmEgfSBmcm9tICcuLi9lbnRpdGllcy9BdmVuYS5qcyc7XHJcbmltcG9ydCB7IFBsdW1hIH0gZnJvbSAnLi4vZW50aXRpZXMvUGx1bWEuanMnO1xyXG5pbXBvcnQgeyBCYXN1cmEgfSBmcm9tICcuLi9lbnRpdGllcy9CYXN1cmEuanMnO1xyXG5cclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmVzY1dhc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLmNodXJybyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy9Qb3NpY2lvbmVzIGRlIGFwYXJpY2nDs24gZGUgb2JqZXRvcyB5IGNodXJyb3NcclxuICAgICAgICB0aGlzLml0ZW1TcGF3blBvc2l0aW9ucyA9IFtcclxuICAgICAgICAgICAgeyB4OiA1NjAsIHk6IDQ1IH0sXHJcbiAgICAgICAgICAgIHsgeDogNDE1LCB5OiAyMDAgfSxcclxuICAgICAgICAgICAgeyB4OiA3OTAsIHk6IDExNSB9LFxyXG4gICAgICAgICAgICB7IHg6IDc5MCwgeTogMjgwIH0sXHJcbiAgICAgICAgICAgIHsgeDogMTI2LCB5OiAxMTUgfSxcclxuICAgICAgICAgICAgeyB4OiAxMjYsIHk6IDI4MCB9LFxyXG4gICAgICAgICAgICB7IHg6IDU2MCwgeTogNDU1IH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBzID0gW1xyXG4gICAgICAgICAgICAnYXZlbmEnLFxyXG4gICAgICAgICAgICAnYmFzdXJhJyxcclxuICAgICAgICAgICAgJ3BsdW1hJ1xyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy9TcHJpdGVzIGUgaW3DoWdlbmVzIGRlIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9zcHJpdGVzL2JhY2tncm91bmQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2h1cnJvJywgJ2Fzc2V0cy9zcHJpdGVzL0NodXJybyBKRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdhdmVuYScsICdhc3NldHMvc3ByaXRlcy9BdmVuYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BsdW1hJywgJ2Fzc2V0cy9zcHJpdGVzL1BsdW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0Jhc3VyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RvdmVuYW5kb0F0dGFjaycsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fYXR0YWNrLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFsb21vbkF0dGFjaycsICdhc3NldHMvc3ByaXRlcy9QYWxvbW9uX2F0dGFjay5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25QbHVtYScsICdhc3NldHMvc3ByaXRlcy9JY29uX2Zhc3QucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpY29uQmFzdXJhJywgJ2Fzc2V0cy9zcHJpdGVzL0ljb25fc2xvdy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ljb25BdmVuYScsICdhc3NldHMvc3ByaXRlcy9JY29uX3N0cm9uZy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0ljb25fcCcsICdhc3NldHMvc3ByaXRlcy9JY29uX1BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdJY29uX2QnLCAnYXNzZXRzL3Nwcml0ZXMvSWNvbl9Eb3ZlbmFuZG8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vTcO6c2ljYSB5IHNvbmlkb3NcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ051bWInLCAnYXNzZXRzL3NvdW5kcy9OdW1iLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnU29uaWRvUGx1bWEnLCAnYXNzZXRzL3NvdW5kcy9zb25pZG9QbHVtYS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0NodXJybycsICdhc3NldHMvc291bmRzL3Nvbmlkb0NodXJyby5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0Jhc3VyYScsICdhc3NldHMvc291bmRzL3Nvbmlkb0Jhc3VyYS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0F0YXF1ZScsICdhc3NldHMvc291bmRzL3Nvbmlkb0F0YXF1ZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1Nvbmlkb0F2ZW5hJywgJ2Fzc2V0cy9zb3VuZHMvc29uaWRvQWxwaXN0ZS5tcDMnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdwYWxvbW9uU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvUGFsb21vbl93YWxrLnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNjYsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA2NlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZG92ZW5hbmRvU2hlZXQnLCAnYXNzZXRzL3Nwcml0ZXMvRG92ZW5hbmRvX3dhbGsucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdjaHVycm9TaGVldCcsICdhc3NldHMvc3ByaXRlcy9DaHVycm8gSkVSLXNoZWV0LnBuZycsIHtcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogMjUsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAyNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgncGFsb21vbkF0dGFja1NoZWV0JywgJ2Fzc2V0cy9zcHJpdGVzL1BhbG9tb25fd2Fsa19ub1dpbmcucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KCdkb3ZlbmFuZG9BdHRhY2tTaGVldCcsICdhc3NldHMvc3ByaXRlcy9Eb3ZlbmFuZG9fd2Fsa19ub1dpbmcucG5nJywge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA2NixcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDY2XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgICAgICAvL011c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYyA9IHRoaXMuc291bmQuYWRkKCdOdW1iJywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxhdGZvcm1zKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBQbGF5ZXJzKCk7XHJcblxyXG4gICAgICAgIHRoaXMucGlnZW9uSW5kaWNhdG9ycyA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogdGhpcy5hZGQuaW1hZ2UoMTAsIDYwLCAnSWNvbl9kJykuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoOTk5KSxcclxuICAgICAgICAgICAgcGxheWVyMjogdGhpcy5hZGQuaW1hZ2UoMTAsIDYwLCAnSWNvbl9wJykuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoOTk5KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vQW5pbWFjaW9uZXMgZGUgbG9zIHNwcml0ZXNoZWV0c1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncGFsb21vbl9pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbeyBrZXk6ICdwYWxvbW9uU2hlZXQnLCBmcmFtZTogMCB9XSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncGFsb21vbl93YWxrJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdwYWxvbW9uU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2RvdmVuYW5kb19pZGxlJyxcclxuICAgICAgICAgICAgZnJhbWVzOiBbeyBrZXk6ICdkb3ZlbmFuZG9TaGVldCcsIGZyYW1lOiAwIH1dLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdkb3ZlbmFuZG9fd2FsaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnZG92ZW5hbmRvU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NodXJyb19hbmltJyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaHVycm9TaGVldCcsIHsgc3RhcnQ6IDAsIGVuZDogMyB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAncGFsb21vbl9hdHRhY2snLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3BhbG9tb25BdHRhY2tTaGVldCcsIHsgc3RhcnQ6IDEsIGVuZDogMyB9KSwgLy8gYWp1c3RhIGVuZCBzaSBoYXkgbcOhcyBmcmFtZXNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA4LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnZG92ZW5hbmRvX2F0dGFjaycsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnZG92ZW5hbmRvQXR0YWNrU2hlZXQnLCB7IHN0YXJ0OiAxLCBlbmQ6IDMgfSksIC8vIGFqdXN0YSBlbmQgc2kgaGF5IG3DoXMgZnJhbWVzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogOCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy9QdW50dWFjaW9uZVxyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDEgPSB0aGlzLmFkZC50ZXh0KDEwLCAyMCwgJ0RvdmVuYW5kbzogMCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZVRleHRQMiA9IHRoaXMuYWRkLnRleHQoNzUwLCAyMCwgJ1BhbG9tw7NuOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllclNwcml0ZXMgPSB0aGlzLnBoeXNpY3MuYWRkLmdyb3VwKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGlnZW9uID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJTcHJpdGVzLmFkZChwaWdlb24uc3ByaXRlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9Db2xpc2lvbmVzIGVudHJlIHBhbG9tYXMgeSBwbGF0YWZvcm1hc1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5wbGF5ZXJTcHJpdGVzLCB0aGlzLnBsYXRmb3Jtcyk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVyU3ByaXRlcywgdGhpcy5wbGF5ZXJTcHJpdGVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lc2NLZXkgPSB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRVNDKTtcclxuXHJcbiAgICAgICAgLy9DYWRhIDUgc2VndW5kb3MgaW50ZW50YXIgZ2VuZXJhciB1biBjaHVycm9cclxuICAgICAgICB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogNTAwMCxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNodXJybyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bhd25JdGVtKFwiY2h1cnJvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQ2FkYSA3IHNlZ3VuZG9zIGludGVudGFyIGdlbmVyYXIgdW4gY2h1cnJvXHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDcwMDAsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGF3bkl0ZW0oUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbSh0aGlzLnBvd2VyVXBzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cy5vbignc2h1dGRvd24nLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdkZXN0cm95JywgdGhpcy5vblNodXRkb3duLCB0aGlzKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25Db25uZWN0aW9uTG9zdCgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgY3JlYXRlUGxhdGZvcm1zKCkge1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNHcm91cCgpO1xyXG5cclxuICAgICAgICAvL1JlcGlzbyBkZSBhcnJpYmFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNTQwLCA4MCwgbnVsbCkuc2V0RGlzcGxheVNpemUoMjIwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgYXJyaWJhIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDMxMCwgODAsIG51bGwpLnNldERpc3BsYXlTaXplKDEwLCAyMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9SZXBpc28gZGUgZW4gbWVkaW9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDE1LCAyMzcsIG51bGwpLnNldERpc3BsYXlTaXplKDIyMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUmVwaXNvIGRlIGVuIG1lZGlvIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDY1MCwgMjM3LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMCwgMjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vU3VlbG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNDgwLCA1MTMsIG51bGwpLnNldERpc3BsYXlTaXplKDk2MCwgNjApLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vQ2FtaXNldGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoNjQwLCAzNjAsIG51bGwpLnNldERpc3BsYXlTaXplKDkwLCA1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BhbnRhbG9uZXNcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoMzQ1LCAzNjUsIG51bGwpLnNldERpc3BsYXlTaXplKDEwMCwgNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGl6cXVpZXJkb1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgzMywgNDMwLCBudWxsKS5zZXREaXNwbGF5U2l6ZSg3MCwgMTIwMCkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9Mw61taXRlIGRlcmVjaG9cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoOTI3LCA0MzAsIG51bGwpLnNldERpc3BsYXlTaXplKDcwLCAxMjAwKS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGl6cXVpZXJkYVxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4OSwgNDc1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgyMDAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL0FjZXJhIGRlcmVjaGFcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5jcmVhdGUoODcwLCA0NzUsIG51bGwpLnNldERpc3BsYXlTaXplKDIwMCwgMTUpLnJlZnJlc2hCb2R5KCk7XHJcblxyXG4gICAgICAgIC8vUGxhdGFmb3JtYSBkZXJlY2hhIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuY3JlYXRlKDgzMiwgMTQ1LCBudWxsKS5zZXREaXNwbGF5U2l6ZSgxMzAsIDE1KS5yZWZyZXNoQm9keSgpO1xyXG5cclxuICAgICAgICAvL1BsYXRhZm9ybWEgZGVyZWNoYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSg4MzIsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBzdXBlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDE0NSwgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy9QbGF0YWZvcm1hIGl6cXVpZXJkYSBpbmZlcmlvclxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmNyZWF0ZSgxMjYsIDMxMywgbnVsbCkuc2V0RGlzcGxheVNpemUoMTMwLCAxNSkucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vQ29uZmlndXJhY2nDs24gZGUgcGFsb21hcyB5IGNvbnRyb2xlc1xyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxlZnRQaWdlb24gPSBuZXcgUGlnZW9uKHRoaXMsICdwbGF5ZXIxJywgMTUwLCA0MzUsICdkb3ZlbmFuZG8nKTtcclxuICAgICAgICBjb25zdCByaWdodFBpZ2VvbiA9IG5ldyBQaWdlb24odGhpcywgJ3BsYXllcjInLCA4MDAsIDQzNSwgJ3BhbG9tb24nKTtcclxuXHJcbiAgICAgICAgcmlnaHRQaWdlb24uc3ByaXRlLmZsaXBYID0gdHJ1ZTtcclxuICAgICAgICByaWdodFBpZ2Vvbi5mYWNpbmcgPSAnbGVmdCc7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBsZWZ0UGlnZW9uKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcmlnaHRQaWdlb24pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdTSElGVCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IElucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuYXR0YWNrS2V5XSksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZW5lcmFyIHVuIG9iamV0byBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBkaXNwb25pYmxlXHJcbiAgICBzcGF3bkl0ZW0odHlwZSkge1xyXG5cclxuICAgICAgICBsZXQgcmVmTmFtZSA9IG51bGw7XHJcbiAgICAgICAgbGV0IEl0ZW1DbGFzcyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vRGVjaWRpciBxdcOpIGNsYXNlIGluc3RhbmNpYXIgeSBxdcOpIHJlZmVyZW5jaWEgdXNhclxyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2h1cnJvXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJjaHVycm9cIjtcclxuICAgICAgICAgICAgICAgIEl0ZW1DbGFzcyA9IENodXJybztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImF2ZW5hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBBdmVuYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInBsdW1hXCI6XHJcbiAgICAgICAgICAgICAgICByZWZOYW1lID0gXCJwb3dlclVwXCI7XHJcbiAgICAgICAgICAgICAgICBJdGVtQ2xhc3MgPSBQbHVtYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImJhc3VyYVwiOlxyXG4gICAgICAgICAgICAgICAgcmVmTmFtZSA9IFwicG93ZXJVcFwiO1xyXG4gICAgICAgICAgICAgICAgSXRlbUNsYXNzID0gQmFzdXJhO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGlwbyBkZXNjb25vY2lkbzpcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdmFpbGFibGVQb3NpdGlvbnMgPSB0aGlzLml0ZW1TcGF3blBvc2l0aW9ucy5maWx0ZXIocG9zID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vRXZpdGFyIHBvc2ljacOzbiBkb25kZSBoYXkgY2h1cnJvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUueCA9PT0gcG9zLnggJiYgdGhpcy5jaHVycm8uc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEV2aXRhciBwb3NpY2nDs24gZG9uZGUgaGF5IHBvd2VyLXVwXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZS54ID09PSBwb3MueCAmJiB0aGlzLnBvd2VyVXAuc3ByaXRlLnkgPT09IHBvcy55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0VsZWdpciB1bmEgcG9zaWNpw7NuIGFsIGF6YXJcclxuICAgICAgICBjb25zdCBwb3MgPSBQaGFzZXIuVXRpbHMuQXJyYXkuR2V0UmFuZG9tKGF2YWlsYWJsZVBvc2l0aW9ucyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgSXRlbUNsYXNzKHRoaXMsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgdGhpc1tyZWZOYW1lXSA9IChpdGVtKTtcclxuXHJcbiAgICAgICAgLy9BY3RpdmFyIG92ZXJsYXAgY29uIGFtYm9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBpZ2VvbiA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHBpZ2Vvbi5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBpdGVtLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMub25JdGVtUGlja3VwLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHJlZk5hbWUgPT09IFwicG93ZXJVcFwiKSB7XHJcblxyXG4gICAgICAgICAgICAvL1RpZW1wbyBkZSB2aWRhIGRlbCBwb3dlci11cCBcclxuICAgICAgICAgICAgY29uc3QgbGlmZXRpbWUgPSA5MDAwO1xyXG5cclxuICAgICAgICAgICAgLy9HdWFyZGFyIGVsIHRpbWVyIGVuIGVsIHByb3BpbyBvYmpldG8gcGFyYSBwb2RlciBjYW5jZWxhcmxvIHNpIGhhY2UgZmFsdGFcclxuICAgICAgICAgICAgaXRlbS5leHBpcmVUaW1lciA9IHRoaXMudGltZS5kZWxheWVkQ2FsbChsaWZldGltZSwgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXAgPT09IGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUl0ZW0oaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01hbmVqbyBkZSByZWNvZ2lkYSBkZSBvYmpldG9zXHJcbiAgICBvbkl0ZW1QaWNrdXAocGlnZW9uU3ByaXRlLCBpdGVtU3ByaXRlKSB7XHJcblxyXG4gICAgICAgIGxldCBwbGF5ZXJJZCA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3ByaXRlID09PSBwaWdlb25TcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkID0gaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFwbGF5ZXJJZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBwaWdlb24gPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5nZXRJdGVtQnlTcHJpdGUoaXRlbVNwcml0ZSk7XHJcblxyXG4gICAgICAgIGl0ZW0uYXBwbHlFZmZlY3QocGlnZW9uKTtcclxuXHJcbiAgICAgICAgLy9BY3R1YWxpemFyIHB1bnR1YWNpb25lc1xyXG4gICAgICAgIHRoaXMuc2NvcmVUZXh0UDEuc2V0VGV4dCgnRG92ZW5hbmRvOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNjb3JlKTtcclxuICAgICAgICB0aGlzLnNjb3JlVGV4dFAyLnNldFRleHQoJ1BhbG9tw7NuOiAnICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNjb3JlKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZWxldGVJdGVtKGl0ZW0pO1xyXG4gICAgICAgIGlmIChwaWdlb24uc2NvcmUgPj0gNSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgRW5kR2FtZVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdFbmRHYW1lU2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IHdpbm5lcklkOiBwbGF5ZXJJZCB9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0RldnVlbHZlIGVsIG9iamV0byBhbCBxdWUgcGVydGVuZWNlIHVuIHNwcml0ZVxyXG4gICAgZ2V0SXRlbUJ5U3ByaXRlKHNwcml0ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLmNodXJybyAmJiB0aGlzLmNodXJyby5zcHJpdGUgPT09IHNwcml0ZSkgcmV0dXJuIHRoaXMuY2h1cnJvO1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXAgJiYgdGhpcy5wb3dlclVwLnNwcml0ZSA9PT0gc3ByaXRlKSByZXR1cm4gdGhpcy5wb3dlclVwO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRWxpbWluYSBkZSBsYSBlc2NlbmEgdW4gb2JqZXRvIGRhZG9cclxuICAgIGRlbGV0ZUl0ZW0oaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLmNodXJybykge1xyXG4gICAgICAgICAgICB0aGlzLmNodXJyby5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2h1cnJvID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLnBvd2VyVXApIHtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5wb3dlclVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Fc3RhYmxlY2UgZWwgZXN0YWRvIGRlIHBhdXNhIGRlbCBqdWVnb1xyXG4gICAgc2V0UGF1c2VTdGF0ZShpc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBpc1BhdXNlZDtcclxuICAgICAgICBpZiAoaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc3VtZSgpIHtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVFbmRlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdQYXVzZWRTdGF0ZSA9ICF0aGlzLmlzUGF1c2VkO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgbmV3IFBhdXNlQ29tbWFuZCh0aGlzLCBuZXdQYXVzZWRTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lc2NLZXkuaXNEb3duICYmICF0aGlzLmVzY1dhc0Rvd24pIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpZ2VvbiA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGlnZW9uKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3TDoSBzdHVuYWRhIG5vIHB1ZWRlIGhhY2VyIG5hZGE6IGRldGVuZXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGlmIChwaWdlb24uc3R1bm5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy9QZXJtaXRpciBrbm9ja2JhY2sgZHVyYW50ZSB1biBjb3J0byBwZXJpb2RvIHRyYXMgcmVjaWJpciBlbCBnb2xwZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFwaWdlb24ua25vY2tiYWNrRXhwaXJlIHx8IHRoaXMudGltZS5ub3cgPiBwaWdlb24ua25vY2tiYWNrRXhwaXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGlnZW9uLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQ2FsY3VsYXIgbW92aW1pZW50byBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGxldCBtb3ZlWCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSBtb3ZlWCA9IC0xO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikgbW92ZVggPSAxO1xyXG5cclxuICAgICAgICAgICAgY29uc3QganVtcCA9IG1hcHBpbmcudXBLZXlPYmouaXNEb3duO1xyXG5cclxuICAgICAgICAgICAgLy9FbnZpYXIgY29tYW5kbyBjb24gbW92aW1pZW50byBob3Jpem9udGFsIHkgc2FsdG9cclxuICAgICAgICAgICAgbGV0IG1vdmVDb21tYW5kID0gbmV3IE1vdmVQaWdlb25Db21tYW5kKHBpZ2VvbiwgbW92ZVgsIGp1bXApO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKG1vdmVDb21tYW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vQXRhcXVlXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmF0dGFja0tleU9iaiAmJiBtYXBwaW5nLmF0dGFja0tleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGF0dGFja0NtZCA9IG5ldyBBdHRhY2tQaWdlb25Db21tYW5kKHBpZ2Vvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3Nvci5wcm9jZXNzKGF0dGFja0NtZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwaWdlb24sIGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kaWNhdG9yID0gdGhpcy5waWdlb25JbmRpY2F0b3JzW2lkXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IHBpZ2Vvbi5zcHJpdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZS55IDwgLTUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIGxhIHBhbG9tYSBlc3RhIGZ1ZXJhIHBvciBhcnJpYmEgbXVlc3RyYSBlbCBpbmRpY2Fkb3JcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3IueCA9IHNwcml0ZS54O1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljYXRvci55ID0gNTA7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1NpIHZ1ZWx2ZSBhIGVudHJhciBzZSBvY3VsdGEgZWwgaWNvbm9cclxuICAgICAgICAgICAgICAgICAgICBpbmRpY2F0b3Iuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgLy9FbGltaW5hciBtw7pzaWNhIGFsIGNlcnJhciBsYSBlc2NlbmEgeSBjZXJycmFyIGxpc3RlbmVyc1xyXG4gICAgb25TaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJnTXVzaWMpIHtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5iZ011c2ljID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICAvL0ZvbmRvIHNlbWl0cmFuc3BhcmVudGVcclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDgwLCAyNzAsIDk2MCwgNTQwLCAweDAwMDAwMCwgMC43KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIwMCwgJ0dhbWUgUGF1c2VkJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdG9uIHBhcmEgcmVhbnVkYXIgZWwganVlZ29cclxuICAgICAgICBjb25zdCByZXN1bWVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDQzMCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCByZXN1bWVCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCgyNTAsIDQzMCwgJ1Jlc3VtZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIHJlc3VtZUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiByZXN1bWVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICByZXN1bWVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZXN1bWVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuZ2V0KGRhdGEub3JpZ2luYWxTY2VuZSkucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL0JvdG9uIHBhcmEgdm9sdmVyIGFsIG1lbnUgcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNDMwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5UZXh0ID0gdGhpcy5hZGQudGV4dCg3MDAsIDQzMCwgJ1JldHVybiB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJ2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgxMClcclxuXHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uRW5jaW1hJykpXHJcbiAgICAgICAgbWVudUJ0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcChkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9QdlAnLCAnYXNzZXRzL3Nwcml0ZXMvTG9nbyBQdlAucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vVGV4dG9zIHkgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvUHZQJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDUwLCAnQ3JlZGl0cycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDE1MCwgJ0dhbWUgZGV2ZWxvcGVkIGJ5IEdCM0QnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDZcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjUwLCAnQXJ0aXN0OicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjkwLCAnSHVnbyBDaGVjYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAzNTAsICdQcm9ncmFtbWVyczonLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDM5MCwgJ0FsZWphbmRybyBNYXLDrW4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNDI1LCAnTHVjYXMgTG9yZW50ZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0NjAsICdNaWd1ZWwgQW1hZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBiYWNrQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNDgwLCA1MTAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNTEwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgLy9UcmFuc2ljacOzbiBhIE1lbnVTY2VuZVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlLW91dCBwcm9ncmVzaXZvXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb250cm9sc1NjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQ4MCwgMjcwLCAnZm9uZG8nKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDUwLCAnQ29udHJvbHMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlcyBKdWdhZG9yIDFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMTUwLCAnUGxheWVyIDEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAyMDAsICdNb3ZlOiBXIC0gQSAtIEQgKFVwLCBMZWZ0LCBSaWdodCknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI0MCwgJ0F0dGFjazogRicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzAwLCAnUGF1c2U6IEVzYycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDVcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Db250cm9sZXMgSnVnYWRvciAyXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDM2MCwgJ1BsYXllciAyIChMb2NhbCknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA0MTAsICdNb3ZlOiDihpEgLSDihpAgLSDihpIgKFVwLCBMZWZ0LCBSaWdodCknLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDQ1MCwgJ0F0dGFjazogU2hpZnQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBiYWNrQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoNDgwLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vQXNlZ3VyYXIgcXVlIGxhIGPDoW1hcmEgZXN0w6EgdG90YWxtZW50ZSB2aXNpYmxlIGFudGVzIGRlIGVtcGV6YXIgZWwgZmFkZS1vdXRcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRHYW1lU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVTY2VuZScpO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ1N3ZWV0VmljdG9yeScsICdhc3NldHMvc291bmRzL1N3ZWV0VmljdG9yeS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0RvdmVuYW5kb1ZpY3RvcnknLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgdmljdG9yaWEgZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGFsb21vblZpY3RvcnknLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgdmljdG9yaWEgcGFsb21vbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlV2lucyhkYXRhLndpbm5lcklkKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVySXNQMSA9IGRhdGEud2lubmVySWQgPT09ICdwbGF5ZXIxJztcclxuICAgICAgICBjb25zdCBiZ0tleSA9IHdpbm5lcklzUDEgPyAnRG92ZW5hbmRvVmljdG9yeScgOiAnUGFsb21vblZpY3RvcnknO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgYmdLZXkpO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3MgZGUgdmljdG9yaWFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjUwLCAnU1VQUkVNRSBWSUNUT1JZJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzEwMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNDQ0NGZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDEwXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9IGRhdGEud2lubmVySWQgPT09ICdwbGF5ZXIxJyA/ICdEb3ZlbmFuZG8gV2lucyEnIDogJ1BhbG9tw7NuIFdpbnMhJztcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMzUwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogOFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL03DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLmJnTXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnU3dlZXRWaWN0b3J5Jywge1xyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICB2b2x1bWU6IDAuNlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmdNdXNpYy5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdzaHV0ZG93bicsIHRoaXMub25TaHV0ZG93biwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ2Rlc3Ryb3knLCB0aGlzLm9uU2h1dGRvd24sIHRoaXMpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IG1lbnVCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ2MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBtZW51QnRuVGV4dCA9IHRoaXMuYWRkLnRleHQoNDgwLCA0NjAsICdSZXR1cm4gdG8gbWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICdmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMTApXHJcblxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuU3ByaXRlLnNldFRleHR1cmUoJ2JvdG9uJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRyYW5zaXRpb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZUJlbG93OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKHByb2dyZXNzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vUGFyYXIgbGEgbcO6c2ljYSBhbCBzYWxpciBkZSBsYSBlc2NlbmFcclxuICAgIG9uU2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYmdNdXNpYykge1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJnTXVzaWMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1BhcmEgYWN0dWFsaXphciBsYXMgdmljdG9yaWFzIGVuIGVsIHNlcnZlciB5IGVuIGxvY2FsXHJcbiAgICBhc3luYyB1cGRhdGVXaW5zKHdpbm5lcklkKSB7XHJcbiAgICBjb25zdCB1c2VySWQgPSB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcklkJyk7XHJcblxyXG4gICAgbGV0IHBsYXllcjFXaW4gPSB0aGlzLnJlZ2lzdHJ5LmdldCgncGxheWVyMVdpbicpO1xyXG4gICAgbGV0IHBsYXllcjJXaW4gPSB0aGlzLnJlZ2lzdHJ5LmdldCgncGxheWVyMldpbicpO1xyXG5cclxuICAgIGlmICh3aW5uZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgcGxheWVyMVdpbisrO1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdwbGF5ZXIxV2luJywgcGxheWVyMVdpbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllcjJXaW4rKztcclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgncGxheWVyMldpbicsIHBsYXllcjJXaW4pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJubyBoYXkgdXN1YXJpb1wiKVxyXG4gICAgICAgIHJldHVybn07IC8vIEludml0YWRvIOKGkiBubyBndWFyZGFywqFcclxuICAgICAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt1c2VySWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMVdpbixcclxuICAgICAgICAgICAgICAgIHBsYXllcjJXaW5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWN0dWFsaXphbmRvIHZpY3RvcmlhczonLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdG9yeVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTdG9yeVNjZW5lJyk7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL3Nwcml0ZXMvcGFudGFsbGEgaW5pY2lvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25FbmNpbWEnLCAnYXNzZXRzL3Nwcml0ZXMvYm90b25fZW5jaW1hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b24nLCAnYXNzZXRzL3Nwcml0ZXMvYm90b24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYWxvbW9uJywgJ2Fzc2V0cy9zcHJpdGVzL3BhbG9tb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkb3ZlbmFuZG8nLCAnYXNzZXRzL3Nwcml0ZXMvZG92ZW5hbmRvLnBuZycpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDApO1xyXG5cclxuICAgICAgICB0aGlzLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgYWxwaGE6IDEsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCA1MCwgJ1N0b3J5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBnZW5lcmFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDEyMCwgJ0luIHNvbWUgbmFtZWxlc3MgY2l0eSwgb24gYSBkYW1wIGFuZCBtdXJreSBuaWdodCwgdHdvIHBpZ2VvbnMgd2FuZGVyZWQgdGhyb3VnaCB0aGUgYWxsZXlzIGluIHNlYXJjaCBvZiBzb21ldGhpbmcgdG8gY2FsbSB0aGVpciBodW5nZXIuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA4MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDgwLCAxNzAsICdUaGUgYWxsdXJpbmcgZnJhZ3JhbmNlIG9mIGEgZmV3IGZvcmdvdHRlbiBjaHVycm9zIGF3YWtlbnMgaW4gdGhlbSBhIGZpZXJjZSBibGVuZCBvZiBzdXJ2aXZhbCBhbmQgZ3JlZWQsIGFuZCBiZWZvcmUgbG9uZyB0aGUgc2l0dWF0aW9uIGVydXB0cyBpbnRvIG9wZW4gd2FyZmFyZS4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIzMCwgJ1Rob3VnaCB0aGVyZSBhcmUgbmVpdGhlciBoZXJvZXMgbm9yIHZpbGxhaW5zLCBlYWNoIGZpcm1seSBiZWxpZXZlcyB0aGF0IHRoZSBjaHVycm8gaXMgaGVycyBieSBiaXJ0aHJpZ2h0LiBNb3JhbGl0eSBmYWx0ZXJzLCBmcmllbmRzaGlwIGZhZGVz4oCmIHRoZXJlIGFyZSBvbmx5IGNodXJyb3MgbGVmdC4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDgwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9IaXN0b3JpYSBEb3ZlbmFuZG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIwMCwgMjcwLCAnRG92ZW5hbmRvJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIyMCwgNDMwLCAnQSBjdW5uaW5nLCBzbGlwcGVyeSBiaXJkLCBza2lsbGVkIGluIHRoZSBhcnQgb2Ygc3RlYWx0aC4gSGlzIGd1aWRpbmcgcHJpbmNpcGxlOiBcIkFsbCBjaHVycm9zIGJlbG9uZyB0byBzb21lb25l4oCmIGFuZCB0aGF0IHNvbWVvbmUgaXMgbWUuXCInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMTZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDMsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICAgICAgd29yZFdyYXA6IHsgd2lkdGg6IDQwMCwgdXNlQWR2YW5jZWRXcmFwOiB0cnVlIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMjAwLCAzNDAsICdkb3ZlbmFuZG8nKS5zZXRPcmlnaW4oMC41KS5zZXRTY2FsZSgxLjUpO1xyXG5cclxuICAgICAgICAvL0hpc3RvcmlhIFBhbG9tb25cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDc3MCwgMjcwLCAnUGFsb23Ds24nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA1XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNzUwLCA0MzAsICdBIHRvdWdoIHBpZ2VvbiB3aXRoIGEgZGFyayBoaXN0b3J5LiBIZSBvbmNlIGJlbG9uZ2VkIHRvIHRoZSBhdmlhbiBtYWZpYSBhbmQgaXMgd2VsbCBhY3F1YWludGVkIHdpdGggdGhlIHBlcmlscyBvZiB0aGUgc3RyZWV0cyBhbmQgZ2FuZyBmaWdodHMuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICAgIHdvcmRXcmFwOiB7IHdpZHRoOiA0MDAsIHVzZUFkdmFuY2VkV3JhcDogdHJ1ZSB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDc3MCwgMzQwLCAncGFsb21vbicpLnNldE9yaWdpbigwLjUpLnNldFNjYWxlKDEuNSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgbWVudUJ0blNwcml0ZSA9IHRoaXMuYWRkLmltYWdlKDQ4MCwgNTAwLCAnYm90b24nKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dCg0ODAsIDUwMCwgJ0JhY2sgdG8gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBtZW51QnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIG1lbnVCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvL1RyYW5zaWNpw7NuIGEgTWVudVNjZW5lXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUtb3V0IHByb2dyZXNpdm9cclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb1B2UCcsICdhc3NldHMvc3ByaXRlcy9Mb2dvIFB2UC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uRW5jaW1hJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uX2VuY2ltYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uJywgJ2Fzc2V0cy9zcHJpdGVzL2JvdG9uLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9iYXInLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2Jhci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3NsaWRlcl9idXR0b24nLCAnYXNzZXRzL3Nwcml0ZXMvc2xpZGVyX2J1dHRvbi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMCk7XHJcblxyXG4gICAgICAgIHRoaXMudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuY2FtZXJhcy5tYWluLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDgwMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0ODAsIDI3MCwgJ2ZvbmRvUHZQJykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy9UZXh0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdPcHRpb25zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDhcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDI0MCwgJ1ZvbHVtZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNlxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL1Bvc2ljacOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYmFyWCA9IDQ4MDtcclxuICAgICAgICBjb25zdCBiYXJZID0gMzAwO1xyXG5cclxuICAgICAgICAvL0JhcnJhXHJcbiAgICAgICAgY29uc3QgYmFyID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9iYXInKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoMzAwLCAyMClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0JvdMOzbiBkZWwgc2xpZGVyXHJcbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoYmFyWCwgYmFyWSwgJ3NsaWRlcl9idXR0b24nKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUoNDAsIDQwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyBkcmFnZ2FibGU6IHRydWUgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL0VzdGFibGVjZXIgcG9zaWNpw7NuIGluaWNpYWwgZGVsIGJvdMOzbiBzZWfDum4gdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICBidXR0b24ueCA9IGJhclggLSAxNTAgKyAodGhpcy5zb3VuZC52b2x1bWUgKiAzMDApO1xyXG5cclxuICAgICAgICAvL0ludGVyYWN0aXZpZGFkXHJcbiAgICAgICAgdGhpcy5pbnB1dC5zZXREcmFnZ2FibGUoYnV0dG9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5vbignZHJhZycsIChwb2ludGVyLCBvYmosIGRyYWdYLCBkcmFnWSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAob2JqICE9PSBidXR0b24pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vTGltaXRhciBtb3ZpbWllbnRvIGVuIFggYSBsYSBiYXJyYVxyXG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gYmFyWCAtIDE1MDtcclxuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBiYXJYICsgMTUwO1xyXG5cclxuICAgICAgICAgICAgYnV0dG9uLnggPSBQaGFzZXIuTWF0aC5DbGFtcChkcmFnWCwgbGVmdCwgcmlnaHQpO1xyXG5cclxuICAgICAgICAgICAgLy9Db252ZXJ0aXIgcG9zaWNpw7NuIGEgdW4gdmFsb3IgMCAtIDFcclxuICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gKGJ1dHRvbi54IC0gbGVmdCkgLyAzMDA7XHJcblxyXG4gICAgICAgICAgICAvL0FwbGljYXIgdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vQm90w7NuIGRlIHZvbHZlciBhbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG5TcHJpdGUgPSB0aGlzLmFkZC5pbWFnZSg0ODAsIDQ1MCwgJ2JvdG9uJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQ4MCwgNDUwLCAnQmFjayB0byBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSk7XHJcbiAgICAgICAgYmFja0J0blNwcml0ZS5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6ICdNZW51U2NlbmUnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxIC0gcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YS5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKTtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvc3ByaXRlcy9wYW50YWxsYSBpbmljaW8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbkVuY2ltYScsICdhc3NldHMvc3ByaXRlcy9ib3Rvbl9lbmNpbWEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvbicsICdhc3NldHMvc3ByaXRlcy9ib3Rvbi5wbmcnKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5jYW1lcmFzLm1haW4sXHJcbiAgICAgICAgICAgIGFscGhhOiAxLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDgwLCAyNzAsICdmb25kbycpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNTAsICdMb2dpbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA4XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENyZWFtb3MgZWwgb2JqZXRvIERPTSBlbiBQaGFzZXJcclxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGgvMjtcclxuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSB0aGlzLmFkZC5kb20oNDM1LCAyMDApLmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsID0gdXNlcklucHV0Lm5vZGU7XHJcblxyXG4gICAgICAgIGVsLnBsYWNlaG9sZGVyID0gXCJVc3VhcmlvXCI7IFxyXG4gICAgICAgIGVsLnR5cGUgPSBcInRleHRcIjtcclxuXHJcbiAgICAgICAgLy8gRXN0aWxvcyByw6FwaWRvc1xyXG4gICAgICAgIGVsLnN0eWxlLndpZHRoID0gJzI1MHB4JztcclxuICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAnNDBweCc7XHJcbiAgICAgICAgZWwuc3R5bGUuZm9udFNpemUgPSAnMjBweCc7XHJcblxyXG4gICAgICAgIC8vIDMuIFBhcmEgZWwgYm90w7NuIGRlIGVudmlhclxyXG4gICAgICAgIGNvbnN0IGxvZ2luQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyLCAzMDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgbG9naW5CdXR0b25UZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXIsIDMwMCwgJ0xvZ2luJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBsb2dpbkJ0blNwcml0ZS5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2dpbkJ0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbkVuY2ltYScpKVxyXG4gICAgICAgIGxvZ2luQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9naW5CdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b24nKSlcclxuICAgICAgICBsb2dpbkJ0blNwcml0ZS5vbigncG9pbnRlcmRvd24nLCBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IGVsLnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdJbnRyb2R1Y2UgdW4gbm9tYnJlIGRlIHVzdWFyaW8nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIDEuIE9idGVuZXIgbGlzdGEgZGUgdXN1YXJpb3NcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJzUmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMnKTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcnNSZXMub2spIHRocm93IG5ldyBFcnJvcignRXJyb3IgYWwgb2J0ZW5lciB1c3VhcmlvcycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgdXNlcnNSZXMuanNvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDIuIEJ1c2NhciB1c3VhcmlvIHBvciBub21icmVcclxuICAgICAgICAgICAgICAgIGxldCB1c2VyID0gdXNlcnMuZmluZCh1ID0+IHUubmFtZSA9PT0gdXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDMuIFNpIG5vIGV4aXN0ZSwgbG8gY3JlYW1vc1xyXG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3JlYXRlUmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvdXNlcnMnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lOiB1c2VybmFtZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZVJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBhbCBjcmVhciB1c3VhcmlvJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVSZXMuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIDQuIEd1YXJkYXIgZGF0b3MgZW4gZWwgcmVnaXN0cnlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdwbGF5ZXIxV2luJywgdXNlci5wbGF5ZXIxV2luID8/IDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3BsYXllcjJXaW4nLCB1c2VyLnBsYXllcjJXaW4gPz8gMCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbmFtZScsIHVzZXIubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgndXNlcklkJywgdXNlci5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gNS4gVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHJhbnNpdGlvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnTWVudVNjZW5lJyxcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlQmVsb3c6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge30sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAocHJvZ3Jlc3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0QWxwaGEoMSAtIHByb2dyZXNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyA2LiBFcnJvciBpbmVzcGVyYWRvIOKGkiBOTyBjYW1iaWFyIGRlIGVzY2VuYVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDM2MCwgJ0Vycm9yIGFsIGNvbmVjdGFyIGNvbiBlbCBzZXJ2aWRvcicsIHtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy9Cb3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7pcclxuICAgICAgICBjb25zdCBiYWNrQnRuU3ByaXRlID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyLCA1MDAsICdib3RvbicpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvblRleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlciwgNTAwLCAnUGxheSBhcyBndWVzdCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG5TcHJpdGUuc2V0VGV4dHVyZSgnYm90b25FbmNpbWEnKSlcclxuICAgICAgICBiYWNrQnRuU3ByaXRlLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0blNwcml0ZS5zZXRUZXh0dXJlKCdib3RvbicpKVxyXG4gICAgICAgIGJhY2tCdG5TcHJpdGUub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL1Bhc2FyIGRhdG9zIHBvciBkZWZlY3RvIGFsIGluaWNpYXIgY29tbyBpbnZpdGFkby5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3BsYXllcjFXaW4nLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3BsYXllcjJXaW4nLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ25hbWUnLCAnSW52aXRhZG8nKTtcclxuICAgICAgICAgICAgLy9Bc2VndXJhciBxdWUgbGEgY8OhbWFyYSBlc3TDoSB0b3RhbG1lbnRlIHZpc2libGUgYW50ZXMgZGUgZW1wZXphciBlbCBmYWRlLW91dFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYXMubWFpbi5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vVHJhbnNpY2nDs24gYSBNZW51U2NlbmVcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS50cmFuc2l0aW9uKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDogJ01lbnVTY2VuZScsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgICAgIG1vdmVCZWxvdzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHt9LFxyXG5cclxuICAgICAgICAgICAgICAgIC8vRmFkZS1vdXQgcHJvZ3Jlc2l2b1xyXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IChwcm9ncmVzcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5tYWluLnNldEFscGhhKDEgLSBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gRnVuY2nDs24gYXV4aWxpYXIgcGFyYSBubyByZXBldGlyIGVzdGlsb3MgQ1NTXHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lcy9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmVzL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENvbnRyb2xzU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Db250cm9sc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgRW5kR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvRW5kR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgU3RvcnlTY2VuZSB9IGZyb20gJy4vc2NlbmVzL1N0b3J5U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZXMvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCB7IExvZ2luU2NlbmUgfSBmcm9tICcuL3NjZW5lcy9Mb2dpblNjZW5lLmpzJzsgXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICB3aWR0aDogOTYwLFxyXG4gIGhlaWdodDogNTQwLFxyXG4gIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICBkb206IHtcclxuICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gIH0sXHJcblxyXG4gIHBoeXNpY3M6IHtcclxuICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgYXJjYWRlOiB7XHJcbiAgICAgIGdyYXZpdHk6IHsgeTogMTIwMCB9LFxyXG4gICAgICBkZWJ1ZzogZmFsc2VcclxuICAgIH1cclxuICB9LFxyXG4gIHNjZW5lOiBbTG9naW5TY2VuZSwgTWVudVNjZW5lLCBHYW1lU2NlbmUsIFBhdXNlU2NlbmUsIENyZWRpdHNTY2VuZSwgQ29udHJvbHNTY2VuZSwgRW5kR2FtZVNjZW5lLCBTdG9yeVNjZW5lLCBPcHRpb25zU2NlbmUsIENvbm5lY3Rpb25Mb3N0U2NlbmVdLFxyXG4gIGJhY2tncm91bmRDb2xvcjogJyMxYTJhMmUnLFxyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7Il0sIm5hbWVzIjpbIlBoYXNlciIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsIk1lbnVTY2VuZSIsInN1cGVyIiwicHJlbG9hZCIsImxvYWQiLCJhdWRpbyIsImltYWdlIiwiY3JlYXRlIiwiY2VudGVyIiwiY2FtZXJhcyIsIm1haW4iLCJ3aWR0aCIsImxlZnQiLCJyaWdodCIsInNldEFscGhhIiwiYWRkIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwiZHVyYXRpb24iLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldE9yaWdpbiIsImNvbm5lY3Rpb25UZXh0IiwidXNlcm5hbWVUZXh0IiwicmVnaXN0cnkiLCJnZXQiLCJwbGF5ZXIxVGV4dCIsInBsYXllcjJUZXh0IiwiYmdNdXNpYyIsInNvdW5kIiwibG9vcCIsInZvbHVtZSIsInBsYXkiLCJsb2NhbEJ0blNwcml0ZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInNldERlcHRoIiwib24iLCJzZXRUZXh0dXJlIiwic3RvcCIsImRlc3Ryb3kiLCJzY2VuZSIsInRyYW5zaXRpb24iLCJ0YXJnZXQiLCJtb3ZlQmVsb3ciLCJvblVwZGF0ZSIsInByb2dyZXNzIiwiY3JlZGl0c0J0blNwcml0ZSIsIm9wdGlvbnNCdG5TcHJpdGUiLCJjb250cm9sc0J0blNwcml0ZSIsInN0b3J5QnRuU3ByaXRlIiwib25saW5lQnRuU3ByaXRlIiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJpc0FjdGl2ZSIsInNldFRleHQiLCJzZXRDb2xvciIsInNldFN0cm9rZSIsInNodXRkb3duIiwiUGlnZW9uIiwiaWQiLCJ4IiwieSIsImNoYXJhY3RlciIsInNjb3JlIiwic3BlZWQiLCJqdW1wU3BlZWQiLCJhdHRhY2tSYW5nZSIsImF0dGFja0ZvcmNlIiwic3R1bkZvcmNlIiwiYXR0YWNrQ29vbGRvd24iLCJsYXN0QXR0YWNrVGltZSIsImZhY2luZyIsInN0dW5uZWQiLCJzdHVuVGltZW91dCIsImRlZmF1bHRTdHVuRHVyYXRpb24iLCJrbm9ja2JhY2tFeHBpcmUiLCJpc0F0dGFja2luZyIsInRleHR1cmVLZXkiLCJzcHJpdGUiLCJwaHlzaWNzIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5IiwicGlnZW9uIiwiaW52ZXJ0RmxpcEZvck1vdmVtZW50Iiwic2V0RmxpcFgiLCJjYW5BdHRhY2siLCJ0aW1lIiwibWFya0F0dGFja2VkIiwicGxheUFuaW1hdGlvbiIsImFuaW1OYW1lIiwia2V5IiwiYW5pbXMiLCJleGlzdHMiLCJ3YXJuIiwidGFrZUhpdCIsImtub2NrYmFja1giLCJzZXRWZWxvY2l0eVgiLCJzZXRUaW50IiwiZGVsYXllZENhbGwiLCJjbGVhclRpbnQiLCJzdHVuIiwiZHVyYXRpb25NcyIsInN0YXJ0QXR0YWNrQW5pbWF0aW9uIiwiZW5kQXR0YWNrQW5pbWF0aW9uIiwidmVsb2NpdHkiLCJzaG93QXR0YWNrU3ByaXRlIiwiYXR0YWNrU3ByaXRlIiwiZGVwdGgiLCJvZmZzZXRYIiwiZm9sbG93RXZlbnQiLCJhZGRFdmVudCIsImRlbGF5IiwicmVtb3ZlIiwiYWRkU2NvcmUiLCJ2YWx1ZSIsImxvZyIsImFwcGx5TW9kaWZpZXIiLCJwcm9wZXJ0eSIsImFtb3VudCIsImhhc093blByb3BlcnR5IiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwicHJvY2VzcyIsImNvbW1hbmQiLCJleGVjdXRlIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVQaWdlb25Db21tYW5kIiwibW92ZVgiLCJqdW1wIiwiZGVzaXJlZEZsaXAiLCJvbkZsb29yIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsInNldFZlbG9jaXR5WSIsIlBhdXNlQ29tbWFuZCIsImlzUGF1c2VkIiwic2V0UGF1c2VTdGF0ZSIsIkF0dGFja1BpZ2VvbkNvbW1hbmQiLCJkaXIiLCJoaXRib3giLCJzZXRWaXNpYmxlIiwic2V0QWxsb3dHcmF2aXR5Iiwic2V0SW1tb3ZhYmxlIiwic2V0U2l6ZSIsImJhc2VIZWlnaHQiLCJvdmVybGFwIiwicGxheWVyU3ByaXRlcyIsImhiIiwidGFyZ2V0U3ByaXRlIiwidGFyZ2V0UGlnZW9uIiwia25vY2siLCJ3b3JsZCIsInJlbW92ZUNvbGxpZGVyIiwiSXRlbSIsInNldERpc3BsYXlTaXplIiwiZXhwaXJlVGltZXIiLCJhcHBseUVmZmVjdCIsInNob3dJdGVtSWNvbiIsImljb25LZXkiLCJhY3RpdmVJY29uU3ByaXRlIiwiYWN0aXZlSWNvblRpbWVyIiwiaWNvblgiLCJzY29yZVRleHRQMSIsInNjb3JlVGV4dFAyIiwiQ2h1cnJvIiwiQXZlbmEiLCJQbHVtYSIsIkJhc3VyYSIsIkdhbWVTY2VuZSIsImluaXQiLCJpbnB1dE1hcHBpbmdzIiwiZXNjV2FzRG93biIsImdhbWVFbmRlZCIsInByb2Nlc3NvciIsImNodXJybyIsInBvd2VyVXAiLCJpdGVtU3Bhd25Qb3NpdGlvbnMiLCJwb3dlclVwcyIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwib25Db25uZWN0aW9uTG9zdCIsImNyZWF0ZVBsYXRmb3JtcyIsInNldFVwUGxheWVycyIsInBpZ2VvbkluZGljYXRvcnMiLCJwbGF5ZXIxIiwicGxheWVyMiIsImZyYW1lcyIsImZyYW1lIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJzdGFydCIsImVuZCIsImZvbnRTdHlsZSIsImdyb3VwIiwiY29sbGlkZXIiLCJwbGF0Zm9ybXMiLCJlc2NLZXkiLCJpbnB1dCIsImtleWJvYXJkIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsIkVTQyIsInNwYXduSXRlbSIsIkFycmF5IiwiR2V0UmFuZG9tIiwiZXZlbnRzIiwib25TaHV0ZG93biIsInBhdXNlIiwibGF1bmNoIiwicHJldmlvdXNTY2VuZSIsInN0YXRpY0dyb3VwIiwicmVmcmVzaEJvZHkiLCJsZWZ0UGlnZW9uIiwicmlnaHRQaWdlb24iLCJmbGlwWCIsInNldCIsInBsYXllcklkIiwidXBLZXkiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJhdHRhY2tLZXkiLCJtYXAiLCJjb25maWciLCJ1cEtleU9iaiIsInJpZ2h0S2V5T2JqIiwibGVmdEtleU9iaiIsImF0dGFja0tleU9iaiIsInR5cGUiLCJyZWZOYW1lIiwiSXRlbUNsYXNzIiwiYXZhaWxhYmxlUG9zaXRpb25zIiwiZmlsdGVyIiwicG9zIiwiaXRlbSIsIm9uSXRlbVBpY2t1cCIsImxpZmV0aW1lIiwiZGVsZXRlSXRlbSIsInBpZ2VvblNwcml0ZSIsIml0ZW1TcHJpdGUiLCJnZXRJdGVtQnlTcHJpdGUiLCJ3aW5uZXJJZCIsIm9yaWdpbmFsU2NlbmUiLCJyZXN1bWUiLCJ0b2dnbGVQYXVzZSIsIm5ld1BhdXNlZFN0YXRlIiwidXBkYXRlIiwiaXNEb3duIiwibWFwcGluZyIsIm1vdmVDb21tYW5kIiwiYXR0YWNrQ21kIiwiaW5kaWNhdG9yIiwiUGF1c2VTY2VuZSIsInJlY3RhbmdsZSIsInJlc3VtZUJ0blNwcml0ZSIsIm1lbnVCdG5TcHJpdGUiLCJDcmVkaXRzU2NlbmUiLCJzZXRTY2FsZSIsImJhY2tCdG5TcHJpdGUiLCJDb250cm9sc1NjZW5lIiwiRW5kR2FtZVNjZW5lIiwidXBkYXRlV2lucyIsImJnS2V5Iiwid2lubmVyVGV4dCIsInVzZXJJZCIsInBsYXllcjFXaW4iLCJwbGF5ZXIyV2luIiwiU3RvcnlTY2VuZSIsImFsaWduIiwid29yZFdyYXAiLCJ1c2VBZHZhbmNlZFdyYXAiLCJPcHRpb25zU2NlbmUiLCJidXR0b24iLCJkcmFnZ2FibGUiLCJiYXJYIiwic2V0RHJhZ2dhYmxlIiwicG9pbnRlciIsIm9iaiIsImRyYWdYIiwiZHJhZ1kiLCJDbGFtcCIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJMb2dpblNjZW5lIiwiZWwiLCJkb20iLCJjcmVhdGVFbGVtZW50Iiwibm9kZSIsInBsYWNlaG9sZGVyIiwic3R5bGUiLCJoZWlnaHQiLCJsb2dpbkJ0blNwcml0ZSIsImFzeW5jIiwidXNlcm5hbWUiLCJ0cmltIiwidXNlcnNSZXMiLCJFcnJvciIsInVzZXIiLCJmaW5kIiwidSIsIm5hbWUiLCJjcmVhdGVSZXMiLCJhbGVydCIsInBhcmVudCIsImNyZWF0ZUNvbnRhaW5lciIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9